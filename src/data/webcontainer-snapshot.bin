¡dŠ¨app.html¡f¡cÅ,<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App</title>
    <style>
      html,body,#mount{height:100%;margin:0}
      /* Ensure scrolling happens inside the app mount, not the iframe viewport */
      #mount{overflow:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}
      body{background:#0b1020;overflow:hidden}
    </style>
  </head>
  <body>
    <div id="mount" style="height:100%"></div>
    <div id="vite-hmr-mask" style="position:fixed;inset:0;background:#0b1020;opacity:0;pointer-events:none;transition:opacity .12s ease;z-index:2147483646"></div>
    <script type="module">
      // Disable Vite error overlay in iframe
      if (import.meta.hot) {
        import.meta.hot.on('vite:error', (payload) => {
          // Prevent Vite error overlay from showing
          console.error('[App iframe] Vite error:', payload);
        });
        
      }
      
      // Block vite-error-overlay custom element
      const originalDefine = customElements.define;
      customElements.define = function(name, constructor, options) {
        if (name === 'vite-error-overlay') {
          console.log('[App iframe] Blocked vite-error-overlay');
          return;
        }
        return originalDefine.call(this, name, constructor, options);
      };

      // Watch for and remove any vite-error-overlay elements
      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          mutation.addedNodes.forEach((node) => {
            if (node.nodeName === 'VITE-ERROR-OVERLAY' || 
                (node.tagName && node.tagName.toLowerCase() === 'vite-error-overlay')) {
              console.log('[App iframe] Removing vite-error-overlay');
              node.remove();
            }
          });
        });
      });
      observer.observe(document.body, { childList: true, subtree: true });

      // Immediately isolate this iframe from parent errors
      window.addEventListener('error', (e) => {
        e.stopPropagation();
        e.preventDefault();
        console.error('[App iframe] window error:', e.error || e.message);
        showOverlay(String(e?.error?.message || e?.message || 'Unknown error'));
        // Forward runtime error to host for automatic diagnostics
        try {
          window.top?.postMessage({
            type: 'APP_RUNTIME_ERROR',
            message: String(e?.error?.message || e?.message || 'Unknown error'),
            stack: String((e?.error && e.error.stack) || ''),
            pathname: location.pathname,
            search: location.search,
            hash: location.hash
          }, '*');
        } catch {}
      }, true);
      
      window.addEventListener('unhandledrejection', (e) => {
        e.stopPropagation();
        e.preventDefault();
        console.error('[App iframe] unhandledrejection:', e.reason);
        showOverlay(String(e?.reason?.message || e?.reason || 'Unhandled promise rejection'));
        // Forward promise rejection to host for automatic diagnostics
        try {
          window.top?.postMessage({
            type: 'APP_RUNTIME_ERROR',
            message: String(e?.reason?.message || e?.reason || 'Unhandled promise rejection'),
            stack: String((e?.reason && e.reason.stack) || ''),
            pathname: location.pathname,
            search: location.search,
            hash: location.hash
          }, '*');
        } catch {}
      }, true);

      // Prevent errors from bubbling to parent
      const originalConsoleError = console.error;
      console.error = function(...args) {
        try {
          originalConsoleError.apply(console, ['[App iframe]', ...args]);
        } catch {}
        // Forward to host for automatic diagnostics
        try {
          const safeArgs = args.map(a => {
            try {
              if (typeof a === 'string') return a;
              if (a && typeof a === 'object') return a.message || JSON.stringify(a).slice(0, 1200);
              return String(a);
            } catch { return '[unserializable]'; }
          });
          window.top?.postMessage({
            type: 'APP_CONSOLE',
            level: 'error',
            args: safeArgs,
            pathname: location.pathname,
            search: location.search,
            hash: location.hash
          }, '*');
        } catch {}
      };

      // Also forward console.warn (lower priority; host may ignore)
      const originalConsoleWarn = console.warn;
      console.warn = function(...args) {
        try { originalConsoleWarn.apply(console, ['[App iframe]', ...args]); } catch {}
        try {
          const safeArgs = args.map(a => {
            try {
              if (typeof a === 'string') return a;
              if (a && typeof a === 'object') return a.message || JSON.stringify(a).slice(0, 800);
              return String(a);
            } catch { return '[unserializable]'; }
          });
          window.top?.postMessage({
            type: 'APP_CONSOLE',
            level: 'warn',
            args: safeArgs,
            pathname: location.pathname,
            search: location.search,
            hash: location.hash
          }, '*');
        } catch {}
      };


      let contextPointerActive = false;
      let contextPointerId = null;

      const sendContextPointer = (phase, evt) => {
        try {
          const frame = window.frameElement;
          if (!frame) return;
          const rect = frame.getBoundingClientRect();
          const appId = frame.getAttribute('data-app-id') || null;
          window.parent?.postMessage({
            type: 'FYOS_DESKTOP_CONTEXT_POINTER',
            phase,
            pointerId: evt.pointerId,
            clientX: rect.left + evt.clientX,
            clientY: rect.top + evt.clientY,
            button: evt.button,
            buttons: evt.buttons,
            pointerType: evt.pointerType,
            appId,
          }, '*');
        } catch {}
      };

      window.addEventListener('contextmenu', (evt) => {
        evt.preventDefault();
      });

      window.addEventListener('pointerdown', (evt) => {
        if (evt.button !== 2) return;
        contextPointerActive = true;
        contextPointerId = evt.pointerId;
        try { evt.target?.setPointerCapture?.(evt.pointerId); } catch {}
        evt.preventDefault();
        evt.stopPropagation();
        sendContextPointer('down', evt);
      }, true);

      window.addEventListener('pointermove', (evt) => {
        if (!contextPointerActive || contextPointerId !== evt.pointerId) return;
        evt.preventDefault();
        sendContextPointer('move', evt);
      }, true);

      const finalizeContextPointer = (phase, evt) => {
        if (!contextPointerActive || contextPointerId !== evt.pointerId) return;
        evt.preventDefault();
        sendContextPointer(phase, evt);
        try { evt.target?.releasePointerCapture?.(evt.pointerId); } catch {}
        contextPointerActive = false;
        contextPointerId = null;
      };

      window.addEventListener('pointerup', (evt) => finalizeContextPointer('up', evt), true);
      window.addEventListener('pointercancel', (evt) => finalizeContextPointer('cancel', evt), true);

      
      import { createRoot } from '/src/iframe-root.js';
      const loaders = import.meta.glob('/src/apps/**/index.{tsx,ts,jsx,js}');
      // Expect query: ?path=/src/apps/xxx/index.tsx&name=...&id=...
      const params = new URLSearchParams(location.search)
      const path = params.get('path')
      const name = params.get('name') || 'App'
      const mountEl = document.getElementById('mount')
      
      // Import CSS for styling (always load; URL flags can disable if set to 0)
      // Flag: ui=0 (disable desktop chrome)
      try {
        const loadUi = params.get('ui') !== '0'
        if (loadUi) {
          await import('/src/desktop/styles.css')
          console.log('[App iframe] Desktop UI CSS loaded')
        }
      } catch (e) {
        console.error('[App iframe] CSS import error:', e)
      }
      
      // Global error isolation inside iframe
      const overlay = document.createElement('div')
      overlay.style.cssText = 'position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(255,255,255,0.85);color:#991b1b;text-align:center;z-index:99999;padding:16px'
      overlay.innerHTML = '<div style="max-width:560px"><div style="font-weight:600;margin-bottom:6px">This app encountered an error</div><div id="errMsg" style="font-size:12px;color:#7f1d1d;white-space:pre-wrap"></div><button id="reloadBtn" style="margin-top:12px;padding:6px 10px;border-radius:6px;border:1px solid #fecaca;background:#fee2e2;color:#7f1d1d">Reload app</button></div>'
      document.body.appendChild(overlay)
      overlay.querySelector('#reloadBtn')?.addEventListener('click', ()=> location.reload())
      
      function showOverlay(msg){
        const el = overlay.querySelector('#errMsg')
        if (el) el.textContent = msg
        overlay.style.display = 'flex'
      }
      if (!path){
        mountEl.textContent = 'Missing app path'
      } else {
        // Wrap everything in try-catch to prevent errors from bubbling up
        try {
          // Load the module and mount default export as a React component
          const load = loaders[path] ? loaders[path] : (p)=> import(/* @vite-ignore */ p);
          Promise.resolve(load(path)).then(mod => {
            try {
              const Comp = mod?.default
              createRoot(mountEl, Comp, name)
            } catch (renderErr) {
              console.error('[App iframe] component render error:', renderErr)
              showOverlay('App render error: ' + renderErr.message)
            }
          }).catch(err => {
            console.error('[App iframe] module load error:', err)
            showOverlay('Failed to load app: ' + err)
          })
        } catch (err) {
          console.error('[App iframe] setup error:', err)
          showOverlay('App setup error: ' + err)
        }
      }

      // HMR anti-flash + gating inside app iframe
      try {
        const mask = document.getElementById('vite-hmr-mask')
        const show = () => { if (mask) { mask.style.opacity = '.9' } }
        const hideSoon = () => { setTimeout(() => { if (mask) mask.style.opacity = '0' }, 120) }
        if (import.meta && import.meta.hot) {
          // Gating: drop HMR updates while paused; resume on run end with a reload
          let paused = false
          window.addEventListener('message', (e) => {
            try {
              if (!e || !e.data || typeof e.data.type !== 'string') return
              if (e.data.type === 'FYOS_AGENT_RUN_STARTED') paused = true
              if (e.data.type === 'FYOS_AGENT_RUN_ENDED') { paused = false; location.reload() }
            } catch {}
          })
          import.meta.hot.on('vite:beforeUpdate', (payload) => { if (paused) return; show() })
          import.meta.hot.on('vite:afterUpdate', (payload) => { if (paused) return; hideSoon() })
          import.meta.hot.on('full-reload', (payload) => { if (paused) return; show() })
        }
      } catch {}
    </script>
  </body>
  </html>
ªindex.html¡f¡cÅğ<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="dark light" />
    <title>macOS Desktop</title>
    <style>html,body,#root{height:100%;width:100%;margin:0;padding:0}html,body{background:#0b1020}#root{position:relative}</style>
    <!-- Preload critical CSS to reduce FOUC during HMR/full reloads -->
    <link rel="preload" href="/src/desktop/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/src/desktop/styles.css"></noscript>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>¬package.json¡f¡cÅ½{
  "name": "mac-desktop",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@types/node": "^24.3.1",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.43",
    "@types/react-dom": "^18.2.17",
    "@vitejs/plugin-react": "^4.2.1",
    "vite": "^5.0.8"
  }
}®pnpm-lock.yaml¡f¡cÅ…lockfileVersion: '9.0'

settings:
  autoInstallPeers: true
  excludeLinksFromLockfile: false

importers:

  .:
    dependencies:
      '@types/node':
        specifier: ^24.3.1
        version: 24.10.1
      react:
        specifier: ^18.2.0
        version: 18.3.1
      react-dom:
        specifier: ^18.2.0
        version: 18.3.1(react@18.3.1)
    devDependencies:
      '@types/react':
        specifier: ^18.2.43
        version: 18.3.26
      '@types/react-dom':
        specifier: ^18.2.17
        version: 18.3.7(@types/react@18.3.26)
      '@vitejs/plugin-react':
        specifier: ^4.2.1
        version: 4.7.0(vite@5.4.21(@types/node@24.10.1))
      vite:
        specifier: ^5.0.8
        version: 5.4.21(@types/node@24.10.1)

packages:

  '@babel/code-frame@7.27.1':
    resolution: {integrity: sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==}
    engines: {node: '>=6.9.0'}

  '@babel/compat-data@7.28.5':
    resolution: {integrity: sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==}
    engines: {node: '>=6.9.0'}

  '@babel/core@7.28.5':
    resolution: {integrity: sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==}
    engines: {node: '>=6.9.0'}

  '@babel/generator@7.28.5':
    resolution: {integrity: sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-compilation-targets@7.27.2':
    resolution: {integrity: sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-globals@7.28.0':
    resolution: {integrity: sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-module-imports@7.27.1':
    resolution: {integrity: sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-module-transforms@7.28.3':
    resolution: {integrity: sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==}
    engines: {node: '>=6.9.0'}
    peerDependencies:
      '@babel/core': ^7.0.0

  '@babel/helper-plugin-utils@7.27.1':
    resolution: {integrity: sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-string-parser@7.27.1':
    resolution: {integrity: sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-validator-identifier@7.28.5':
    resolution: {integrity: sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==}
    engines: {node: '>=6.9.0'}

  '@babel/helper-validator-option@7.27.1':
    resolution: {integrity: sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==}
    engines: {node: '>=6.9.0'}

  '@babel/helpers@7.28.4':
    resolution: {integrity: sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==}
    engines: {node: '>=6.9.0'}

  '@babel/parser@7.28.5':
    resolution: {integrity: sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==}
    engines: {node: '>=6.0.0'}
    hasBin: true

  '@babel/plugin-transform-react-jsx-self@7.27.1':
    resolution: {integrity: sha512-6UzkCs+ejGdZ5mFFC/OCUrv028ab2fp1znZmCZjAOBKiBK2jXD1O+BPSfX8X2qjJ75fZBMSnQn3Rq2mrBJK2mw==}
    engines: {node: '>=6.9.0'}
    peerDependencies:
      '@babel/core': ^7.0.0-0

  '@babel/plugin-transform-react-jsx-source@7.27.1':
    resolution: {integrity: sha512-zbwoTsBruTeKB9hSq73ha66iFeJHuaFkUbwvqElnygoNbj/jHRsSeokowZFN3CZ64IvEqcmmkVe89OPXc7ldAw==}
    engines: {node: '>=6.9.0'}
    peerDependencies:
      '@babel/core': ^7.0.0-0

  '@babel/template@7.27.2':
    resolution: {integrity: sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==}
    engines: {node: '>=6.9.0'}

  '@babel/traverse@7.28.5':
    resolution: {integrity: sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==}
    engines: {node: '>=6.9.0'}

  '@babel/types@7.28.5':
    resolution: {integrity: sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==}
    engines: {node: '>=6.9.0'}

  '@esbuild/aix-ppc64@0.21.5':
    resolution: {integrity: sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==}
    engines: {node: '>=12'}
    cpu: [ppc64]
    os: [aix]

  '@esbuild/android-arm64@0.21.5':
    resolution: {integrity: sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==}
    engines: {node: '>=12'}
    cpu: [arm64]
    os: [android]

  '@esbuild/android-arm@0.21.5':
    resolution: {integrity: sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==}
    engines: {node: '>=12'}
    cpu: [arm]
    os: [android]

  '@esbuild/android-x64@0.21.5':
    resolution: {integrity: sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [android]

  '@esbuild/darwin-arm64@0.21.5':
    resolution: {integrity: sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==}
    engines: {node: '>=12'}
    cpu: [arm64]
    os: [darwin]

  '@esbuild/darwin-x64@0.21.5':
    resolution: {integrity: sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [darwin]

  '@esbuild/freebsd-arm64@0.21.5':
    resolution: {integrity: sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==}
    engines: {node: '>=12'}
    cpu: [arm64]
    os: [freebsd]

  '@esbuild/freebsd-x64@0.21.5':
    resolution: {integrity: sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [freebsd]

  '@esbuild/linux-arm64@0.21.5':
    resolution: {integrity: sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==}
    engines: {node: '>=12'}
    cpu: [arm64]
    os: [linux]

  '@esbuild/linux-arm@0.21.5':
    resolution: {integrity: sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==}
    engines: {node: '>=12'}
    cpu: [arm]
    os: [linux]

  '@esbuild/linux-ia32@0.21.5':
    resolution: {integrity: sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==}
    engines: {node: '>=12'}
    cpu: [ia32]
    os: [linux]

  '@esbuild/linux-loong64@0.21.5':
    resolution: {integrity: sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==}
    engines: {node: '>=12'}
    cpu: [loong64]
    os: [linux]

  '@esbuild/linux-mips64el@0.21.5':
    resolution: {integrity: sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==}
    engines: {node: '>=12'}
    cpu: [mips64el]
    os: [linux]

  '@esbuild/linux-ppc64@0.21.5':
    resolution: {integrity: sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==}
    engines: {node: '>=12'}
    cpu: [ppc64]
    os: [linux]

  '@esbuild/linux-riscv64@0.21.5':
    resolution: {integrity: sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==}
    engines: {node: '>=12'}
    cpu: [riscv64]
    os: [linux]

  '@esbuild/linux-s390x@0.21.5':
    resolution: {integrity: sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==}
    engines: {node: '>=12'}
    cpu: [s390x]
    os: [linux]

  '@esbuild/linux-x64@0.21.5':
    resolution: {integrity: sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [linux]

  '@esbuild/netbsd-x64@0.21.5':
    resolution: {integrity: sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [netbsd]

  '@esbuild/openbsd-x64@0.21.5':
    resolution: {integrity: sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [openbsd]

  '@esbuild/sunos-x64@0.21.5':
    resolution: {integrity: sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [sunos]

  '@esbuild/win32-arm64@0.21.5':
    resolution: {integrity: sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==}
    engines: {node: '>=12'}
    cpu: [arm64]
    os: [win32]

  '@esbuild/win32-ia32@0.21.5':
    resolution: {integrity: sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==}
    engines: {node: '>=12'}
    cpu: [ia32]
    os: [win32]

  '@esbuild/win32-x64@0.21.5':
    resolution: {integrity: sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==}
    engines: {node: '>=12'}
    cpu: [x64]
    os: [win32]

  '@jridgewell/gen-mapping@0.3.13':
    resolution: {integrity: sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==}

  '@jridgewell/remapping@2.3.5':
    resolution: {integrity: sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==}

  '@jridgewell/resolve-uri@3.1.2':
    resolution: {integrity: sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==}
    engines: {node: '>=6.0.0'}

  '@jridgewell/sourcemap-codec@1.5.5':
    resolution: {integrity: sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==}

  '@jridgewell/trace-mapping@0.3.31':
    resolution: {integrity: sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==}

  '@rolldown/pluginutils@1.0.0-beta.27':
    resolution: {integrity: sha512-+d0F4MKMCbeVUJwG96uQ4SgAznZNSq93I3V+9NHA4OpvqG8mRCpGdKmK8l/dl02h2CCDHwW2FqilnTyDcAnqjA==}

  '@rollup/rollup-android-arm-eabi@4.53.2':
    resolution: {integrity: sha512-yDPzwsgiFO26RJA4nZo8I+xqzh7sJTZIWQOxn+/XOdPE31lAvLIYCKqjV+lNH/vxE2L2iH3plKxDCRK6i+CwhA==}
    cpu: [arm]
    os: [android]

  '@rollup/rollup-android-arm64@4.53.2':
    resolution: {integrity: sha512-k8FontTxIE7b0/OGKeSN5B6j25EuppBcWM33Z19JoVT7UTXFSo3D9CdU39wGTeb29NO3XxpMNauh09B+Ibw+9g==}
    cpu: [arm64]
    os: [android]

  '@rollup/rollup-darwin-arm64@4.53.2':
    resolution: {integrity: sha512-A6s4gJpomNBtJ2yioj8bflM2oogDwzUiMl2yNJ2v9E7++sHrSrsQ29fOfn5DM/iCzpWcebNYEdXpaK4tr2RhfQ==}
    cpu: [arm64]
    os: [darwin]

  '@rollup/rollup-darwin-x64@4.53.2':
    resolution: {integrity: sha512-e6XqVmXlHrBlG56obu9gDRPW3O3hLxpwHpLsBJvuI8qqnsrtSZ9ERoWUXtPOkY8c78WghyPHZdmPhHLWNdAGEw==}
    cpu: [x64]
    os: [darwin]

  '@rollup/rollup-freebsd-arm64@4.53.2':
    resolution: {integrity: sha512-v0E9lJW8VsrwPux5Qe5CwmH/CF/2mQs6xU1MF3nmUxmZUCHazCjLgYvToOk+YuuUqLQBio1qkkREhxhc656ViA==}
    cpu: [arm64]
    os: [freebsd]

  '@rollup/rollup-freebsd-x64@4.53.2':
    resolution: {integrity: sha512-ClAmAPx3ZCHtp6ysl4XEhWU69GUB1D+s7G9YjHGhIGCSrsg00nEGRRZHmINYxkdoJehde8VIsDC5t9C0gb6yqA==}
    cpu: [x64]
    os: [freebsd]

  '@rollup/rollup-linux-arm-gnueabihf@4.53.2':
    resolution: {integrity: sha512-EPlb95nUsz6Dd9Qy13fI5kUPXNSljaG9FiJ4YUGU1O/Q77i5DYFW5KR8g1OzTcdZUqQQ1KdDqsTohdFVwCwjqg==}
    cpu: [arm]
    os: [linux]

  '@rollup/rollup-linux-arm-musleabihf@4.53.2':
    resolution: {integrity: sha512-BOmnVW+khAUX+YZvNfa0tGTEMVVEerOxN0pDk2E6N6DsEIa2Ctj48FOMfNDdrwinocKaC7YXUZ1pHlKpnkja/Q==}
    cpu: [arm]
    os: [linux]

  '@rollup/rollup-linux-arm64-gnu@4.53.2':
    resolution: {integrity: sha512-Xt2byDZ+6OVNuREgBXr4+CZDJtrVso5woFtpKdGPhpTPHcNG7D8YXeQzpNbFRxzTVqJf7kvPMCub/pcGUWgBjA==}
    cpu: [arm64]
    os: [linux]

  '@rollup/rollup-linux-arm64-musl@4.53.2':
    resolution: {integrity: sha512-+LdZSldy/I9N8+klim/Y1HsKbJ3BbInHav5qE9Iy77dtHC/pibw1SR/fXlWyAk0ThnpRKoODwnAuSjqxFRDHUQ==}
    cpu: [arm64]
    os: [linux]

  '@rollup/rollup-linux-loong64-gnu@4.53.2':
    resolution: {integrity: sha512-8ms8sjmyc1jWJS6WdNSA23rEfdjWB30LH8Wqj0Cqvv7qSHnvw6kgMMXRdop6hkmGPlyYBdRPkjJnj3KCUHV/uQ==}
    cpu: [loong64]
    os: [linux]

  '@rollup/rollup-linux-ppc64-gnu@4.53.2':
    resolution: {integrity: sha512-3HRQLUQbpBDMmzoxPJYd3W6vrVHOo2cVW8RUo87Xz0JPJcBLBr5kZ1pGcQAhdZgX9VV7NbGNipah1omKKe23/g==}
    cpu: [ppc64]
    os: [linux]

  '@rollup/rollup-linux-riscv64-gnu@4.53.2':
    resolution: {integrity: sha512-fMjKi+ojnmIvhk34gZP94vjogXNNUKMEYs+EDaB/5TG/wUkoeua7p7VCHnE6T2Tx+iaghAqQX8teQzcvrYpaQA==}
    cpu: [riscv64]
    os: [linux]

  '@rollup/rollup-linux-riscv64-musl@4.53.2':
    resolution: {integrity: sha512-XuGFGU+VwUUV5kLvoAdi0Wz5Xbh2SrjIxCtZj6Wq8MDp4bflb/+ThZsVxokM7n0pcbkEr2h5/pzqzDYI7cCgLQ==}
    cpu: [riscv64]
    os: [linux]

  '@rollup/rollup-linux-s390x-gnu@4.53.2':
    resolution: {integrity: sha512-w6yjZF0P+NGzWR3AXWX9zc0DNEGdtvykB03uhonSHMRa+oWA6novflo2WaJr6JZakG2ucsyb+rvhrKac6NIy+w==}
    cpu: [s390x]
    os: [linux]

  '@rollup/rollup-linux-x64-gnu@4.53.2':
    resolution: {integrity: sha512-yo8d6tdfdeBArzC7T/PnHd7OypfI9cbuZzPnzLJIyKYFhAQ8SvlkKtKBMbXDxe1h03Rcr7u++nFS7tqXz87Gtw==}
    cpu: [x64]
    os: [linux]

  '@rollup/rollup-linux-x64-musl@4.53.2':
    resolution: {integrity: sha512-ah59c1YkCxKExPP8O9PwOvs+XRLKwh/mV+3YdKqQ5AMQ0r4M4ZDuOrpWkUaqO7fzAHdINzV9tEVu8vNw48z0lA==}
    cpu: [x64]
    os: [linux]

  '@rollup/rollup-openharmony-arm64@4.53.2':
    resolution: {integrity: sha512-4VEd19Wmhr+Zy7hbUsFZ6YXEiP48hE//KPLCSVNY5RMGX2/7HZ+QkN55a3atM1C/BZCGIgqN+xrVgtdak2S9+A==}
    cpu: [arm64]
    os: [openharmony]

  '@rollup/rollup-win32-arm64-msvc@4.53.2':
    resolution: {integrity: sha512-IlbHFYc/pQCgew/d5fslcy1KEaYVCJ44G8pajugd8VoOEI8ODhtb/j8XMhLpwHCMB3yk2J07ctup10gpw2nyMA==}
    cpu: [arm64]
    os: [win32]

  '@rollup/rollup-win32-ia32-msvc@4.53.2':
    resolution: {integrity: sha512-lNlPEGgdUfSzdCWU176ku/dQRnA7W+Gp8d+cWv73jYrb8uT7HTVVxq62DUYxjbaByuf1Yk0RIIAbDzp+CnOTFg==}
    cpu: [ia32]
    os: [win32]

  '@rollup/rollup-win32-x64-gnu@4.53.2':
    resolution: {integrity: sha512-S6YojNVrHybQis2lYov1sd+uj7K0Q05NxHcGktuMMdIQ2VixGwAfbJ23NnlvvVV1bdpR2m5MsNBViHJKcA4ADw==}
    cpu: [x64]
    os: [win32]

  '@rollup/rollup-win32-x64-msvc@4.53.2':
    resolution: {integrity: sha512-k+/Rkcyx//P6fetPoLMb8pBeqJBNGx81uuf7iljX9++yNBVRDQgD04L+SVXmXmh5ZP4/WOp4mWF0kmi06PW2tA==}
    cpu: [x64]
    os: [win32]

  '@types/babel__core@7.20.5':
    resolution: {integrity: sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==}

  '@types/babel__generator@7.27.0':
    resolution: {integrity: sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==}

  '@types/babel__template@7.4.4':
    resolution: {integrity: sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==}

  '@types/babel__traverse@7.28.0':
    resolution: {integrity: sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==}

  '@types/estree@1.0.8':
    resolution: {integrity: sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==}

  '@types/node@24.10.1':
    resolution: {integrity: sha512-GNWcUTRBgIRJD5zj+Tq0fKOJ5XZajIiBroOF0yvj2bSU1WvNdYS/dn9UxwsujGW4JX06dnHyjV2y9rRaybH0iQ==}

  '@types/prop-types@15.7.15':
    resolution: {integrity: sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==}

  '@types/react-dom@18.3.7':
    resolution: {integrity: sha512-MEe3UeoENYVFXzoXEWsvcpg6ZvlrFNlOQ7EOsvhI3CfAXwzPfO8Qwuxd40nepsYKqyyVQnTdEfv68q91yLcKrQ==}
    peerDependencies:
      '@types/react': ^18.0.0

  '@types/react@18.3.26':
    resolution: {integrity: sha512-RFA/bURkcKzx/X9oumPG9Vp3D3JUgus/d0b67KB0t5S/raciymilkOa66olh78MUI92QLbEJevO7rvqU/kjwKA==}

  '@vitejs/plugin-react@4.7.0':
    resolution: {integrity: sha512-gUu9hwfWvvEDBBmgtAowQCojwZmJ5mcLn3aufeCsitijs3+f2NsrPtlAWIR6OPiqljl96GVCUbLe0HyqIpVaoA==}
    engines: {node: ^14.18.0 || >=16.0.0}
    peerDependencies:
      vite: ^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0

  baseline-browser-mapping@2.8.27:
    resolution: {integrity: sha512-2CXFpkjVnY2FT+B6GrSYxzYf65BJWEqz5tIRHCvNsZZ2F3CmsCB37h8SpYgKG7y9C4YAeTipIPWG7EmFmhAeXA==}
    hasBin: true

  browserslist@4.28.0:
    resolution: {integrity: sha512-tbydkR/CxfMwelN0vwdP/pLkDwyAASZ+VfWm4EOwlB6SWhx1sYnWLqo8N5j0rAzPfzfRaxt0mM/4wPU/Su84RQ==}
    engines: {node: ^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7}
    hasBin: true

  caniuse-lite@1.0.30001754:
    resolution: {integrity: sha512-x6OeBXueoAceOmotzx3PO4Zpt4rzpeIFsSr6AAePTZxSkXiYDUmpypEl7e2+8NCd9bD7bXjqyef8CJYPC1jfxg==}

  convert-source-map@2.0.0:
    resolution: {integrity: sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==}

  csstype@3.1.3:
    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}

  debug@4.4.3:
    resolution: {integrity: sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==}
    engines: {node: '>=6.0'}
    peerDependencies:
      supports-color: '*'
    peerDependenciesMeta:
      supports-color:
        optional: true

  electron-to-chromium@1.5.250:
    resolution: {integrity: sha512-/5UMj9IiGDMOFBnN4i7/Ry5onJrAGSbOGo3s9FEKmwobGq6xw832ccET0CE3CkkMBZ8GJSlUIesZofpyurqDXw==}

  esbuild@0.21.5:
    resolution: {integrity: sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==}
    engines: {node: '>=12'}
    hasBin: true

  escalade@3.2.0:
    resolution: {integrity: sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==}
    engines: {node: '>=6'}

  fsevents@2.3.3:
    resolution: {integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==}
    engines: {node: ^8.16.0 || ^10.6.0 || >=11.0.0}
    os: [darwin]

  gensync@1.0.0-beta.2:
    resolution: {integrity: sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==}
    engines: {node: '>=6.9.0'}

  js-tokens@4.0.0:
    resolution: {integrity: sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==}

  jsesc@3.1.0:
    resolution: {integrity: sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==}
    engines: {node: '>=6'}
    hasBin: true

  json5@2.2.3:
    resolution: {integrity: sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==}
    engines: {node: '>=6'}
    hasBin: true

  loose-envify@1.4.0:
    resolution: {integrity: sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==}
    hasBin: true

  lru-cache@5.1.1:
    resolution: {integrity: sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==}

  ms@2.1.3:
    resolution: {integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==}

  nanoid@3.3.11:
    resolution: {integrity: sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==}
    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}
    hasBin: true

  node-releases@2.0.27:
    resolution: {integrity: sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==}

  picocolors@1.1.1:
    resolution: {integrity: sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==}

  postcss@8.5.6:
    resolution: {integrity: sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==}
    engines: {node: ^10 || ^12 || >=14}

  react-dom@18.3.1:
    resolution: {integrity: sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==}
    peerDependencies:
      react: ^18.3.1

  react-refresh@0.17.0:
    resolution: {integrity: sha512-z6F7K9bV85EfseRCp2bzrpyQ0Gkw1uLoCel9XBVWPg/TjRj94SkJzUTGfOa4bs7iJvBWtQG0Wq7wnI0syw3EBQ==}
    engines: {node: '>=0.10.0'}

  react@18.3.1:
    resolution: {integrity: sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==}
    engines: {node: '>=0.10.0'}

  rollup@4.53.2:
    resolution: {integrity: sha512-MHngMYwGJVi6Fmnk6ISmnk7JAHRNF0UkuucA0CUW3N3a4KnONPEZz+vUanQP/ZC/iY1Qkf3bwPWzyY84wEks1g==}
    engines: {node: '>=18.0.0', npm: '>=8.0.0'}
    hasBin: true

  scheduler@0.23.2:
    resolution: {integrity: sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==}

  semver@6.3.1:
    resolution: {integrity: sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==}
    hasBin: true

  source-map-js@1.2.1:
    resolution: {integrity: sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==}
    engines: {node: '>=0.10.0'}

  undici-types@7.16.0:
    resolution: {integrity: sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw==}

  update-browserslist-db@1.1.4:
    resolution: {integrity: sha512-q0SPT4xyU84saUX+tomz1WLkxUbuaJnR1xWt17M7fJtEJigJeWUNGUqrauFXsHnqev9y9JTRGwk13tFBuKby4A==}
    hasBin: true
    peerDependencies:
      browserslist: '>= 4.21.0'

  vite@5.4.21:
    resolution: {integrity: sha512-o5a9xKjbtuhY6Bi5S3+HvbRERmouabWbyUcpXXUA1u+GNUKoROi9byOJ8M0nHbHYHkYICiMlqxkg1KkYmm25Sw==}
    engines: {node: ^18.0.0 || >=20.0.0}
    hasBin: true
    peerDependencies:
      '@types/node': ^18.0.0 || >=20.0.0
      less: '*'
      lightningcss: ^1.21.0
      sass: '*'
      sass-embedded: '*'
      stylus: '*'
      sugarss: '*'
      terser: ^5.4.0
    peerDependenciesMeta:
      '@types/node':
        optional: true
      less:
        optional: true
      lightningcss:
        optional: true
      sass:
        optional: true
      sass-embedded:
        optional: true
      stylus:
        optional: true
      sugarss:
        optional: true
      terser:
        optional: true

  yallist@3.1.1:
    resolution: {integrity: sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==}

snapshots:

  '@babel/code-frame@7.27.1':
    dependencies:
      '@babel/helper-validator-identifier': 7.28.5
      js-tokens: 4.0.0
      picocolors: 1.1.1

  '@babel/compat-data@7.28.5': {}

  '@babel/core@7.28.5':
    dependencies:
      '@babel/code-frame': 7.27.1
      '@babel/generator': 7.28.5
      '@babel/helper-compilation-targets': 7.27.2
      '@babel/helper-module-transforms': 7.28.3(@babel/core@7.28.5)
      '@babel/helpers': 7.28.4
      '@babel/parser': 7.28.5
      '@babel/template': 7.27.2
      '@babel/traverse': 7.28.5
      '@babel/types': 7.28.5
      '@jridgewell/remapping': 2.3.5
      convert-source-map: 2.0.0
      debug: 4.4.3
      gensync: 1.0.0-beta.2
      json5: 2.2.3
      semver: 6.3.1
    transitivePeerDependencies:
      - supports-color

  '@babel/generator@7.28.5':
    dependencies:
      '@babel/parser': 7.28.5
      '@babel/types': 7.28.5
      '@jridgewell/gen-mapping': 0.3.13
      '@jridgewell/trace-mapping': 0.3.31
      jsesc: 3.1.0

  '@babel/helper-compilation-targets@7.27.2':
    dependencies:
      '@babel/compat-data': 7.28.5
      '@babel/helper-validator-option': 7.27.1
      browserslist: 4.28.0
      lru-cache: 5.1.1
      semver: 6.3.1

  '@babel/helper-globals@7.28.0': {}

  '@babel/helper-module-imports@7.27.1':
    dependencies:
      '@babel/traverse': 7.28.5
      '@babel/types': 7.28.5
    transitivePeerDependencies:
      - supports-color

  '@babel/helper-module-transforms@7.28.3(@babel/core@7.28.5)':
    dependencies:
      '@babel/core': 7.28.5
      '@babel/helper-module-imports': 7.27.1
      '@babel/helper-validator-identifier': 7.28.5
      '@babel/traverse': 7.28.5
    transitivePeerDependencies:
      - supports-color

  '@babel/helper-plugin-utils@7.27.1': {}

  '@babel/helper-string-parser@7.27.1': {}

  '@babel/helper-validator-identifier@7.28.5': {}

  '@babel/helper-validator-option@7.27.1': {}

  '@babel/helpers@7.28.4':
    dependencies:
      '@babel/template': 7.27.2
      '@babel/types': 7.28.5

  '@babel/parser@7.28.5':
    dependencies:
      '@babel/types': 7.28.5

  '@babel/plugin-transform-react-jsx-self@7.27.1(@babel/core@7.28.5)':
    dependencies:
      '@babel/core': 7.28.5
      '@babel/helper-plugin-utils': 7.27.1

  '@babel/plugin-transform-react-jsx-source@7.27.1(@babel/core@7.28.5)':
    dependencies:
      '@babel/core': 7.28.5
      '@babel/helper-plugin-utils': 7.27.1

  '@babel/template@7.27.2':
    dependencies:
      '@babel/code-frame': 7.27.1
      '@babel/parser': 7.28.5
      '@babel/types': 7.28.5

  '@babel/traverse@7.28.5':
    dependencies:
      '@babel/code-frame': 7.27.1
      '@babel/generator': 7.28.5
      '@babel/helper-globals': 7.28.0
      '@babel/parser': 7.28.5
      '@babel/template': 7.27.2
      '@babel/types': 7.28.5
      debug: 4.4.3
    transitivePeerDependencies:
      - supports-color

  '@babel/types@7.28.5':
    dependencies:
      '@babel/helper-string-parser': 7.27.1
      '@babel/helper-validator-identifier': 7.28.5

  '@esbuild/aix-ppc64@0.21.5':
    optional: true

  '@esbuild/android-arm64@0.21.5':
    optional: true

  '@esbuild/android-arm@0.21.5':
    optional: true

  '@esbuild/android-x64@0.21.5':
    optional: true

  '@esbuild/darwin-arm64@0.21.5':
    optional: true

  '@esbuild/darwin-x64@0.21.5':
    optional: true

  '@esbuild/freebsd-arm64@0.21.5':
    optional: true

  '@esbuild/freebsd-x64@0.21.5':
    optional: true

  '@esbuild/linux-arm64@0.21.5':
    optional: true

  '@esbuild/linux-arm@0.21.5':
    optional: true

  '@esbuild/linux-ia32@0.21.5':
    optional: true

  '@esbuild/linux-loong64@0.21.5':
    optional: true

  '@esbuild/linux-mips64el@0.21.5':
    optional: true

  '@esbuild/linux-ppc64@0.21.5':
    optional: true

  '@esbuild/linux-riscv64@0.21.5':
    optional: true

  '@esbuild/linux-s390x@0.21.5':
    optional: true

  '@esbuild/linux-x64@0.21.5':
    optional: true

  '@esbuild/netbsd-x64@0.21.5':
    optional: true

  '@esbuild/openbsd-x64@0.21.5':
    optional: true

  '@esbuild/sunos-x64@0.21.5':
    optional: true

  '@esbuild/win32-arm64@0.21.5':
    optional: true

  '@esbuild/win32-ia32@0.21.5':
    optional: true

  '@esbuild/win32-x64@0.21.5':
    optional: true

  '@jridgewell/gen-mapping@0.3.13':
    dependencies:
      '@jridgewell/sourcemap-codec': 1.5.5
      '@jridgewell/trace-mapping': 0.3.31

  '@jridgewell/remapping@2.3.5':
    dependencies:
      '@jridgewell/gen-mapping': 0.3.13
      '@jridgewell/trace-mapping': 0.3.31

  '@jridgewell/resolve-uri@3.1.2': {}

  '@jridgewell/sourcemap-codec@1.5.5': {}

  '@jridgewell/trace-mapping@0.3.31':
    dependencies:
      '@jridgewell/resolve-uri': 3.1.2
      '@jridgewell/sourcemap-codec': 1.5.5

  '@rolldown/pluginutils@1.0.0-beta.27': {}

  '@rollup/rollup-android-arm-eabi@4.53.2':
    optional: true

  '@rollup/rollup-android-arm64@4.53.2':
    optional: true

  '@rollup/rollup-darwin-arm64@4.53.2':
    optional: true

  '@rollup/rollup-darwin-x64@4.53.2':
    optional: true

  '@rollup/rollup-freebsd-arm64@4.53.2':
    optional: true

  '@rollup/rollup-freebsd-x64@4.53.2':
    optional: true

  '@rollup/rollup-linux-arm-gnueabihf@4.53.2':
    optional: true

  '@rollup/rollup-linux-arm-musleabihf@4.53.2':
    optional: true

  '@rollup/rollup-linux-arm64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-arm64-musl@4.53.2':
    optional: true

  '@rollup/rollup-linux-loong64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-ppc64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-riscv64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-riscv64-musl@4.53.2':
    optional: true

  '@rollup/rollup-linux-s390x-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-x64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-linux-x64-musl@4.53.2':
    optional: true

  '@rollup/rollup-openharmony-arm64@4.53.2':
    optional: true

  '@rollup/rollup-win32-arm64-msvc@4.53.2':
    optional: true

  '@rollup/rollup-win32-ia32-msvc@4.53.2':
    optional: true

  '@rollup/rollup-win32-x64-gnu@4.53.2':
    optional: true

  '@rollup/rollup-win32-x64-msvc@4.53.2':
    optional: true

  '@types/babel__core@7.20.5':
    dependencies:
      '@babel/parser': 7.28.5
      '@babel/types': 7.28.5
      '@types/babel__generator': 7.27.0
      '@types/babel__template': 7.4.4
      '@types/babel__traverse': 7.28.0

  '@types/babel__generator@7.27.0':
    dependencies:
      '@babel/types': 7.28.5

  '@types/babel__template@7.4.4':
    dependencies:
      '@babel/parser': 7.28.5
      '@babel/types': 7.28.5

  '@types/babel__traverse@7.28.0':
    dependencies:
      '@babel/types': 7.28.5

  '@types/estree@1.0.8': {}

  '@types/node@24.10.1':
    dependencies:
      undici-types: 7.16.0

  '@types/prop-types@15.7.15': {}

  '@types/react-dom@18.3.7(@types/react@18.3.26)':
    dependencies:
      '@types/react': 18.3.26

  '@types/react@18.3.26':
    dependencies:
      '@types/prop-types': 15.7.15
      csstype: 3.1.3

  '@vitejs/plugin-react@4.7.0(vite@5.4.21(@types/node@24.10.1))':
    dependencies:
      '@babel/core': 7.28.5
      '@babel/plugin-transform-react-jsx-self': 7.27.1(@babel/core@7.28.5)
      '@babel/plugin-transform-react-jsx-source': 7.27.1(@babel/core@7.28.5)
      '@rolldown/pluginutils': 1.0.0-beta.27
      '@types/babel__core': 7.20.5
      react-refresh: 0.17.0
      vite: 5.4.21(@types/node@24.10.1)
    transitivePeerDependencies:
      - supports-color

  baseline-browser-mapping@2.8.27: {}

  browserslist@4.28.0:
    dependencies:
      baseline-browser-mapping: 2.8.27
      caniuse-lite: 1.0.30001754
      electron-to-chromium: 1.5.250
      node-releases: 2.0.27
      update-browserslist-db: 1.1.4(browserslist@4.28.0)

  caniuse-lite@1.0.30001754: {}

  convert-source-map@2.0.0: {}

  csstype@3.1.3: {}

  debug@4.4.3:
    dependencies:
      ms: 2.1.3

  electron-to-chromium@1.5.250: {}

  esbuild@0.21.5:
    optionalDependencies:
      '@esbuild/aix-ppc64': 0.21.5
      '@esbuild/android-arm': 0.21.5
      '@esbuild/android-arm64': 0.21.5
      '@esbuild/android-x64': 0.21.5
      '@esbuild/darwin-arm64': 0.21.5
      '@esbuild/darwin-x64': 0.21.5
      '@esbuild/freebsd-arm64': 0.21.5
      '@esbuild/freebsd-x64': 0.21.5
      '@esbuild/linux-arm': 0.21.5
      '@esbuild/linux-arm64': 0.21.5
      '@esbuild/linux-ia32': 0.21.5
      '@esbuild/linux-loong64': 0.21.5
      '@esbuild/linux-mips64el': 0.21.5
      '@esbuild/linux-ppc64': 0.21.5
      '@esbuild/linux-riscv64': 0.21.5
      '@esbuild/linux-s390x': 0.21.5
      '@esbuild/linux-x64': 0.21.5
      '@esbuild/netbsd-x64': 0.21.5
      '@esbuild/openbsd-x64': 0.21.5
      '@esbuild/sunos-x64': 0.21.5
      '@esbuild/win32-arm64': 0.21.5
      '@esbuild/win32-ia32': 0.21.5
      '@esbuild/win32-x64': 0.21.5

  escalade@3.2.0: {}

  fsevents@2.3.3:
    optional: true

  gensync@1.0.0-beta.2: {}

  js-tokens@4.0.0: {}

  jsesc@3.1.0: {}

  json5@2.2.3: {}

  loose-envify@1.4.0:
    dependencies:
      js-tokens: 4.0.0

  lru-cache@5.1.1:
    dependencies:
      yallist: 3.1.1

  ms@2.1.3: {}

  nanoid@3.3.11: {}

  node-releases@2.0.27: {}

  picocolors@1.1.1: {}

  postcss@8.5.6:
    dependencies:
      nanoid: 3.3.11
      picocolors: 1.1.1
      source-map-js: 1.2.1

  react-dom@18.3.1(react@18.3.1):
    dependencies:
      loose-envify: 1.4.0
      react: 18.3.1
      scheduler: 0.23.2

  react-refresh@0.17.0: {}

  react@18.3.1:
    dependencies:
      loose-envify: 1.4.0

  rollup@4.53.2:
    dependencies:
      '@types/estree': 1.0.8
    optionalDependencies:
      '@rollup/rollup-android-arm-eabi': 4.53.2
      '@rollup/rollup-android-arm64': 4.53.2
      '@rollup/rollup-darwin-arm64': 4.53.2
      '@rollup/rollup-darwin-x64': 4.53.2
      '@rollup/rollup-freebsd-arm64': 4.53.2
      '@rollup/rollup-freebsd-x64': 4.53.2
      '@rollup/rollup-linux-arm-gnueabihf': 4.53.2
      '@rollup/rollup-linux-arm-musleabihf': 4.53.2
      '@rollup/rollup-linux-arm64-gnu': 4.53.2
      '@rollup/rollup-linux-arm64-musl': 4.53.2
      '@rollup/rollup-linux-loong64-gnu': 4.53.2
      '@rollup/rollup-linux-ppc64-gnu': 4.53.2
      '@rollup/rollup-linux-riscv64-gnu': 4.53.2
      '@rollup/rollup-linux-riscv64-musl': 4.53.2
      '@rollup/rollup-linux-s390x-gnu': 4.53.2
      '@rollup/rollup-linux-x64-gnu': 4.53.2
      '@rollup/rollup-linux-x64-musl': 4.53.2
      '@rollup/rollup-openharmony-arm64': 4.53.2
      '@rollup/rollup-win32-arm64-msvc': 4.53.2
      '@rollup/rollup-win32-ia32-msvc': 4.53.2
      '@rollup/rollup-win32-x64-gnu': 4.53.2
      '@rollup/rollup-win32-x64-msvc': 4.53.2
      fsevents: 2.3.3

  scheduler@0.23.2:
    dependencies:
      loose-envify: 1.4.0

  semver@6.3.1: {}

  source-map-js@1.2.1: {}

  undici-types@7.16.0: {}

  update-browserslist-db@1.1.4(browserslist@4.28.0):
    dependencies:
      browserslist: 4.28.0
      escalade: 3.2.0
      picocolors: 1.1.1

  vite@5.4.21(@types/node@24.10.1):
    dependencies:
      esbuild: 0.21.5
      postcss: 8.5.6
      rollup: 4.53.2
    optionalDependencies:
      '@types/node': 24.10.1
      fsevents: 2.3.3

  yallist@3.1.1: {}
¦public¡dƒ¦2.webp¡f¡cÅ 6RIFF.   WEBPVP8 "   0®*€ >Ñh¬Rªº²«¡5£P	inüğãL¯õèg_^?"nÌî/¡¯GxPş¬#c¿·¨Ö­Éûïƒîôéğïú|Õúæ]ÿ}ãÇ`›ôÀ2yËƒ³ o ûó>ş½½/oM^©{z^Ş—·¥íé{fÍƒ³`ìØ<ßÇd›§Z?ş¿îS?ñ9vÔ¬ìufBR-ºôp{Ğƒdşât—ş\àÍÏÿ(ñQ®©¿Î£Â4§|;Ï]¯Œz€/BØÅ©Óe5óO¢ÈÆ5ÃÑ·Yyş-_¼i7eb!”êªöCœl-€º¯c¿H$¢ğú–£Â°úšÔÖ÷®	±[”¿è{t!{¨`ö@¡|—<×?õ¾Öß|7å "òä6§Ò¡ÅÒk?û8I¾hî¯=l ›I½';1mAÎ©±j„;UVd˜;Yá‰>$)–çn…ìl2 •ìwë«ØÒz™;+İˆ_€µÛŞ¤¸“ 6N%É°‘õÛÃ*ø$å³>_Ğ¨¤Ìƒ :É+BèzöÄ|»*t›ŞÑËÍ]&÷®ÇGâº˜‡­>—æãÊ_ô¦!É,oC¤x™(«ñVŸøc=ë‚÷±½])ÒpdrL+^‡In5´ü
šn‘±ãÃ’Xİ<sŠxİ<r«vs7½p^ñÖ4ó÷®àŠ½ã¬,Èçì$³€ç¦!Ê¸ä–7²\ºRÿ4{œËOÉIZSş±@»òœ’Ô¯{ ºMï\*A{ÇU^Œ&÷ØAì‚é7½p^ñŞz‡İ'ïF=v½æö!VAt§Ì±½]&÷¬ËŞ:Ç[9¾³:ñJÃë!ÃÛ×D•Âm:¦\ïÂ—ÚSTndëáÇoTR²¤Şõ™{Êe¼w—Æ,~*÷‰Ôÿ2EiPÁš–Bè
±(®ôc×v!ÆÂJ	
öAt›ŞBD{ÖÿOctğºMï\*BtŞæ¾2Ó^õ»PĞ‘“›ªI«­[A²ozàÁRô‰âé7¦°_à.“{ÖÿOåò›ş/©)€.]&÷®Úš¾	$ë0ÍÉÜ«|úMï[ı<uÓÂäG½p^ñÖU{ ºÉ-Y6N%$ŞšÁ{ÇXŞÈ.”Ä*Ès†ÁfÂbZ~J_å$‰”™½ë‚ö	½]&ôÖàv½å% ÿiÓ’õ½å2Ş:µÓ¼õ ½ã¬od	ôÿ£,ı›ÙÒozà½ã¬nI½ë‚öà3’?{Çy|¦[¿Ÿ÷Áì‚é7½p^ñŞzí{Öîêô“‘õÁ{ÇXŞÈ.“{×îıã{ ºMï\»÷£§X¹Îµd ÙBÃõ ½ã¦R¯V(Z’ÅÎA‹ƒY&^ş/¹¯Œx–<]'ªI—Â»Û‚öËxëÙ/BÙrK3{¿u^Îµ÷³#¿dœ±Éjë!)¦7Ò}úJĞ]8[ÿ"=îjÊæ½ë‚÷±½\ô«m„¼¦[Çy|NÃL~¶L‡¼ë$ah¬Á	IƒdŞõÂ!œ“Ëã¼g×Uj•A¨zéó'åìx¶TmíÁ‚h»÷£Šôtê×Ì5ÌS–r!É<¾;Ëå2P:Æúòõ½„¬n¡Ip©-1¿*}“–7ÖHÃàÆû¾:Æöu˜$Va Ô\@f9ë»åYCí‰w¡#§XŞÈs•e¼pNÍ…¼uìëV?&÷®Ş:Æû¨Õ‹¦9êA‚¤ğŠœ “‡=wb«€ÎUÀg*ËxëÖíÒozßí4û¤âRMñşõÁ{Êe»÷‹œ‡*È.“{×ïZ¨úRäå\rª³9W‚âÙ6Q2rË+¢…Û€îé7½tÿzÒq)cÅÖKêà¸ràŠ¾	'”’Ì¡Œv±ğåUfr®9WŠ+(pÌ×UjÜª--È²˜ÿç*Ëxï0$“{×ïc{ ÅèHÌÏOŠöA‹~ñ(®ôaŸv!Ê¸
¥80ÈRáSlqÙ/F.¨)ª½\ˆ÷®Ş:ÆA*¯[¸·—ºÈA²˜‚Šà3•oÁÊ¸åUOKú@ép´&BQã¤	ÚK¤òøï/ª½]&²¹¯t!{¿z>ı$OnéLC•K<&º£Ìî“f÷£gı<ukªK<uì‚¡ CÖíÒozÌ¾:ĞAls`rÒË+àÛø  »È
£šk²×vİ5ÏÅšÂ!‚çZ·œ²ÉeïŞÈ­ÒozèxAÁœ­;:ÓîıÙ	î´éI‡Y"´,qclYˆ~ğ,˜9ĞdÊ-Şµ²L¾$áƒ[OÅZ”U¥1¿ÎiiÒoM`½ãª¯[ÙIáu™½ë‚÷”ËyL·±Œ‘§Z™©dğÊÛê'Ğ¤¸”Ö‹Ç+èVÇÈD2¬‡9T³¿xíVÿt›6Jb1Ëãª¶“Ëã¼õ(x5ï]ag^MkWu'[àÌ5Ø=,£.º­kí NÕo÷I½ë„C9 béy|WÁ‚»_i´éÁ7³­ŸšÁ|á÷IÄ»Íæiø¼zöË=ÈdLƒà A“)€\iÆErwø#ûò+­Å@.3È@³~D{ÍìC•pIá‹Ñ‹ã¼ó,½å*»˜ÒÕ¸¥bW¾Ç/	½] w­şGÚøZ}ÁäÊ$BBVÕÊ§À‹•{Œ!ÔĞJáéAøtTç{p`©
í|cÀ—oW¡#§X¹¿àÊ¤íõ›|I&÷Ş:Ç[:*1a×À&Æçê|Qà"ÌSŒ
Ö)€QÏÒ_'Ô"øxßµa6ëèî1¥ZãïL×uxäÎ”Ë‚ÂñŒÑÁÍ–Éì¹È¹€rMı ÖÎÎIçš
†^ñÁ;Ic|ml” +u¤˜²¡¾“ñ&s s´?¼UŠ£æi‰v/Ô“Y!ıˆOff«%NÂFPù	FYXÜ:U‰ÈŒU)ø¢B*¥ÊrÀ®›×ÀÑ ÇúÒwÂQ’sbÂ*PëKxçT	ÄÏBÑÑBŞ:Ñø«ŞS-„«„àXV ¿ş”Ô„5ƒÖ¿c#ú·å°¡/Ïâ‰Ú…0@*QÇİñU¹êZ 9ÂÛû¦éTh_à®ŠˆŞ¾ü«¦(ûCT:#µ y_K’*·:]¼#S1Ù}É7ÃÂÖİ³[X•9dŞ2Ğ7ÖBOê¥\ò£HñÔõ˜„À(…ˆËíbo†|ü²8wÔs Ñf|¤§ğ_2PŞrƒˆoD¼sFÁ(Â%¤ğ¦/(™!]8ç¸—fÄó{İÈd8ÍÅú?‹¥	é°Y8ÆÛ‘å›å [pi=ä’pp-ÂŠ›—ùPµjoA#èÇ¨Å]×g•@­8ä¡¨¸ÈiÑj<ß#š¢¥ÂiœtC»¹•O³`ÎlVç3ÅŞMO |x» fÇv–^MÎ…Ôo¬Nz0BÙ­Zb.–ŠèaŸ`³#à2Ã1µhÎóĞå˜VHN"–U›4k¶4:Ï (ª¿äf4–üE\õæPŸƒ†¬PÜ‚aÙÔk«‡ ¤	%
£2š•ç»áÔlOkŒÅ_İˆÇ13UQíZª­º·1­•j«BgîµÑxì^ˆ?áNnòJë«Ş‚ÁCL³µ¦ˆû¼Ç°Ø ë*Åî9°œF±ç·?§ª9Ã5ÆñÇøÏæF
à-7ŸváÅÇBò·„°[Ğ?öjî(fpw_Æ„»1WÖ«‚‰Vü;-¥L7Ê)…›{!¾¨.‡ú­hh"É^j“Ü2Ùy:gmí«2ˆ‹‰Œ×n7Üö¤–}TÃgf9„U%<® Œ`bİ€x$¸t¨0œ\MÎ0;M3šIjèœ¼Œô2r0jÑdÎeB›"MÜñ¿$¼m+9øRWHş¸iäFÇ¡7ä…û3ø¾t!ÊÒƒ8ªG üõl;v<¶§FÄ÷5AÁ•”¬B–)ŞŒL‹ê†¦O.B» ¢pĞò¡·Ï5ĞÙ#ô¶atzùòÀ*8F˜áœœ)ò8û\(ÛxP·â|º˜¤ÄG¬øÆ`TS£ME,Ã×yó€»&8p.¿å|I°¾°ÅÄÁb¼‹HÌ„®ÔÚÓ˜gğ "mÍCUöâÕŞğæÖ‡|B?õì¬3tÔÊôæu}DaTök¯S!õNK¹	¬Ô6ğŸ8ÕZcïî{Î’¢Œû†òBF}„G ìz²I•AÎ‘:ÃKaDâlÒ.síW 6 ¬h èÔİ˜{¤õ«3•A[³û	ßşšÏ€¯#V6GÃ8áB	ÙùO?™c`ë…ÛNtİåvq=uThšt)ÕM7:ªŞì-R©øH #ÓÈ«nÇ`IÇdïÅOöç!}“—fúàÛ‡+^ŠQÎBåĞTe"7ïx{€ñÌšr&—N±¯¤ŸHnœ~¿2õKÛg"§½IiÜb'ĞSïÌûòy9rı˜ÆÁ×z~  şòa/ÿ¨ŸÍoãš~“ì?a2½èr]Ó ë9ó÷|é¶«t=¶°!UOş*Çï‚TÉm´êù|nµ‡^ÍjˆU`ô3zj]o[d!bµßå¶u6MÍ–;S\8'"Sùİ¶š@¨Æ£?=è—¶(èrÊÁ$êûŞÊ0uÏíb@Ãy¼˜ùƒ+øœHûëuxŞ¿±!Œ(Ô[—tµë±ĞRÙvg!¡“hWVÚÃóÍ)Â´Šªê–è…f£„†EhøOOèøÍ^¨V«àÑî«Qİşj?‹m&!t¥|ş3ûfñ6lbä[¸MeğRì•ú\èj”¦:¸  $!1Z¸ê«h ôos+ÍùèxåY3¼yÜ·g•J=QîûB"0TÃCÚˆ½—¬k«:: UÕ¥Ù¼Ã›iÓr©©dk©¢@Ó›ZËwëO_÷b[vPZ— ÎµÄp>´¾8#ş¡ï ¶€:ğñˆ£–Úïğ2¢¬¸µÜ6W]Ñ9Ä	¯Z¢È”;¥æH§LÈE/l<€   k•V@‹4)3e²PU¬áÀtGÅÿ"±Ú®w>Ä	¿­®|lEã w³~›"«[
ìDi¥áÿß0¡¡oM)MşÿPÂÀV½·;‡Ëÿ1»Õ¥.G{uTjbµmŞôŞc  ™&ÈŠ@”LW‹Ş ’§
fú‚‡ßKF»í¯ vşÿµíaÎLçZ`poÓŠƒ¼”®ºë¯ûXˆ„Ü yŸT>·y°8¶Çå”Ñ/<Í•ÂrôÈ>¥Óa¦êQ+¿´¤a?üs0SWà>ğ`—ú44%¸¨.¥C¾NqóMTV¤"“Ğ O¶PÍâ`„Í·‡+ ŸG^€Ì`À˜09¦ô„ÿ1
¦”²	" Ôº¨qÖ@ÿ£–Ø€e¤§ogts°}¦o‰ë@5íµ‚ØŞzG@ İÜõâ©|ERû¨¾Œºxìw(‘ÿ(ªGÏrğù÷L„Oó‚µfJêª  ¸`„Q¤¡ıt´Z,9"9 d•Æ40n¢   á1
¨ ê±v]ÈºÌ)¡ıG-·1)WM¢­-ş¨éoÉá    ó¾e1ĞD©âAn ˆÖPì¾Æ£—p/aà…å¼Æ‘iˆ1 
µZûê¥2È€ú¹[˜j¯>FÔøèià~V`ÉÁÒ¶$ÅÉS‰àZy›>€  ì(+hÄFÇ¦çh– ôyn˜6*Ö.êïFE¼gçYŞHØd35š…eÀ¢&ØªùQé%ËÚ9£İ	€PQ\5°Š®†Ka)XİnKÒèºœ]ú(’0 (ÜËí^ü—[	(k"íĞ1Íw4/¤¢ñÅ¡0]…~á©”ŠÏ|8\SO¢Ä€,’£ ]wt°F«›ÌR]Ü½X5¸ ¦ÊPOé?,rÄĞ§ÚVÛ dÔ:hUœ€  kËF\Ãp[miÕS§aÿğ"â:5Ù¼€å›³R¡JßHyZñVó<• ¡Èà1gf ¸é‰K*ûı8…¸¿W E‘ğ
u§l´´{.f°ËXÓvèh5ı¨ã°óİ'mLÙq@°~Yd¢5ŒSsÖq%ì2AO¯è„yêMœû=²< H’öæ"ğò•u Ò’ñ|UªY—8CI:8­@P)º®‡¯À†¯Çq‡$™ Í¹˜|¬¶°&­¨w6_êØ«"aøÃvà¥ç‘¿‘HPioáÁ7p£Ù|9şq«ûå´˜b8BpÚYNÙNİİä—şãa,¾Úq™Ú ;gØé	CÅş}ùzÛ=9P·}µ“Ú ™!&\¬kİŞº6œ_·5Â³Š]Œ-
½üw@MbíMÄnVˆ:iK2Ë ¾o;XŒŒt˜kíê‘Y‚ìJ·¬‰Û<¿7»7hÄâßıÎ±Bb¢'Wvvşm¦†ô|G°x}²ƒ|«ïµu&èvF(2”¨–ûè3İxh>d;Ö·j›gÉµÎzxnS4x˜6öĞ–?W€#H+¼ÿúûuÑw¾¬Œ7-§7ûÆt‘‚‘ÌÃÜüˆ€ÉñP}{ñô"@^½x4ãØj5FLäv"­şŸbN,Õ§ààŠÈ$Z2R–)$KZ²¨>u0zƒ/+¡ çBSóÉ›_½tÑ¡vçt×=T—Él íUÉfrÛSîçzNw–õ¦yË8YşÜ¨Ul«Û+[ıÃ #:ºğsVWÜØd³ıTc ìI«§Œ9‹Š*‘€7æùdüá‘eâ@³ÆÍ¦>$÷†f²NÍ#™ß&´bR\A¤]_OiÆ¶u$†»Cô Efı¡)'¨¹Ş@
9YÆœœ·‘hO·zö™”èç^WÊ>Z2Y6-‘µ@Ô-î+ ø°ërğ‚Æ%}Jt¶»ªW¼XAÃôTŠ¨$Êıå»¦'¾aJ/õ2lğxvSDÒüé¬v‡Á+7îxD:º…røšôNºêÅ*ÙEÇªRYæ#Ú`Á1g»b¢vlµ¶èbá…/òBu²`?rHÑsò¡¼í¨ıtY®hz8¨»NÜš
±ÆÏî‹‹úô®¡T2ß!º8tå½Ú=±[¨nØx¤y!)2	¼T4uƒ#UË5oòYVYuíÕ;5ÇJ.Ùê*D:
Ÿtvw‰ÚlĞ2"ĞiÌa:(~	±ªlYÁcÊI®?°è>µê[¡mêgse2ANÇ¤LÇb’PkY¦á·Äóù¶è3ªifci©ÙQÄŞHËLÛ[l~a|¬7¢Å(•Í§‡ãB~
„dîîä0Cx.ó+µ'A"å†MÒBÊ¼ù‹xJ–[¯È*>”s\ŠnMâo8ö,i«*ıI-Ôn§·HÙ¤8 ñ²!çÈÃş$[5ş—[¾Ÿ¥îğ5°3~¬Æb-øyßã0ÿ\‰zãˆØiñõ{•:—ë o¡;¨İºtõ¦4+k5Ö QŞËt×±Hè˜{îš#%‘1¡$å#I‚¡Û"3N¦c£¡IUT#Ğ`=Ïs#äÁêñ“jıõ÷‰ˆÃ£„Ûd4¢½œy.e£»Å@š5Y¿×ÿÑpCÊ*	í¬:Öİ+Ô $ÿé¹ÍoYÁ¤¾â82I“{2ÒºfEù›ŞFåÆ
§kµ ƒ¸¹&Ø"O™[×·e(+'’õkp.ìşe^jğ#aÎÈš 0·Â“¢ˆS|à#eêèñÏÓïºªFĞB“º_bf×—@¤ $áÊgg‰¦ƒí«ãBK-„$ô45.°×‰Äì? È°´šFjyÑ,JF¹€¦0@P´pLĞeFP¥ä"Ù>­š™ Àäõú¤€hÂš`{OWÚõk_*qšƒp4¥>€ÁÅÑá§2áñLX(ÜÛß·ˆc¤‹ıj]_MŠšxØyø™‰~§¥Ì@­ïYş•rÄĞMÍç·k‹grRçå„\«2´´¾5ÿî„²ñ.>ïß=,Q—@¯³è˜[d„Â™Zú*öÇD3[×†¦yÒæI­İp1ğz½ª+p`¡0®"À-ºTF+Kä—~e‹í2mñ¸ÕIv]šÀñÛ()mÔ@]ş¸àêf‰†%r‰ÊÓTxt.ç¢cº.È›¡ª@g%ÇK_ƒsüºÏâßøáèL|ŠëÅyC]7f«¥¾˜çñä~Ø®™.º·BPÕ¬(ú@÷z:}P@p¼A«£ªÈÊŒÏÎòÕìµc¯¬Ï†Æú ÖjgÊ¦g%×"şÛĞ*kí
Ä^›ÌÅëcX}Zı‚B71ş A%­±}Y{B|j /7-ç:SåJîÒİ
™D¨‘Rw#ÜGKæà"9ij

¿ôûÃ†±79²»RnGQ÷{¶ôù¼İ“ƒØŒÔ±ÁÜj,¨C›NºLÎœ	úñ :OC°˜İ+:›¢ıQ2j¾Öó%«å¥;ƒ8¨'£;Úµ¾Æ#›ä¤5orÿAš œ«qè¨¸ÂÍÖÎ äx)€)õôaaTAÀr½g2şÖ´V/Ltò¨i¯š(A"÷
›j+%-n«İXÇêÔ‹ª™Ã[Ù<óä³ù‚­²Úî<!}SWVâÕÜ,áœ,W[“ÑÉg"Ş”Ç’Ø¡5Ş1SÿÑ\HÊ¯räxqk®‹5	+7­¨™ÿÙÆH«¿d ©ld¦P¸®`HO¡ö5\ÖÉ¨¦­eœlÓ¾+~5	ÿ°º×mœyxÏœ(Øh$RŒİeÊéØúAçr^îıºæ•úH?ãlq
Py`=¯¤æfÉŒÎœv‹@ºÌ°¬#Ü?ììDÕd1¢KiÙv+bÃåÙı]°œŠ	Q¤Ô–s5õÍ=I@'H+ ˆPtãÀyÏO5÷øjÎkDr:ïÇ3ª‡¦#^õ¸R©÷ÚÖ‡7_‰ğÒ@#“Ç9­£W¢½L.Í™Ï­âªV âÖ
¤FĞ@%ø>-Ã¨`Dè	¢J'` .üDUîdü’«–ÁÖçMz¾¾;ß´€¡¤K×JÂ	ôÈLËºËK§]æ±Ør°7‘İ·V1D›hîQ=ÖÿVÍj0ÈI`÷Â¶Óo2(xaZøTq“Çü³‹@ñµÜr‡ì¡˜­¥ˆ¸rÆ5ÈœÔÎ‰í“ŞlîeüŸóÎ”>q¿À6`¾û´€Öt^rVñÒGr y_Ö;ÕqåxšÚ\˜”ñ„š 'ˆ“¤ÎI÷#º49	wÊ`ïó|`øÓÂ¿ÖäH—.†ºAPQÃg‘ö'»çWëGÉd!ø$CšSCX6uÊ:Wkº¼ÑwôÖèŞ_ó£|­.ß¥ì}°MzÚÎÀùÇ¦‘ñÔ¡ilß²½Â›:0~ÒŒ°LÁr!6ï”ii]û_™5(èÆ èÕ+í•8Øİr/^ë f±mF»QüÇ°Éx'Šœs¨²£şÿWQØ©b€“²f£(ŠÍdØ™¬ûxÿvèE"æ…ÒC‚ç7mDJQ¼R¢ wsÌĞgÚ[vJÊru²§ıøÔÄJr€U†úŸcgÇÙ|O#XÇG7@Â´,`;0qX?EÃÿ^··«à›PÅú.‡v¼ >`ş$àmê"Œ`ÁŠĞ„{÷lëT7R&®OL–Gr'Ã{sGíİ…I^¡gF º„ÕFP.{nšBu/—ÈØrœ¬†ŸH>:·a9]†¡Û)Iz¡!oœ$‹p:ø¢óuî?ÄÅzBi”r€ÙË·lûÙm^n•Í¢£q}0®"Š«9cyªÍ84–…¾Dâ{ã†®÷t]p?¸Ÿ7	««duÑŠY¸[ÌÉÛPºg"ò@%“8µQÔÕª: 6“>Š‘ÊL/›a+u$µ4Ş¡cxÔƒÈQßjV¶‘+n'áî}l¨<¾Q?¸µ­Õ?®”Ã"sO×İ ìü¿ŞK^¨m+¿$je½:Zùs<Sü7m%âĞ4ó:'å:Zyº8œ
f£%A=ø°N°Ö¯gù˜sÜÖ'È«H[ó‚nD¸!=Ó
È pÃ¸z+ù,ç&Z+`-=)–òÚ«>rke9B
j‡MlĞ°ÃŠu3WÉïº -·^õÿè¼†'¯štH-‹~Ô²ÉÌW\Ùö}¼zG©[|¥Ó½÷Ê(ôHoŒšj—"åÂßÓŒZT%WÅ2ƒ-¾Üt] ô™Ó [S+OzeóÓS…š©¼z?ã¹D$¨B [Ş.òV&0±Q­í6‰CõPM¥1@±‹u'„fös¾€Ø©¹´GĞ³kÇ-mÒıgÔsl™D[µíFJ@Èw–ü¼uæ_Š ¤À]âPµe¤ç Eh:ê°)àèÆÛ§ıTZÌ¿xNJ>ğé
èÜ?™=øX ÌFIÚæ»¸WFÜÜX! -oN{<€ ·K~V(K #g
ªX)2Şwš‘Iv	 |¨Û Ï¨)¼²•BÒWÌ”€ pËòî¤nùHèX–?-x‡@¼ Æ¨ê#Oò2m-û¡l9È   p„ğ€ ¦3.webp¡f¡cÅŠâRIFFÚŠ  WEBPVP8 ÎŠ  Y*°0>m6–H¤#%$%5	  ‰gnØşÚîy×h)!Nã=âïúA!gCPëGê?Éâ¿ÙÙ‹óWâ¼¿}³ıÏ1ş¤ÿŠtõÑ»Ó
ùGÙ~~~GÚ¿¸XzlY±¿ı½TÿÉã¯æ¿år¯…¯2YÿÓç·ëg’?õ9ü2cÿÔ}„½QJ5u›Äê\\•.ŸgëÊšå{k®Ê‰‡º•t;)E´IßÊbÖ‹l„ÉZ‹>]?/–yÃœvºì¨˜{¡Ù$ñÂö]:‘^)ocîèú~>;ò¬òè§â~¿ûkª†šS„ÀòÜ®Dû¡ÙQ1dõº&(Î%l”™èqgÆ+¼Èh†(éÁ GQÀÄ`´OÏ3W09'¿yÚØ¯ÛÂ£N®áçœ;kˆû3h0öb°N·=%œv”¶§1˜42»š±€Ğrø êãÑ°<è^<	CiŸc¤Ã|vÍûÂ‚¡s¢-YYÏÊ£;t/,>l.dK,Äàbıy¬J§-4>nŸAÈşI*`7PìÁ
3R«æjFñj£&ûÎŠsÎß˜*yÃ	&·­ÎƒàmR=¯ì§;Ö–¯òòe¸rŒ¨?8%P|Z|lXÙÓ¸XÖ±›àŠšÖ‚n¹¶#Q¬L=ÁvoÊÉœ±ĞºĞ&ì!öÇFÅåóÚhBD	©}¤Àc*Dİ:Ìj^À=*qGú[=‘W›ÆI´ÿ^“v¨"İåê—Ú¬Ç7Êà›ÙYIO—OËB°ÏuQ-­0‹ƒ>0|GåÓÑ!òÃ–iEº¿öÙå—4„àé ˜YÔ4¥)&=—¾Æ—æRü¾M8ıº~_  Û¹Î–_¢øg¢CX¬ó@C“©×ª^‚DæËeşÁñÿzCiôt”Ldn‘¼CòĞ«£›(Ë©ßŠ­=é’®“î˜œ#î~Â?Rc™×ñ_‰*¸PZ^º|ˆ/QhEC+/—GQ°Ï’ü¶2§ Û×Ï]\)§ü½])ñÍY¬²?ä¨¶Yå¥é±®øÀJr0bdh<l³_„±á.ãjøğ?¢p-?ó<
|àÜ¾N´ˆÀ£¢ ª¢ßOÂÏ]ûXğ¤õÓì´<'8J$‰•SJùR#A!„†Ò7¹€b¼Ÿ\½»ní2i~ıõCÚ¥	áC€¦ËØ3‰©‡¸.ÅùòÔ2ós‘jÊ‰†SÓwœ¼ÍlFÎÕÎy’Œ]øM PAj?÷p40T]8µpÌb÷sá¹ åÄiprBÃYåÚœ÷¡%
¶R]#œmÿsÕ³œØ©}»‡TPbÍ[¾Ea”ËD¶Áñaõ_—ÈG«©oŞES<ûËÙHà`Fá°Õ¾„K}N×À+/Ø!¬ ü˜á,áÏØ©z…âXé!;ª{ÉÊÌb	mGx©M?š|0êsK mfsrê^ÁÛ)E²ÓÑ€‡’'£RJA-é ß2SAä|ÅèÜ¼Aûp:ƒ™ÎwoˆLñG)é.Š¾Õ
O©ÅÖ0uºÌ“ÀÚá{Á—_ídYl- ïÃÅ\†3 I	;ƒ¯ÔÇNĞÈD yü^Ëm2ÀBêK*…j  )§D©QaÙN[Ñ)yŒ/Œ¿ìI€·$y®ç ıºÔ&ª‰ë¤¨Ùæ˜)»šcï ÄĞ‰á–5ó1
8oe£„¨`ˆ&ÊpİÂêˆAà6_È@ú=‡ºxÁÓÃ ·‚{àÂLê¸8K ’3.ä‘(l,wú2OuQ0Â‚²(ÿ•°@’ß³W©X	ƒ’*9¨šQÒ´y`S¥YïÓĞ§ÈİèyYH6¢bñĞ­/sReÑn&%çù‹lBw8ó6ö'TğyÖìÉ+>¡È+Ÿ@‘1ìÉAs56ZïÀ‡‰M@Ği°BÆºÃ.Œ©àùò“¦LÄtC/DÀ °rø	Ê‚™p]D~tŒº|RóİôÆÌ£˜;•â—u³ù‚¤yIa€Hc¼öIV¦µŸƒ<Çªºƒu)²Äø^—˜·)†Lï‡G-ìéZØ$PşÕ€GÔ—åğX{Â¤2[ÁV€Ëdk…¢foM¯ÿj€/¸­Î!ï\b…|D°¼–*dÙÁ~Ë"Ÿ—ğÊ‡AZ[À*ÿ]°úºòxåï/ËàTSH&É²E‚6¦Q¹tow<¶¬“èºk¶i»ÀH#Pş[Cİ'åê—ó6j(—ÇWuıâ­Å2®Ÿ†÷a`á åx+3fd½†c×ö ‡j¾·¶U˜t¼ÎÊp«¬ffPgúsŠ¡¿ÈÌHtï}€ÌíáØ^À6¼Õá<ÀÕ±Æxaò\NEâXÎı‡òÈı°
N?(À—¿¨\|n4R&kÓòøB„K·ˆá%ù|Å›4€|†÷I†Î3‚Á„jŒ—vä5Ä¸j7qcîsé‘Pºœ»Æ”ğ)Yâùeh§1q]7_&Ò<mÈfñ¢ë2t¶lYP8½{¼€4NŞ¶ÔŒJƒÙåˆ6eŒ£5ÍyZe«+2/'dS’Ğİÿî½×§/W¬¸BCšKfJK[£Ñ„½”s/Bê/•Ô7¯ßşÁLÂø6Î‘=”ji›öøğ@¾´Ù>)òä·é‰JYSUCè5âQoŒb¶–şºíåÄ‹zû «t†ü|R]:õ,¨j1’Å'â†?«y#ŠtF÷W‰d«‰dæYâİ”VüVØb:ôwC‘Ä·V¿ØJ}üÎ	GÇe¢¿7‡j–Œ±ÏA_	ñô@Ä˜½,óğƒGODåş¦ûdËb*˜T~ôÜ? !ÄÏ‰@Šéš]Kø²24·8JÁ¼?¹¢«Œ™ÌEö­µRÎ¨dIäùåT¶ñêB`›·°* o8[sW˜R¶0w*PêŞeùŞÂè–µ•1µÅ¡<sod=Z·³4äïv1»;n®ß¸S×Ç„TkÓ2rªÈÌÕŞw2bjU„M§„½]SgSÇ1ëô¡«Ø:İ"¨?r(†¾M€M†&õÌœäµË(h7¤Ğ\¾°g×"W>Š×Ô¾›¼°öšºqºÌr(Ü½òÊMOÑZO¯tTJ©Leu:u´î2«çì>Ò[ûâ°F—Xvw“’q¼WR^Óàˆ6|UÏ®ÿ«5¿æº¥ÿ¸­¨è˜é{ÇÏÇ]L|*W^5÷öeÆÆ^-ä
Åü±×«ËáuûFj ãÔÄA\nû½NãßàË•&Î†¶@‘k¡}^î¢ÓÊ¦âøø©¡Aòj[ÕkÙyÇŞˆsÁƒU‹PBxÍ'|LıŸ6äPfÓÊâÒ³+ Œuó™ùSæ¦òøÜ}U{÷ŞÑÕƒlÁ¶(•ë‘â'†ä)„%î´;,çíj³…V£ï+³f—¸ñ=~3„‡¥{ÄÄ0€TU¿Sõ<z%ñÅ6tk¢~ø‰Ùø­
w¸ÛàÜyÖßé’qÑ[TÌËßH±œ$5s\MÊ‹7¨~ZÄe‡;”®œaAğë¦O^ÏG-×f–“vX0¼å‡¶:Œ[©×ÔÏü¯|*)7µŒ¿ŸP]şşÀ¨ˆ^ÆJFk¯Û¬ÚÈö$vH?’ÊIéZ AY%Š—½†jctÄ±G—ÊA-ªä6¶Ÿ§Àe`ğB®ÛìVŸ&¶\`eÙ%òzB³±·œFœü‹²ü4‹M2æ$®3	Gè§tBâ­Hó¹e×g¶"´—ùOÎ(¥\[›|ˆ0kF—ï§›(åõ3‘&dmõrSĞ$‘ôÃÏÓ©ŞQZ›ßàÕqÉ"¦6pI'»i(6IhRÔÍ9ÏáiÑŠƒÂ§¶¾rúMÕ% Œ)ãg“h Û×Õ#>¼KbÁšı¤›xÂÊ¬ÅD$÷ÌmÈ+ ø%Ğ“Q%¤\©„{‰–wE´x,n”I5zŸaŒâ¬Îô0õ¸kòp½Kô´âIûgIÑ•DéV“¾¾‹@T¼†Û‰œÇ²UïpjÂÅv¶û$+‘:sKTR”`…ñğªl¬ô<G—:¿µ±ş£‹€kÛt®-NŠy\ƒûŒ'áw`²œ‹d ü‹„ô)İ¦òb;8sÕC¶áÎ'^eTY>56k®áÖq³á†Ë™ÔÂç¶w5¿áHàÍ~·°I=Ó[€%†“ë<‚âBRLÇ»`˜Ö±ê@@·(^§¤ıé,@«NT¬€}a¼şÛåGeMª¥„1%38?d(1Ä/ã@0Áü_G$ñ)h*.•øRY¢_²6Ê®”uÓ1¬)ÁF!ÉÏFÜz”JaPb ˆ~=ïÉlÊ+„fQû¥qŠè¤…+ùt+óÿ †`QîÈÙäkqH¸Óî„m
d=Ïc„2’úqôPädë»¶+¬Â„xàWŒÜãn¿©T r{õ®±J¸å÷^/„"§íÀ¨äã$’SzWG½L””–¶³†íæ®HzT™yúzk‹PÓ¹?s2Lÿå¬%p„<¼òùÄ Æ³ñw‚3€?ª»0ş‰‰OÜn§ûÁLsGÓÜªÂ9>ÔB_,™§g2±¼¬nÖŞ ÑÒ*¿aÔ‚å{ë¡@Í11s¤%íÃmÓû¼åHZ—lsØÆºrÜïcMÄËJ¿¸×ìeª6JğU¥Æ…EeE@'p4Mƒ8'v+S#êÅG½c~Í-íâçüWß ¬—¯w·,noˆ¨’°PÕ˜å|AïåÙo÷ZØÊşÀbn—;5 [ôûS3/a5ßKôvoä­üRQ=3Ñ ïD¡GğĞ*ÍˆåóI…x®´œ‰—0ŞçÛn²™Í¶%.¼š~ˆŸ™ŞÈ5¬#Ë¯®i÷;ªâ3½¸\áªrÃUl'ÉŸfä&<í7„¢ÑX˜0hbHû±.ş9PÈ»Üèêı¢;°×'áPj2ÜOH”w¸€ˆ{iË5qs³Œù2¸üç;¹Hª_Ç×hnh”DÑ¯JÇ8g¯¶Zó|)M9âq‚|‰Ê
ZÛÚËçé!ˆz“xÍr:ì=u¨s s…«Œ1l÷Ã‰ù+£Âƒ‹üj±/Rº™a›InHGqØ¨Öâ™ŒˆŒŒÊÏŒsö‡±"êÀU@$¶ìÖ€Ø–ÄBêÑ%OÑÑø"Ój3ı%ÿ®>)Wñoº^Åzpãÿç…F´gÚ>¯Èã<²Jì‡‹z~’ì’\ªòèÜ‹jÎ÷91<jÜ“”„­Ã—W¾”VHÚ\bb—`D…,çÚ¥B»¸™å®ÿ‹4³<
í£ÀÎ¶snü
ÏêLN­XZ·z·W‚\ÌE”ãbâ}[„¶;J³âŒ8%«*jÄ¤YÌñ¨ø»-¹tí> Î$e·Ë+*>à òrW–†7bÖ­<¥hü-¦V§_Ğh:£vÅÅú+2Ì*ÙøNºvp©ıÈu!Ñ¹xÀyÕ–‹5ÈIE# «ßEc{¯iƒw3¿7ù˜¯ù#VÕuŒÑ¤ŠC­½M`M×CÏL¨ÛæQjfµ’ $¢}êÿª[^Œ¦äR1ı…¤Ò|”Ş\ı¯ WğËÛŸxåVHpJcñéN€–6ì˜C¤«­hpkZ;øÁ“¬	6šïõ‹Ì–vÄÆUù+{Xvªqt“Ê¬qI£m=sèÙ ?l–ã,zÚì|„o3Ô2„*Æ ¨OF“Ïqõrp™2ù!,ÆKÌ‹W¶ñ^¨B¬K	_æóH!1Kò´NRs‘O[/ûü~r*UTn0k°HQ­ |ña½Bj'÷:Rjâô&äˆh_0MúÆOÂZXÌŞ²; Âş<”÷Á“Â{t"PæZíıÿ¼¾EÖ“ä…¶'JBi¨x· Ë!—è¡j®·w£ğ
9Ğ{ÛjÂ<%NíÑ)qôÏÇ`[·ø‰æ8tÜµ°¯v§[öKºÒ5ŞrtMiR§8±${áëîÿÂSÚ¹ıÍkÍcK<Óz2nß:%ˆGÉk€Y,5¢§àœ9sÉ—¾½]}‰‰oH—€ÿÏzÎÄïßŸc½%µäõ@Ş“¶@ÜXcÊŞr/7iÑ*iLå#uh«çõÀ‚IôŞ@ëÃßwDï…}]ûÿæ³¼‚ZÚ©=÷ßêî"²nõ<^ZûŞëâ4Féá½ŒtÃüÂT0t.®Í<£§ßñ=^Ry;á3yú|Èà¸5fTeP…#Ú4„ìÓ]¯NqÕW‚Ñ$R¤õI+Â6‚	$h•yµ‰­æeÚŞøé™¢ÌËˆÄø‹Ë
Û›L.€Ã„‘ †(ÔFvğætÓî@´K¸:%Øæ{Âí¤š±·N1f5YÙaóA:KãŒíàZÌ[‡:Õ³€¿ÃQ*KÍ~ˆÎ¯†š°±È^m- <ÓO¼ôïA7ÏÏQ„d¥‹¥èFgG’~d ³‚>¬kİöŞ¸Z|/6Jv»ÿ+;µ?}OÄ¤îc'sf@Ì—ƒ2ìJ|q¨¦M:p<ôõc:fV
Ğ—á‘Ï+qÃşÜĞór’BâÌ@,:¹mà‚cÎoG6Ó-Bé³]>•ò)»µ=Eƒh9¢VSÇ¿n‰(B (÷,VEƒLY•$ŒÎ AîÏñáÂID˜ªkİ_êÇš=T¾€”€ê–ıÌÍ…xã]ÏÙ²¡Í®ç²·Ş"RX>‹¸sÛ[melæEûíÍ!-f¥–«
Uê‡~Ù	=¼<•Ô×5K’¿(Üë/%kî ö.`ì}?cÃ~*ˆ–qO|V»JZ&åOò³)G%Ü¯ .	r¯)²×ÖôUvï±!Øô.U†™?Œ‘Ëx#òUaü’ù-_’3íØ¼ÜSe†s’,ö'ÅgŒZ‰UîfØ¦¡R=BM®ˆfQ»ORÁÊS³ı-·š‰Ğç}	>(Ô´—ßhÄ?SLc¯¤–*½O“Í(…kB›´_IZF´œäWÆÌ*§4„u¼ô7‘Æ²?å.ÈNËòÃğ²Æã?˜î¯L%ÏÌ/úˆ¡:|³«ê	Ñ•#`Y1Öø"­aä	jç]?ÔFÂä¡1Q¯®öË?	C^[¯ë@)–ñ1š¼#@¨õVG™/Ã(A¤+ÜgN?«¿Š›S¾“6 W+~ÜâG‡Íf¼Npe#Æ)p€ûipŞ=k¦ÄÉ7aF¡ËÃNê»•º˜4lÕX“ÎwïéOÜÓ_¬t«Ëí×¹Õ‰ú¼º<ü9·=rœo}«VŒ(iÎñ÷‹Ç‚¦fnğ±Ó×tm*lêTŞŞ3–sUÓ90şnuDïı-X$ÁGY¢O\å¡kePsc/§©@›W¯;É¥ËU).ùµWõµ‡'Uìñi¢Y"¦ ³e«XÉZr7øıBP±˜B„8æ/™…Ÿ†›.w·><WŞÀpÆûïLÏOÒ\o€¦èÏR¯0~o˜¢T‘àÎ¨ë™õ$ÀK÷XáA˜ç°ü˜Ú \å‘†ÛbKgAŠ—®xJw4ÅS¸õ£iËÊwÓ+‰;7‡,8pıºâ™Ì1fÄnQÃ
¾Ì‚ÀG&š”ñO ğ` ìB fvdwMæ+m~ÃLÂdO»¿¾&aüãáŸ”
’z±ÌCãÇ’JOa~¿dR÷‡Ûä’Ù3!aYİ<Šv®êbùáˆ¶6"¨Ó‹ÅĞ$âÎXxà‰çë#]U¸™c!rV*Äù@ş>İõ[ÔÁ8–fpŒ‡a:mÂ®È ¶ğèZ‹%>Nøø,Ù(HµRK´9ãÒ½‰åá€¨Apt-ËS $o2ûí*ìd¹RÇÕß:k²ô²C'v¶=ğsMğ9÷ÒÑJN“†x‹Æ‡ş¤BïˆµÿÎ—1Ò³1ñ›o”œL°Øa"ú>74ı]n¦±JdHëßş<B8–[Ò¼¤şwË-ª%KÈN¢nr+œ¯Ê‘Á{l'ÏYØKyY_¯—æî¢Şò®jÎa/ğcJÖ HSi5…´½W#Ú®67øORçwCwÜËÛsõTÆœ3ÿØ;9?”ãíRËëh§ÛñWX"¢ˆ1 Mİ-åÔ¨Šş$ñ°‘êØK+¸6(F£6Ú¸ÈÄéí’üt\~$ºZ«èËx­é›á.°‰*â»kŸ?Á¹ÿ†6ÿçY©á÷KÉ–ÑÌkæŸ8ïwÌü¦+¦” ¸½z’è²'XÆæŸÒJmœÙŒ`,ï>X®Vm½é¤P‹«_alû']>·?¸¯¤Gıa4ºc0B"ñÚ<«êZ»ƒ¦ã]4àËi8=Ùô, ¾Y51=YmïŒµg-óµ8JÚî©/ìÿO@g=â÷Î¦SøğşÉ(šëµB´›€5w0~)ŒĞÃˆÍHpğ®‹½"¥­²ß.&c)Ef‘?àÁY²w¨K ‹\_ùœÌ:—pRï|Å­ˆád<ãØû%Ÿw}YÏH”ÜIù]ák+;ß7=ªî*C]0¦Œ`Ş¥<åú³’Stçûuâ€İ½fH˜ˆ¯SåbÎÆ[ºDñ{ƒº=Îæ&y{ŒùmÁ®ÇyN·y	'Î#dg$q.®ŞPbãOR$'èµ?ïló£Æìn,Í&“¾ËŒ–Pyaª'XpU:†—ÔxK#¹t„×z!QØë,<'¶óÃ¸° ¼ã÷MÎÄÒ?W8Kaòñ/rø¬@‰€e©mm›"”“ßÿéœPk×Fók…SÇVoµõÓÜmd­ÏëÈVmÒÈà88=ËöæE5X¯ò	¨¥Ã^:^š8M†b‘kÌS›„ÁIìroüY ÷£¼[WMO¼à€.½{Jrv”ñRÔÍMÂŠVsTF5PËAÍ	-#ôØßêH[–DõıSò&µE½N±Ñ“iô~‚…Á×üî•x¦)WÉm©ÕÍÑ—¸×X•ò×n¦e4aÕ*û‚
½šÎœ_­¯°¬+P8aÔãSBAÖ‹ä/…Q[g»¼"('6<nãpYRVğxÜÇ¶;£å!\MdÁœ8¯Å@¯PîQQ¯³{´j˜Ë@Š›R˜
‹jˆ‚ãH
(K*©jÑ_íy»è¸YÊ˜5nŒ§üı 9~³,^.c™Ò[ô—]U,MsŠ‚†|v§ÑÓÙğ"²+/e‚›¥y#P–¤æ‹eÒ½wı¢:ñ²woÆ€£Œ=ßFc™x¾xn•µo&ŒKêDûù,ÌóK‚–?Á!‰^ö‚¾;g¿Ô™ÒÄÑ‹¬nÖÁ3Õ~rª8â“6`c‹Äp†¯¢~Ë¥u×¹¤IÕÔq#N †4eÊO¾ÀZ*ï›P0B´Øo’J^?Á^C>Ó­Äµ€Q±4Õ±[0 “ÌïQvVÉ|ïüø6’#Ø(QSJhöæ86g3{/pğÍ!Äj7\‰…ç-AÌ³\7†%Û©R¦ê¶\1£NCÀÜôAçp ôWU'%Í”©Åkİ“ßQrSRøt˜€E˜y¸·n˜ØJ‰bbxàª£w€r~¹ğoÈ1ŠC×©"1/»$ÖÄ-Ã°Ç©Í¿'•/kî;[¹Çæò"FøCB"“TÊôR!êÃôPĞ
9%òÊ¾ÙéöQèb*G6Æô¬&ç’_.!ˆlîÔoåHLÉ9aĞŸæÎü‚ó…Pg‘p­³-Ãy~TëÌ“<”›Ö•Ö¿£ùù§İ>H_¹HHîÑ„’sw©v¸¯2UnE"_Áqy->3£gµÇEMĞò³©e¦i¾`Ò^ß%ïZP¹›Vƒ¡Oª°…_¬…¢]¿
e#ñ(¸ »‘‡j‡Š÷G!?…cU±N2œQĞ¿CíÑ9F`„¥}[oi!<8éÛ§DÌªc™¡Õ­éÀæ˜`ÎĞ•Z¿÷ó’ 3ÁMGÓE°×’ÿï_ç®ëB¶§6r‘JhâÈ]e¬wV¥Ô#oû‹,Š”œãßÃ£ü€AhÖáÄ‰M¾:1Nñ(‘0æG‰œ}ÃıÆ§•|ı7w86~É°J!ï/½IÍÊRÜŒdÊE"8ÒMè•)9øÇl˜ìÿè³­°œôÀ*ñ°9·çÃE§Ä+»	˜ë¥—P×Û5ˆ³a2–2’ı„¤Hö§XZÀZ:Zj1#×'\ë¡ëQ?q¬ÊŸ7í@ŞH†jÈmèİÃÂˆ[zª›ØB^F&ä³]{Rµÿë…ëË)ßZÛ
–ÃIqóè4…Y+_²(òˆ·ü¿4y?·I_ëë€Ğç\Ÿx„;'a_÷ºª(à'ü²³KB»H".‰>^ïİÎz/²®åJƒÉšKëÓ…?[«ãZB¾1Q˜Œöº¶¡éP½/)?Æ¡PË÷dX@PğŠì^+ê®Ñ/:¼M°JåH)Z~vgÄÓ`£s¹àı\¤Ÿ~jgmªãWYåGÑÌ–Bj•è­›4åôÒî¡Æ½1Nú JaèÏbÂf¥­ËzU)Ô³2‚Å»øo0!*vÓ ¢v5éÛÒ%hü·…á®„Y `nÚ¼ã^JÓ†ûÑ]ŸøbáøÇÁÇ´tVHn½ÈéÅlrWk_w“¤2ıÉäÍBúÓİ%õô K¢ìà¦ôÍ€¶™N„^.ôb0*7Ã:dÍõÒÃ…æ4ïºÅ©h¾byêH6÷'óê[	¢nÄ;lOé:=UÉ§Uı=ˆæX)GÎC+í›o"å@@ÿñ®èû*ÕS'ÎúNt™çXd L,)"pÿÛã>Z÷Ò™_Ã¦‘•7’¢~´5VìÅİ(Yã-L–ï†e¬;ÇÁÅë„Œ1¥¸õ8¯ÓDä®T’}ß/\Siüåöd@4SYĞ*gRÍW*È~ÿHÂµ…‰PĞÿúÎ
b¡­MGÓŞJIöã ƒºy´¨ƒ8œB—ô\‚K3±¨¿jjp?-I«éÔÅt2Ó… à*êÑøÖÒ³{P7@›ÑMµ1Ùœ	Ã
Ú©ÅŞÍúd˜ÄÈ„ÜG½aÎÉZd°@ÓFÜdét&üxÛJ~ë@«ÕóÄøûbYÙ9öüS–¬Ö2
åóÇ&Š;şt§ÕÖÀ•·ä¥!LUô~pQj;ˆFF†ó0Ğç'ƒ¬r*vl—ÅŒ@r¤­©s|ÆdE>~å¦…‹—ı µì]|\L›÷V;WHoÚ¤™j4cm¯»@@*G[pDBc`—Ù§R#]E™î&e·TÖ|-¬ñ“”¬»t³#B^—TNj´ï~Z‘L¢QucÎÑ‰³Ã±†oF{iõñXB]ØéüÔ$ï˜1ÎMùğ-ûİã–Ó‚ÎÔ\ˆˆUw˜rE­²:ïycÒq¼øŞZ¯•E.¦‚ö	…É¼uU£å·L¬ä©U€æT­¯If1û|jÆ?&ƒÆLÃ[Ê@ñÒ¸­ø¤Ú¹õ$E	˜¦İ!|€ şâ$ûùùoîõwp=øPÊ|,ÕûGgG£7İ]ul{7ò|W
ßµeC¸©/0á).šˆ@÷ƒ±‚rÃ÷sĞ0#vvÍÈnó2»i~ø@¨TN™DöA¼Ø nNY{„ka[äQ}dÕ2ùcIcİ›¥Ü[uQ×—Û r²§FAªO<°ÏÁ÷2k•ÆE2M³”éópº;A½8‘`È]ÆgçvÈñ}¾´5‰Ä
¶—]fN©<r¯¯y3m6~¯¤€€=0·4*BÁ\Ø]5@«®OC*zô‹'˜%ƒä[ğ[ÍO¬4´V;¯z¤°hë”¸-0ÛŠïÖ–ü	Ì:â†ç¾]1Ò½ ×öËÂàÇz(\ğŞÄ'qßœ´®4kŸG¬'Ov_’EwKT¿Z€:W¼ãêOŒì(ÙŒFáÑaÆ*%ò`MşGÛ‰ŠÇ½=:ü?dÏ‘l¡ 	ù¯Wí0Çd=,©†q%.[ğ1$ ¶k3Ô%Ë>ÖÈpèƒ §äu(¨\ƒİñ‹„`ğ “1ØÁ½ÊHaƒà	qß/-CïO§niËo+å‡É²Gk%V \¦iª	ÛÜ	â›!qŒnˆ9ª÷W›·Ã¡¸bÎ¶#M®½¤Ü¨»fÅ{‹QÁm¸A-7H0å1É§‹7ÙÛšk„¾ÍgO0‡`¢Œò½ˆÁ+Á7XLÚ±/J`¡k3m£"ıWeÁ7_P´Eğ@ÄÑ¢´=õÉG@ÌnÈlÚ&œ›g“ñè}É¦”·Óû–*›è¤eÊò=å ïk/ÖØÅÎ¡‡yIl¸z'z•‰4šüË£Ä)Š+tÇú*ÒPk¦^5~Aäú·)ƒ|`iLcP~vsîŞ2:È(†}§Oi¦º(Égƒ·Ñ¾"t÷\Âó5MğÉ‰ökG#7ÈÑSœ6“ŠAMÆ
áëÆüÂúÑ¢Qz–6†æÏV	ˆp’¢‚şÎzx¿Ğ~rÉÂ~5Šø’ÒØú½Â&ÿ°ŒQ¾ÄnÌÀ(Q¨ÛÕ÷•öî ¸ø ®€}PÈÀ„a`û=¢y_(±LöË˜)AUâVaÜy³`±Ş8U€•f~ê£/#xwoÑd¿Ë›E¸Âñ…æz<¯ÎPdæ}  b4©¡Ò&‘KY¿…2:×¯ı|wÅ1ñF	5õÜ,7Š	\A0×Ë† s–ßËÔMz¶h¬»Óöèôë“¾¢dw³‡ï¨ÔìÃb¦Û’é)Ì{œ©<P¯|-hòœ!íI<{À!}AäD™;õè’N!õÀƒøp-ˆ6c¢*°F©Õø	Èæc|:b2·º£ÿGüëãt­qlé7¾4"×·:ƒ^ûD•HUg2š€ª"©×¬ƒ¥¯¦”ÍbŸbt¼¢1îM ÉÔµÏX
kv)µvÁ\ Æ‘¶AcpA×‰€ç	¡ıÿZZ8?Kÿ¤3		Ş¨j`7Ü`X…@Ø×N£sÃîp`%˜ß˜ì!L¡Ûñv«!³yT‰3>k;€dX*cƒÊzkrƒó|„ØöJ$ØúFIõQ7tzŒÄ"×ÀáKÂ$¤rc=%WM˜UgèH á§ ƒÉ mŞÓKê4àQì’Jn1@chøµ T…/ÌŸä[áÕ‹RGşhqêØyÈ Œa¼ØÇÅR	d¢×á§ÊŠºX;ÙÔ»b¯?×ø À¯eé‚ ÿ3%9h‘â~Ãz°¿‚ª„Û¾ÅÚMæ¦{˜	Ë‹§İBM..ÒB4´ò Y<}Ğ¶mı-xïºçğƒMœ÷¶ufeˆÁ
8É;ègÈ˜£°Q]¹8M E>«ƒÒµPH‹eFì‰[ş+±XífèÊktaÒ.à§Y!8º’Ğµ®>Æ<ÿ6€#Aí*)»«½UE!ÃÄ§¡ÌÀ' ÉÓÜU;êÛÚ›‡°NßIqvÇC¿È¼Æ hïàl¢‹»“I[IGu7§ÒP(¦ O>r²çRV…à ŠÒ5š TûWøEÄ¿$ˆˆ&C¥‡Í”$ÅjåL{P[1W¦ş:ah¯É6“ßAÜUvfgaS8=ä1Ë«-Â‚.T½Z²`·*×M‰}åŸRI™ıèAïÊ\lô>  TÆ¡¿@so&SC*Sşà×YHÕñÔóí ıWÛ>ÂÀö£ÂÅ`­YJ%BŒÎ‚¾4¦êIŞ/ôk>¨0<‰-n7ù\ò£*#æI)m¨õ<ÙùŠ’İ|âbó Ï½Öµó˜âb¡ÿ“_’åÅÇˆh_Xƒ4Z( Ä{'©N$aï {*-Ø×™Ï%øf‹öÕ¢—Á>ÁØ@šÖú†M7®Ä´À¾? J³Eb c‚*SÆ'yƒDÈ¡aîzº1‘S,áÿÎM*¶…˜7İ µ*Ÿú0¢éÀ’yBäósğÀå×Ò.Æ=Gó ì`7È];“ÊŒîKgR\ï£uH~;émÌaÿŞ Ğ(!‰²³=ZÒô5lU§óÕ”eØ‰“aÊ\fmÈ™Õ&ráqäÍèÎye7hŠs‡EÆËe´uC¼²ËCÊ¤ñZpÍÈì™Õ®6¨”a;Ì8z8œNi‘ÑWÙø*×¯cd7w9İõqtehZƒGæ‡QéB:Æë›ô®|lC©]<ƒÈ›n>­eÃH©hÇiTw6¨â¤ŒšDÿ5¹röAˆåÀ¸t3…°¶­X‡‘ô¹° ?£&™-‡ğ‰uj+98ÛôËçÿaCa&°sq¬{w W»(5BLí²Ák™Šğë]?”Úñ›€İ]FoSÁ„”»¯‹²~-°KgPw²YdÎ&Yápx[kO›·£“B5zİÒ?¡Ôe;øúF¬'EŞğ 4¨şÈœÏÏ¡€Ò6Øàº×À|8yNñIúÛ¢-ñÊÊX—WˆNêP×@i[û>UBÛ&·\Âi”’Õèö/ƒ5–„mš  e±µ,‘v÷Ow±“Ü‰°–82x°¥Ğ¸İ´¬Ãå]ÅyG¿b?™ \íjÄ  ojÃ®4“!†Â´úJ_1#Ğ8ùÒîıªã†T#´²yzXAÆP'–+…+ÌËå'» iGG¢$\¨M^…S„ãˆ3}cqjS/æìh" [ÁúÒ¢‰ôZŒ‚Oà:WğW>iö Ö ˆ<x³.-!MzUáf¦û¦ÿdœHuH€&„ø:ç„Z…-ÿm3Mi(ÛCØóKrkü¸¡2»+ost¹£®9U¢GĞEƒ'÷ª÷ûçÔBÈÖoL¼@ 4²Xy‡œ~K`–ŠlÂ!°®[™¤¢\Zb™Oèñ/»Ğo|Î/eâì’;ïO!’Ì÷ñ¾;"Œ	SP4²gB ­Í¹‡))|EBÆé~oµÎUÀcÛó/ÃáÕóˆXcø¼ëlxd ÙÂ\¨ğ_Ú)êºÈdàÿÇMØƒ96§
K_–j3ç31nîá3sw#[Ü;ï¡Rı»Â	Ÿbn0¼Â]åìÙ7˜J„Sx+&¤©‚Ñ•u¨–Rf8Jr¿°˜oÅï—ÿ^?û`È’Ï”fo0RL]Kòü¼{ÆZL½¢¼1í¦~,èGĞ|eîmHH´^ëÆ8œüøÃäZˆ€Cğ:¢âFîNá&õ×Zg~”ÄÃCÁ˜ñ®*dFAŸàÈÈëÅ…{Şõ´F§·6Xv&•±MÂo„‚fJZv·ÇEfa€3ar;@kræÍ‰|^Û5mÕÈ.ø„   x‰	£  ×€Cø1›ÍôNàÙ0ieœ¤F—Œ–‚?ÌË’†ıËÍè¼Ö'ÊT£Tü>¦Â¿€c · -‚`F0šğ™3İ)O]Ş÷!™Ùi%Í„/Hcm=\¬*tĞ®ù(Ø Àhè=‹tÆ  ?•ãƒzkKš‰C©h7â‚0ÀàAp{&á«ö[Ê+7?ÜÂ“PcğGü7®ü<Ö²t\2]­‹œàìŠ¬zÆ—AJ
<p 7¡{‰W¯]/¨ÍXÈ	‡à%G¯Æ     lN?:ÌÅB	8$€À®¤‚b¬¹'D@³¹£‰b2T¢Õ™˜£G4!æì¬6,@Â~ÿ|
ËUá…ï63Ó	LuÙ1Û]=ô1b”ş„Æœk|Âáì“!qÚ/ ¸~ø…ã,fz§h ‡$¼MÁïßÂç­Ûù£eÒßõwî®! ²)3¡+?ö)LÀâI~Û?‰ÙFÇ)Ä¬ş“ÂÂêÖä+` âYíih:~´U°h¦ôW wµnH˜7ºÑˆíÜËZ]ß‚Òã‘ûå°Íù0,>y¯¾ú|’ CçÉrQ§ÔyÖ"w~Ùã]JN>>Á¨¯#`}/˜ğ,¥$äáUZÔd}” ÛtN{”QHÚ°˜¿o™OÏF'4ü?~6CÚ}.ä•%(.¹qóQ¬°6 {•ñ›‡O(ßPî5/?9_M›Rn
.ÅËóû³”ê)Q^ÅıvR«nBy.F‡†ÏX´èî¯±ÀëúücT4¼şeA‹wçg„³ÊoÑrÍŞ$Ï@ğ+÷ôî5EÊû7Ğ/"o#È UydpOnª½-P¨n!tw	kœ 9dD/%í_{Ëù¤F¢Q|×±·E!†Êº	‰×İÇ(úâ_F–'¬}¥ œYïmP,)9¼ŞßÈZ :aÎŒ"É¹qrÌİ
«Cå¦	jG1B'ûR
Ÿ-…œ2c,x4œ~Ç LĞ@3[i›Õ³ñP1'œ²»©Í=néÉî—³Sya®ûbPÊ-[èJcªõšcsEØØ¦¾w[ïğ•‡%#”:åñmĞÎH€ZRiL8Ù€ ^COÏYÎóĞ%*ô=º¥!ôË‡rŞbÛHÀm·†ğM>œtZ^Ù{Ji„íÍÛ‰„NuæÊÛÑùà" †F)Jî0ÂŒ²b¼î`3»±gĞºNİ'Fş½5…ï[DT”+İI¦î3Ğ0ù¤•ò8û)#Õ¢Õ™àR6c%Z%V%»3Jµmìç[Š_'k"nPËşáT« [¦8B©ú€@ ­Ä¦ô #7yfÀ–¬gµœ@Õ¥ÇŸ¸=Ø±WKéÁ@eÄ‡k7?T%`éO¾N(cŠßïcB ƒòµº1G¯“;®€Õ©1R÷²à¤ÿB©Fß—o¢\#Ëİü¿ÆfÕÇœzÑá¾¡!òÇmì®Ì¬!åRI¨ŠûñøÛÒT¾œmá’ëæc½½şß…­CËëˆ@ª=“nvDÒ
3˜õDx²ƒ”q¨®w¤CPeŞ_¡´½¿âÄPr¬ó0·ÒÄ­?:rÓ£z3$y"›Pš]³9şe›Ol³ékè9'Ä.üwôU—Áñ*lCåRsJ@>mš´LæŸŒ6ã–ó?O¢a·Æ5Ü²7*ñ'Âf­Ñ+©Šù0ÕV®5	EÖÅ	Õ]Î.'ÌÓ¹b$¼Í2D„PÎüØÑšO’EOöU£¯Ù
…ôàkáP$‚V´GÔ®ÍnZ°àÚ]²şÓ&é ^‹EH:fhXıè¸«T6"¿½¦ƒÄIo‡¾Š¯@$ÇøŠ¼_e
'ãdóAö‹ |^…¤.íuè Ş¢7‚8øY¡²ê:TòõİeïfÇ±ZE“)d‚´ƒ§ÀC†_–dfC®v8eÛvÌİ(¢tŞ¸ş¨ç2–Íˆ°¯À”ò’d´°gki'rEDİY¾VÃX$¾¼qZ7@Cäb †
Sú¬ß	(ˆûïÖú1æÚŞ¹§ÇÛß¦kë[5ß¨ö-#IÀ%a¡¤š">!/Ur+©@4ËŒ¾m/F[*õ·˜FSÚæi–PP•ŠÁ^¿ı™%ú'¸_F¶²¤14÷E°ß€Ñvù'ÄF§)p.öš#DğF—¢F/ÃGÓ‡¥!T¤Im:ª“Üû<0…!ÓĞwF/Ê çĞ¦9‹Â[5çİ±è‘¡aĞË-Îx'mxÛD(ñc8I’Ï=—YèõÔ{Xñ ~Õ-Á‚yÍÛvÕM$d8sWM$§¶ÀÉëîàYé©÷½,Â‘ÂÔ6K¶óCUî…™\vÁó×%®uƒo+“¬4„½ù÷\kCı(ÛxV|RÙàYÒ)=‹íƒ¯`tŸÇ>ë#a*ì\ëh†6¼[£i€àêÎ72ùîÙ·.W²¿½oi&ã!¼“>—^¾¯:Yù¹åÆş¶'*ŞI.v™n/Ê’–¡ª–Š¶ÿíŒÓvn[ÓL?P/€ü8Ësz€	ô1!ŞÓğ¢Ú#%ZÕ‰HıÏ
íJf¡›œ¶äØÎtÊ^@Æ&#Qoo%ÄšKcAØ³aâ~Éî)¡J1Ülô÷º M%|U+}ş©JH>€Ælµí\ŞRgjw"b7âºqj	gÌ²-3â¸W%êñBtÚ:ùUë¼ÿòW£l«ù*K´vÂ‰/¾~ˆ8!Bu@‹«­hƒ/xS
25©ipåwÀÖ…oœü›ÈKñBÂ¬‰UV …ÌsYaR˜9¼è°Ï<ÜÀ¥¯ypƒ<ğèPMşĞ3"W}» „¿dR<IÙãÙ@º*~Ö¬Z•Ú¢rG»99°!uÎ õYš­íàÈ İÿöNª³1LË¾*ÔÇ2Î;°Vayãw'€6›°÷wÀaf¶Í‰còÒÇ‚‚\ù©âUÒ@­¦ˆÈô‰½WÏ¹×X~-Â³Wø¹ÅR¼êöØÉÑGCÙ¬¶ÖQœ^ûíˆûw‰ 1G£k{.6üÛ×ÆŒ.ojZ 2nm–¾²ß>aÒ'Ï±ÃvÎ+"ö@xšô˜ò°ô‹@é¢ÜpB¸´Á!;ÿøú5ˆÇ^ÙÖÇEÓ­ èJ/©k:ÇÔ–dÊü <`Ë3$	ÁûËßuFÁxÉ\_YZÃ@Óæzÿ”ÏL<ëK/°‹”TyÎ†¨H8¹ÎqÙ+BğYôv…ë +·ŸkëûÓÌd+ç¤¬¥\ğ…;&aèÆäÙ"İB=Ğ­"àÕWâ–‰äk{ş#7/UÍµü—hQÈì3æ6e·Àº¥ªÁT«e“¨—ã¡¯!jjQÀi¸Ú•&¬+Åk”æFşáÌë	•.í_rª<Š¨¢{v	-Å|«÷ë~Ú±Z˜ h½ğ’{î÷h²ğü·”É"qÉñÛ‰ƒ$^Ø{f4îŠW© ×³tI²VÏ˜3Y‹í (9ofˆNî]qj’ÀÊ…	³÷GüØ‹?"ƒ-nœ¨?¥6òÿpM„0ºÃ Óñ-‹1USÚAì?&‰)óN¼%ø»ˆVÚŠL¼¾ğ{¯ FÇöÈ¼x¹rbêt‹0V·1ô¯¬ï@A8fôK=ÿ§w{3±]HnôL=ö¨ió¡Š5ŸúÈ¾¯¸–s—¢‘İ%á<¾¾Æb½«ñğxš7ö2ü±×=Î	ü‘Æ5êø¥ôıtªp™[½æEAÚ¢]iíß¥Ì¹.ä—y•®ZuŒÒŸŒ²`"àS¸ÙdÅí6®@¶ÂİIæ¾„~N}ÎàlÊ7P¸òÄôù[Ÿ_÷šfñ÷PCÊÈ±QÓğµ$qfLPø¹ß.5( 9€òİ™.Û„gÚpäI7ÈæB«ß[fW!·‰³ùÛöRXxä3|—  G¬É]4,RÍú¯v–HJ¨,bÀèîbŒ‰Ç¶9“¸Õá~/æIWªÒ:*Tƒ–½c·”2¤‹Zía¥±ˆ$BN§ûşPdáÙåx.˜aØ:rQkvÙgVNiw!™__\àNßòOõ…ˆ½MqxŠ˜Ë)ä±ì¹ÃÃ¾øï1Ô`Äú¡hıbĞKGš××ìßæ¶ÖWâÙÑB™ª|<ivW?RÚ˜¢[sæJ«)˜“pˆwwüoB ‡ìô¨§¡ş³äÄü‡İˆwQğ?˜j¬·Eàªu—ö7h?"*/ö-b„d8¨‚Á®´²çùÀ0Fåòmß¥×À´e6tº…Øu–ÇÁŠÔE+d	§¢QËÄr÷ÃºÿHd &î¤ş›vÄ±´Ô)¬}E‡›ºì¦ ÇÑ<ƒ'\ğßh0ÛÒÜN±aA2Òú¦7Ñ"ıÍ¡‡ó¡³Š³(‹­›÷õL"2ÿ½İö‹“á	‡Ğê›®kø+Şä…&¹5]æÿÄ^Ä¿mMâiñCLRğ¿ÂàÕs4HtI'à(¶µY<D"ßvİ‚ ìÆF\S,…O%K»}Š)4É†š”LîmxÃƒ”½Û÷{-’·VÂY(ƒçÒ¬L/hïÛ
Z{!¯yòVöxbÀ´^—h¦$OĞ(>^mÙ™^f ‘‹1†6İÆº&%›k ë-È6¾\*Švİİw^âÛN­CV¥”D¯şÎÓ„	ÁÉbšÜÒ¼À0m±:, Âxë¯ƒ/<¯_wöï
mü5Ş©?_LŸÚ,$kkÊy 	•áàÜ0Ûx-m
2µ%İ¹Òb ªb&yqdG‡º¯Ipù¦Êæç
NæhëS¡•šB¿Èûä¿ –š˜ãû¶8hËĞBf-®{cç¹eğ8ğ‡ÎNQ«(K¥€f(¶mÉ‚øvØòNz?•LÌĞF¯üÓW³zµçPgÅ…D iåÂ€|¡Å³B´…gJVIßŸÚ­Šcô_€íwªò¿QüÁ„[!Â)p®î¹ı´éœ':ë_TÊ ş‡¿c„ úhRî…Ò2ÕïXØÆßvõAàæ pº8’¾É—Ö`Y÷R»ª6Xº‚>F’pÆQ}†hVy.ëU.¢ÏÏ>cÈıü»sëòx
k\ÊD¤Íñr§‰Ò©Nã­Yqo¢÷y\.ÇÍz$¿Ïª‡|pTã¦´‡Uüêu¶g@ı¾¯Î`ÉƒŠŞ¨éÔI7Lßç!¢£ZÑí‚G°V›K€©Ã»û;—¹™Ğ½Z‰ ²ïÕ¥’6ØĞ¼MGİı*Iß]>;®rÊÎJ¾`ávf,ryŒ8‘vçŒ[°[FèæËA‡hºP»_¨¦ÑûNkÆôKÖy¹hUIk93²`UÑ/Û.óñ1ô¹>MÿZ<Lä±5×Õ:ÍùVLåc°,ÃIøHFönaôcaI'C…wÈp¤z²lá>"Å]kı¨tO-}¿d‚,¡dì
ò Üß… ÀLoŸ!JÔ <¯§|j¦‘¶t¬§ €»$áÀ²¯›às½%B©è%ÂÅÚ˜5qÚÂ¼¬ó(ö€¨ˆë±ÕŠ;i»ä%Ó‹@Ç!¨[ÚkoñÆ°¬ÁÏĞm/ÁÓ^d¤È²¹Ë?-LÜ)ßVÔ1ünLph¬)dÂ`‚ç¹¾vÎÒğLèN*.øÈ5KhvôU­¡”G5Â¡İ™Î¸—(Ä¸óòİ)éÌÌ=eèÌ«À¶UîŠÂ8€SvY
£•¯¹<¿[Ü}!ÜT%XókR,[øªUa@W«!ï$d¥Ô|\İÒC¤nP¾á–ªP#}š(ŞmÁË»¯Y]jõq ©»à6º´ºŞJ4Ù9k¤;TÉûÅBOÚÉe.ëŠÇİ£M
¡ö–Â˜Ÿ},ıc·C‰)·¤y.}êOı˜$Ìûcc°Ö~'àÌ€à~‘ÌF7ì0XYè~òVG¼äpK%\'sÈ"£?D W¥?ƒØtÿl\.á€À¦‡ñ„ß³àéá!w‹Î†QN æÌ5€lºû“4}Ü´“övÆb}ëÈx!ĞÖêé4ò]øLË‹I}DÀ­F|–Úp¯ú±÷ÚLS'"Š	iåŠ
ÈüZ¦Šx>]¹O0JåO³bˆ]&{UK'ŸÚ÷T”U`UëLYñ\Ìè¢(Ş2V‹€¿÷ÏM°.à%'(_ÎqH)c•¹`ß—8Ï'‡—KD_—…l÷
ùöïbßÎë-0dB>h>L±Õ¼Î~·Ìxà•­›£$i'÷Yf,^™'îxv=şÙ$İjÖ~tıNƒÁ6r;x£ŸäwÙ?ozl—táÙ×¦Ÿ»Å$‡k¨ç¥\¿…í#N
äïúç¶pïZğğËD3½[’L¨ªX¦>©ò¸ÚjÙ>™QCŠù*'S±Ã‘–a‰<YNWmW lıÿ‹‚õÖUE…ô©/‘vnJ2mÚÎĞğN0Î]ÈşÏªÜ{>¾ÈYnÏCÚE&ÎÕ¹tw«ì"˜às± ûØg9Ãã<Ø19ºä+ï¹UÆÓİ‹àNÜ¼7œnP±,Ğ¥rl‰ÍqÔÌK’”ôè=V&â•ñ&à .Üit„Kr‘öœü€<âø—&ÂC`9„—Ú½a^à¦O7©óÖ°-1ÙbÇ\È¼†“àr|/)²[Í¾ı˜YtwY€¸ZòµÎZíŸşd8»4ÛÉ´³_"ylº>sÛm%z¯5¹úbö‹HJ&j#7Kog “ª¾V]½pÀ´ÿ»¢½tŸ&t_á¾ò¯)—Óî’i’¼DµÖ'L­8Y€ò±£…Fº”İÃYfåğ`øíünlŠáÊ±ó¹éÂ¼Vİœ$r}"8ˆ5ªC²,b¨_Ù!ÊHš^¸Y:eá?Ô„Ñ x]Ü¯'[ß!âWçâ˜,·¢&¯sŸ…éM«¾‰LŠ|…ö»æÀ.KòõïÖ ¸«‘Ú³¢9<Z×Æ¯È×«%»‘;àù*(¢ÿ¥¯œ}˜Şºı˜ì‰¼×::³5Ÿ9Û‘ñØĞÓÌ©ÈwJï7soì:m×“qx…ìW]8Õ¶ÂkoÇ|.ÂV‰U\EïqİZ˜L-SùU»¯¿!$O»l]İóú°Cğ¬(òfTÌôüå;˜@³s/ºiL«Qëó¡‡—ùS3E1év¼æ¥ºu3`š±5¬AØŒ™f½›}°8àÕ]­ tB"ëÕ"qu^[=ÍFKŸ„œ±¯Ï;Á~Óá,íÂâ}Éˆ¼Ö ›B„øì[’¶Ó/·Ed³×8"z[üV>™±¾õÂÜ×3Â‡ìëx4±œ´¼±ô}íù{Çf‚¢RÈ¹Q›d
_HîeESÒ(@]s<Ë§+
x7;˜ušË†üüÈ5P`+²»şjÏØÇV"éI)î#“ì°•(üñ‘G‹ÌĞå@÷h%Ê µNu» xa7‘Tëü2²~ç›+Eh
·-§Š˜×±3ÑÕâÈ_æç‰X©oB’eÏÅƒuH¸ÀXu­ş/ı‚âG=ÃMLªMvğòİîø
D®Äèq]&äDƒd7J²¹;æqÑ‹©y¼-ïŞ¡6Ù,i( éê{!¡êò¬P¸>I1;%³È L½pÜâ'&V
¬3»pˆë9`¨"ºÔ³ÍlÄÀTî›ÑÜğÎj±:öGh÷næÁtHCêZı[~j´MÅIŞÒªVË“»rÈ1•Æ›òµ¶ø©‹­ïæ>°Fmj—#ST"®u¡zWÅ¸ç
?…–‡37d[&IW^©khD‘‚]š¹û¬”Â¥ò+Ì`ş5
 ÛâúÒG„nŒÕÆßU¾t‡âdÇ"Á"¯`™•æÌÃ^¬6ëç˜KÄàè{Ó¦‰²	™E`âDôıuêÕ%®¾ BhÔÒÕœç]4•Í¤ãŸyÆ[´+r¾Å–ƒ0yAeGŸğh‚E)ªÆæ"V`b’û\'†Õ-ğOşÎ]¢#Ñè„Ñ’zš½¶^¥
ƒ#8°šˆ\f³-µƒòñ+08>ÁAQ|æÌ×ÑòrÈÀÏÂ}è¡=¦ò¸ØÔá¦Ø0Øx¦D³I#7êş¦Hİ‚9La7á±õ·RÊŸÜe¡öı±p¾’ô¥PÂÓ ™£Z¿ÖÉs§‘äT_¾ğœ„}Ûô¶Ö8dº+ÙJJäFßcvo±ê¬|ôG\æqÛSi„T²ˆÖk;`õ;/P>×†åŞ¡VLğ¨q6»“"].(sÆcÔÍ×¶d[õ¬7$·@àh¨ÏÎ€;‹cáÁæÔjÈêú¾5çtaË¼ÿä@ñˆ.;c™gş7´1´ÜÆü@Ñ”’™jªn,W‡§ÅX·*–SÙiXkÄxÚÑîöRh!äzÀPBî¡lFÔ¿|mß‰Ÿ“,1òD»EùÂŠİœsƒÒëøĞ”JNb!R[“xzïª/çÊ›9™_'L4A¥‡9°ÙÏ%}Y«#N¡xéÈóiÀi¬é««Û0¯8+cãh¤z
ö-ÕZO´XïŸï óVª$äçYFø¥íÃÇ´IÍÅİ1Ûx1£ Hq}á€´f€õş›2$#³qéy»x½cš¨àH›L’	qj›ÃåıçÊ¡cÚwM·ŸÑ(Aõ™VôÆ‘²ÆÈòøÃ^Œí¡Â;å@t•Ë¥ÜŠ"{Q-›ØpÁjëXá±j÷ØÊ½¾MjâgsÄõ¬|›õ„C™&L!QeM™İËqgÈµEbåŠiÑ§¨|×@ÆÊ\Ûö¤[íŸ%•Ó’b<}SoºŒ9Ó‘\	ÅÔ”+*bÂ™SÕÎ“$Æjíºg fÛf-zI~Õó®O÷v„—bH;'ÈËÑs‰c)‰Ö¾×ß‹ÈÅÛqlÛ×nnj5(ÛçÏN¶ïÉu·Í`	š%›Kƒo]€jPk+L¤¡·p,åÖiŠ @â‚¢ÛäêşpÖæn7wÚÖÃåÊİƒÿMó/^¯±\i2ÀCüÓX
¸/åD,¹çµÕt`ÜÚ9Â±5‡ç†@İœß„LºH‘‘	èÈ¬fŞîGÏóÂH°¤Xè>—­tÔFÊôèoêU{n`=RåF5;ÎèTñ˜ğ_–oS­ÕÇ0cEf›œü²ú:ƒ~Û³Ë,Y:7°2òC|¾¼Q¨l|»úæëtö¿Ôc0ÂYå
¦ÁœfÉzM
ğ1âµŸè,öÀ™ôb7{ı<²:„ ]q¿)zH=¢İ/D‰Aûj:åEÖ,yc(DÕ…¨%³@Äî1DÊÍ“æwƒn}ğÖœƒö·2üü×€û#  .&»VÁykü>\XTa¦y¬ôœÇÄMÎ®éĞY×¶Êf ªG£%ùyZ¤—Ow¤Jh%’2ã™Äöy·
4’n¾¿F  2Ğõ÷Xù&v«®ÓÍ‡XTUÜYäÇ`Í]Åí§Ä%šS·+å11¹h‡–2ûppPg;ú¿Û<Ä|Dø7ÿç#[G¡ón?È8…¡e£ß`Òİğw(•+/–_<ßÊsŞô,/ôİ0³·¶‰VÁ˜Ëş`c<çËb¹1—42š6k¾p5zy÷~[Û¤$J±3•¡U‘âµxW$ZWPñ1J[|ÀÇ}"8Ã»V3±/ËÁ¥ÌªËy(XF8[ŒO{‹Â‚°Ë8ñõ~aB^·OŒ]m×KH%øõÎnœÇT!K)=ÏneóÒÔ]ucB¹vnó-=::‡S÷³ö3şÏ¥6«ØßĞ«Ú«Mf'’ÃÃ•~8ÎTíàòf2°ìe+	‘‹Û0¡\ãšÃQÌ^Ã‰^IôìöKïÔX½è´"¡%X8pÎÈ0L$©¼kåbà-dÊ“©m©Äc qK_Şv&ú<â²Û:.œè_MgáÒqÅ¶;"[lßFk}0Wg5YÀ&Çã¹Ñ¾n¹Œt5¥Ç…½vğS0ÿÙ²À("ğ‚ìr.=fû”@ À¥®“@şà‘=&FWQÏ…è(ãÖ½Ö;I–®1­ ¢„¹:9¸ô:Ë‚Û?2‘çm£ŞQS†›iS¦‰’`¯MŠ—bˆ­B3ò¯éœÑ6Ÿow1VUıéÒõ3.ô%RÌ ÅÛC­}ù».…RCÊA@Ş»ö=˜½âŞ¨n–	Àøñ¿¦Ô¶ ƒ?Õ~Ôò»·…ƒÓ+Ñ^å¬Ñ½0,ÂT|»²©cQjN‘	–&¢JÚ;åHÓ£¦gıF«^'ªÜürêˆ]7@	t’ÄD>$—\ËÛrğşO%Ë»V½ò0ˆ•dO2ğ^CÌqÜ±XıçŸşZ®DÌ¢éR9`pš­š5gMÆ-C×Şió§«bÜÄrØwt²}%†ú"r¹óŒ&­iÑ%ÿ•#.1»3š’‰’°hÆ
Öÿ¡ÖDŠTË…Øø}9(-7ÂÆŞryxßKä‰-÷'=æq¹šqÖßkZMQ øbå×K¸ˆ×ƒ"/­œŸkˆåh´I}?ï@q>%¦ÂsÏ Sær@vàLmàcˆÓyŸm«LÿsÇf\UİÑ¦à…z1‹¾¾L–ªwì6aè‹–:Ó+vàèıgV-àbœU0?£ØÑtQ”#™™ï<šàN°—F¢\ Õ¹àD%lxØÅŠbÊí:riérÚ<†Ğöoê`oÓ\µ¨ÔñÙ"‘¢Õø+˜=_+ÊïÄ>±#±#*.K…â‡Œl‡É=g89sq“i§”5²E™Ì$USBFŞ²ëÛıíë ª$§æ!ÏBÔ¦ŒHè[¡Â]/M1?öq¾)tƒíEpG‹ç™œÄ£OÆ€9½—ñ7è~ØñûßÉĞ<aÓ{‹™¸-Ã‘¹ğ|´})Øf]t¿öö“ ë”q0ï/p7ri¦BäUr'V§!D(™„ß£#Ñ<Zæ1ìö‰Ó®Ë+$'òqDË?	Ğpd¶¼É:¨P†Ù¢TŠÆ€*ª…`×Ô/l¨
¹²_K!ØŞÌš¹yĞæEÔ¯Ç†v={ÃÑılñ¨yšü\…u9V³-”+o>°†0·îøFW¶¦ &3xi€Œ2ZÃ7_Ÿø¨­ã(œdïNh‡üOÛ @%A%9Ùª:ObL°B¸&7”]4²bªÿ’«PMHŠ›şØƒ,^Ê1ºSY“•‹Nõ¡€%êÒâéDxü«ˆ•éºv´<U½sï°à°r‚Z”üïËJ‰TnÉgøç6E{“ƒÈÓï»w)}á¾"f1 Ê¹•¬‡¹`ÇG‹íRrzaõ›6)ˆÖy„¨*Â¡»¶%ÌşåÁy&(ò™=O÷•|Å´Kã,ßëèİËÚ³zÙ–ı‰ÇfoT‹B[[ZŠ,8Aß±\;~ÇO&Ñpµ²¶Ëv(PÈÈ1Y‘•ƒÆèc
F§.ŞÄ‚nT…œğgDê£^ëå5U–Q‘„w•1 RM—O¥É¾9h¸7k—{¨b
àC?w«·ëËÒÛ‚@öx¥Ô°›¨Ã&{ZÔ\Z„éç0—ƒlój¾á¦?>™XğZLÙÑqßùƒ¢F*@cŸ-ËÌ…Y_F7º[sßáX_*™<$/’½Xã'C'¶æPõ×ı"M¼â	_øš«½Ÿ
?Û­7]ŸwACi)Ú"³WX+@çÒ™ĞÓ×Ÿ²oO×\³{†ÆÉ>5ñ¨®¨—¾Ğ‚.]S®Ù>ï~L1É9ã¬7S'¹³9}Ñ€'=ºnÑÑõõ³à¸Éo:CùôäX6!búz~¾6RÙ;¾ 3j$'ä&äu»şïGå÷'h^^ÍB¿AAY¹lŒ.†(‡ôNGmòÈM#èÄ,/³ØyZe¹Œ#©–îYëº{W@ßVlPü:Ö*I„”ªö;wWCº	*Ä^ßBy˜Ğ ªİfngº'ğ’[ÿÒ`¶y¹[çJÇÚ£q¼gºâŠ4´›ô°±«ş±À¿ŸÔÅkhh~ğ½´üáêŸ±äQ@Ğ¸Øë«Ø¤[>«[d¤6£¨PØ9Cô0ãŠqÇ{…v«*Óéˆ©ò(÷ªåãûBÑJ^†*•ã0>í}XÉ'¾e	ª×Æ	ØxøöÉ†E8t	‹Õ¹c¬¶0zËÌ´),BÀ¤áêôÇ™Öó±&°‰e„˜7cã…ì s_ib…t§”h‘ î—’î.©šÀÜ»zşËr;›Æíú]4y2êŞ •&çŸÚ1q,š…@ÁJí’GBëf¶ ~•Èüıb´Ó5TOòï8{9pDíµõì[+¿
n‘¼·R¨QÖY›¾	èa4AËmG%72²Ö(	}H§:[ŞUtìXÏ%')fGk"¶(GV"Äò­H5˜ö`Û6|ó€[S„c«B`ëŸ>7¨´'æözÙ `¦¬™.Ñ~.Af&ç&.—wºô{í©¦qïì¢fÖz-şò|fÁşSŞ÷cQ›AqÎŠìa³ègéáEçuçŸÍch1‘±°ñAå‰öò)~ë§~y½ã@µg†°¥z*cŒ'.²–w_šB~*õë¦ª<Uñ®qV3çN¦ä\´’)Ş >‚”@z¸mN•#äğˆä+«EÂB‘‚o«M”ëáVZ-ƒ;V}7!ÏÎi²Oíåáru½ØÊœî¸\§ÆiÀ/ÕkrPL ’İ"«'şã´1må2U•ÕO7/£*»ÛÍ:váW:ŸÎAÖÖ‹ÿö ìŸ1GnÉ";$!ÙxÏsºÇùˆ{E€Ç8šc=çU4ÜëB}Ë´¬O'¢Êl&¨"¡ş”+—Ö×Ì†uï	/î[Lìä#Qm´„ÔâíílZĞ¾úI‰¤JU•út?©½´RézüDÀ¤LÛWÂ¼­„Û‡%¿‰U5À/õa5$’®0ko$G²$Vó†W®½®§/Í/aGo ÈäŠôq4*©›B­¡Wtº‹U G¾]¢ê—cû’¤ĞzAš¹ó†/ÄE"†Û—ŸŠ™	»;|øÕ¦:I(]ÙÒ©Ix‰4îoùdo¢"üu5AO×8²Ï¨‘º2³\‰¿ÎûÅ/d¿ªŞÇV»7Ö·0:Æó#>’0X7ış¸03} Çû÷â?¼aÖ•.ÉãuäP¥™€iÁ ˜fzç…zB+"Ó íÎÂÃ¹‹;¼Œ›Øò.¾°¿¯ëÏlîÇ˜à)î‹÷d&ŸP%÷gt+®Èıã® ©¬ú¨•Í^x[:è<š%äû5şlĞ7]ñ^•ªzhsÓ8pÏÏ¼I  £àİVw_|ºxd3·§"ÄOœl­rşü£é?ÛíáÛ¢õ	¶[VóÖµº4ÙŸ§¤òÃ6ÉÇÓÁòŞì[ ë®œºê£†µKÈe…2²Š)ÕuğônÑãÿ_ÛÍu¼Y¿àÍâ ½‘n4Ç;&…â‹‡^ôpÅ¶ŒX”Ò"¿·_>Œ…’ ­‘\7
%G dÔdrxhu‡\7üˆ¨ëÙyµ.¢Ï æFË£ŒMn¸J€xåF`Ë2®v*^_çÒû2¶*$’(éºÂbF¦QçÎÏKOx“¤T-âüÙƒa(|‡z­S® e¦Afûi¯È¾«VáÑñ	¶ôK¿2ÊnßLš´}u,[°*“r>'Ï7\¸?C„Âù\+:Ï—TÚgÄ$+gÚbp®Éˆ’ÃD—C%¯Å‹¾5Y1ƒmùY“YPèwÕá‹tZŞ²ÄúÊıï
¸ÈÑÑég6 6®÷ûSÁ6]$ª5•éÑOeKyÿš+§oòÛUÛÖXvìŠka¬TV[Ï<¦·—ä)?w³Ó0cKz¡Äç.ôÎ(QW”Iìfo%@W§>šÚ¥›I<ÆßİÓ1A}¶Û>øÒ0/ pW^SMnDøæ2 êd?Kô,}ÀÌä†ô=ÁXÇ“vM!!eyya±sªÇq"…™.¼5BÅqa-±¿ùxØ@ªµPyY³øš'¡ÎG5|‘‘Èü\$€”±Otı3•çzV¯Ş-·ëo1l·Q©É`…P–S<ROãöôfR¿·T¤A’"Ã¿ İPXª™—@¾²Oâ(ù¸1¯Şˆ³©ç%
 ¶­d2ä=9AüÜZùã¾LÔ“­!9L„´¨’y;éì¼GòQè½=WÑVXZìë[`íûõñ4fÜ{ù4cs–OX©&ıñBÙ—ô€SÆrµVc(ƒ`ñ¬™æ…».Es"ªK(éQÛİ®m¨p“«‡ÖiÙ"£åˆö(%r(~··&D2©d!
î°§–ı® ì»hP{Mºr†?R
Wc¿q—Ä']
{ÒèÍÌÖÒ í™ˆ€å*‡$Ö«êÑ¤i,I "Ñ[_ß?Å±¿wÃÜdw³‘×%±¥»r8à¥;O!êá¡q?GÜÅãZ˜…(İÇÖì'^‚³`E×
ÅÒËV¨í<Ó7¯ı˜ç1=¥‚jÏ-&øæ¦Â÷æÑyØïe#ÊÍ—ÜéÔ‰Æ‘Aëh-a*
¤òä‹lšË£ñËÆBA†	ô¡®­dáoÃ­€é2 ®ŞÒ 0­Í°L€ú¨ÈéJ	4×fd×áÕKeÉ…g´È
\×ZEnÙW¸^'~ÊĞ®SD¹“3?xóè;¼ÏöıIİH¾ƒA»ñÊ©N‹dºÓm˜2Më‚§iûÊ&rmÛŞš‡%=Š9ÕRU1l°õ‡Ë|) {ô¶¯ÌÆ8çG3 7U‘åR»Ëßƒ1RZh„ö•§ô¾¹ˆ0Q¯:…Zùv¶úÛyŒëC [P´PTzK?äûãUÙpgiÔ­úc›‘zêÎu¨ÂHvÊ¿sœ¡Ø»Xò¶*c¿}"ˆ³«Ÿ&¹“]…6Yğb‚¹VCÔAŒêş¢MîBıÍî‰Ã +Îù	cö…Ìhò\TÙgƒ÷±1nàF0C-`¡-ˆŞh}©¹ñ4:CÃó¿šAß,˜™RÔg85&Çíı–or±G’—w}çHjEŒ´ú"Dà¯‚®/,ô%\ÙŒÛ¡³O=×H%UFÍQ²—Ã‰`Cıvoa^¡ÈwJœ#(Åj»°#ŠÈñYZ?cé« pV2š¨1¸£ğçhÁù2¯0%¡µ(ºUvİÒİf³3ãE‰ø‡»;×©ÑÎ×mƒ“æàYYİcÚG»gR)2¿tòÁnïà[ |l÷P†LĞa»‹*h2ª¶[´y×C|Lå/Q§è$æÄOløËŠZ“RB Ô4)u­¥¹”+ñéWÃD¨ƒ\wİ+í§¨:©$E’«ò5ñL;Øà\©ûéVìÔäH±o„¼Q¶ü:ÖğåÎà5…PĞ¼ßàÓy0$Nq×åíÓK¬*‘ò!²NÚxf·ÇøQm“¤Æ¬µGM½Y§›ÕÊ?qäÚú”‹ó×§'Á_†º„ôş>yˆiß¨ZÃíè„3ëpU&÷I«’Ü&dkï`)+'ÇÚùíAì˜ÅÚÛdEñèÈ9Ú0ïî¨+¢O#òlRçKF¤äËºUrÇ»Ø¡¯ÖïDjbøìBî˜ıê RL¾-!&¼]šëœ—„i¹4f˜B@Æ˜µn}Œ~8E¥SĞğ[øs@”Ó1·aXîÊû	Ÿ˜®VUíÀçÁÅHz}Ã”¿í]çÅÀIÛ}ouHÑªuœ¯ì©>]\äÁ.¶@­éLı] $4ÀSX)è»GU"Ú¢·Õ€ˆáN¦ÁOÖ/Æµõæ¹€‘Œ’¶şmùaÌ¸¢ÌKºg¸T}$Áûº¨´÷WP=¦lÇ'œÛp9ıB¦iÊŸ	€Ò)?iä)×ë@ÉOYÏøé0ùìb]Z§Eßr¥>7<!vå'ˆ&´%mòf åa—	Ö\ì½½6ÈG¢åO[nŠd‚éqÜà8	öj">°¨èœd¸’?"Wâ¼j{‹ğ(]şxŸö@@BKd,ü¤¦Ôªyt°NpØà&Ja+ñ]rrÌÓa—NX‚ødN*`jıO8U±@eq¥æy²®[Ôy+É¯^7­Tki%êü;èçf“2\ 4X!ã@µ±í$LÌÕ*:–.H›ƒ#ğï`Î(PîL«Iİ§•(h8ÒèLùÑ3×ŒSp€¥Ëí«X÷…;ƒ•ı¯ñ;´¿n@’Ï©á”R&×% ¾¬û!Ê;$Oo©¯Oké'âÕ´İ~²–Ê’LvoRv Êÿ$o=à¿PMë‚ó,#ä”~Ê¿¤ÂFMHCç($YÊk<ÒŞ>w[@Í¹2ÃÓ¯+Ü*ÃÁE$§u VÚé¢‡z†ñŸN†÷á¹÷¼B<bh¸¡–¹jİ€¼ì¡éÕcqúƒyĞôê•ìôšzçCä@ãê(Ü6ÍwÒ*,ÿx®`ùÆëEšš. C5à[6*vÖ[ê@qŞ
o¥ÑCÑÈoªúfÿ’Ã8FÍğ¶7Ë-éŸN†ßÍÿYŸ@ˆcŒtí€^vœİ€aZ§OÏdkık@À+40%oõÀª¨Û„M©=PõkK¦kk†Ç[	ç¥ã—p#cï½š".ÆŸ9Ç‚PhÊĞšÔ‰!]<9”ZĞº>§ºŠîvj.$vS°”–ä[„¶FÈ"¯æu‹¸¡WPÜ¨ìîŞ”KŠòöÉuGØ¯b¬f†€°¹¦ÖQHÒ6\oävFÿ ÌX8¦.¿=FH[ÊvÜi¶üCM®Œ¸«faÁøm·÷ìJŠ{,âd§ıô9‚ÍC7©êI ÁFñ“ò¼ûrAÿEş¤^Ú|‰C>t¤Ë¦ô>Âf?ç6ƒ•_2!é1ÈM=i‡8˜#(ÀJrá0Æ¿è~waÚšğ¨Ñÿ-{³~¯VaócğŞÚ'+‹(^XTùqÑkéj”–wE^Õ»]°åò:%¾Ê“ÃÃ}‰v¸·U¬~¡üg Míxùë½6gq¦·fN{îº±ÿF”¶uÜª£ê_”à!›ikA½W!ßàp%*Ì¢®üãbíÒôšö²/Mäy×*İ Â€3
±Å«0ñÅ*aw>°A
Çš®q„¡¥´ÈIZ#ìŒ'û¬ÿ,pÍÏió6˜êt¹å­Ÿ ázKŒJG";Çƒb€Ì7ùÖş/^%Ğg±¨w!©ï{ÓáNşÑš_A¥ 7iZ¥=^?ÿOµ"‰âmı² ²ş¸Ô§DœÓ*1‹¨‚"ÔoŞÇã4Zv‘-ÆzÔÁ¾W7¯ñ™o=éå×f	-”ƒ‹ªoU±¤ÈŞb7×ÎË¹Ë^>ù3¯²Âgìftç%A/ŒÜ·”¬¾Å@ĞØrõ5Ñ`,	e¡Î.òyLö@§£)½‹ÀìXx}œ•àjp[-æ ’Ğ.¶UWóY=¹¶-\¿vÆçœG„òrY‘¸_0€„EZ—¶ªº¨Ê?M8k³C5¡Ó-ù›¸Ìı‘\™ty¿€¸Ûuj QµÊí´‰	 ¦:ídÆmÊşH¯Š@Áêpú3­,`i cE[˜
±cÇœˆÙu«lÅ,ÂÕG°«Şïô¼b)NÔAqûİR©Ò’À`‘ÙB¯Aò­Ä®å÷YªÁnÜù”_»zFR«/¦GdÏ¬d|ÜØ-™a•úDØ”	ABıoy*·o¯9ã cË:ü9§‘g#y?
[0‚@ßğÓ§–ÀL¢“äI¬‡ŸÄ§ğ‹ÿ74K,K×|…åu'ïW¡†¾Ì†\Lc‘+yt†Ÿ5L6TÅ”	Šœ{ˆ¢yCîÚîT¾Ê£¹?ùUhÒÿŠÃ„ˆ©WÜfpø6Sw,È[ñÇeöVSî\`i[¡ÆP³‰ºÃ üø4”@tõ8=£yøÎÜ}6f£m›ÖÜç.ÌHõ8£HjÃ“@\éXÜØŠ†6Jƒ¦ÔÃW +FTvşÎ6³ğÜÃVJu+A# ¡äûJ]8AEÃoœP÷°9ßÈë¹»˜î	ÀéÂ> #ü K±î4+  ]ÑÃ®Ó¿ëÓ
öY)-Šô8Ûÿê)Od,îîÑ·Ké¡¢¢O°kÿo\ñ={ØÅsMU¹F8‰ô*nd±%tíCš3ë?z–ñé¼ìAV|×‰€7d<Ï2¥©ÚÁ[q¼3ú¬ /—3hü³	Kúã‰qÏÚÕ¡~À®ò·=Ìôê_Ï14%@°©N˜ÁzäÚÈS<ÑèêéÖğ¨ù‚ÇĞZ“JR(Àª¤4&A§å\›s$>`%t-ê‰çæÈT®Ê«R\ÁëNÇ/ÿ’…£§ÍĞ´_6º—&o¢å%ÿõåş'è~5 ğÎ$,q›‘C\Úˆ¿9oMkYáÈ¦Ò*{ïš•ò¼éª6Øbs¤‹Q-dzô¨-Û£Z‘Î±>¶Ù’‚Â'vŒÅèL>(ÎE¬T T[áı_ä
fr"'˜¼	ìŸ•óï ~fèÂQ1uÛ¶hiç´&ká†ÈdéË2·#vÑŞ"Ú–© l"d¢dŸä\2V-óÖ³U´Ğù‚cªv™k”{£ãÏÏ8Ä€hÒb	#L
ÈÛõ[ò“®‚Õ7:pÈj½K,Ôüõÿ’XÊ\ëélO¥‡4vø_~wÔJ‚†ô+¢o?bdRåAõ ß54µ.”Á.0eWc9è£âÉ“_< "›¼ë×ªTá³ñ5éÔøŒÙë×ÉóÛº¤ñ<J-:Ö–9–C°	öu´vS}ä¨y(¦{›4C¬blüZˆ\¿×Ö¨¨ı)—ÙD\-ônHZr\-Um0>»Ü5:H@šşpùtJ|Ú²K›kÉmkôùäp`DÛÛt*+‚†S|‚yºqLx¦=¯ÎÓª¤5îº^Â¬ö»¬½C¶ŞSÜƒÌıçA#2-™®¦°	÷3´Ö÷(t>n`ŒxæıË´mPAÂ)¬K™ÚP¸­=†¾€)ı|³!Ë4Hh„Ä&j'rö2t]]ßÒÔ™|-Êd·Ë»Ff¯«öèÖ½zÂØùÁ©A$ªgöòÀ~áûTÇ)gÙLë€#÷‰,CÓˆñ2pqfkë%„b¬Wp‰ãiÿqnµğæÚ<úàéôjª	yŸ’@&™YE ­#Ğ²Òäz>Ì¼xœç³&Ù§ïcèx52äşÑG‹¿1èİ»U‰@™/!á¶Šxèçaë“˜†Rf\
ˆI›ØìZ‰şˆÕ
ÖÑËÅe®«•Iœb!2˜S¹™ĞÍ£8c•­]Šˆ'*ÑîØrÅ2í]Bl(ÆZ§!A‰í}–W^\Ã³œ$DöefŒ²ğRPdN”‹RÙ€ú.]èæå¶ß¤cÌj`çÔgvAöúRMyM‚-R²¤ÈoÒ0ÀHÆ0@¹¶4ql¤È@u¬%šF:]Q†±}‡„ûcŒïÃõE¤Jé-KTí{˜%µÖæãó3ûŸ”çı7s†O· vÍkbÀ’ƒW$óø°DÒäo­“ğ¥'‘DşŸe|¢üD¯õÔG§h’Û96QONc,#8 	ù07ör;-ô™¸`7¥¤@+¬`!Ùµt‹ÕÄ¯'§xq’c_ûp^K±ØÎßÎAâ‹Anot'Má5d¯*ÿåıüóğ‚·Ep‹ki$ÒÕ7ıÍ7 A’ììV¢Qkæ ¼¸m¯Ó¹gÆxáÇæ;MªƒÑşZ³ÚÓâÈùÏñ-Î˜Àíè5ğ5tj¨©XJûÏ£Dƒì¿0­ìUğúH;x‚Æ¯İiû…àç¿ï…øyÈÚkõµNJğ¾[A<_eñÉ¨¯~àB³€0>‘5#Eüü)i,ËÚıŸ¼{B‘7½‚”¹”£°LVgI6 uâôåsc¬Â:»:×±N4+•Ç–œÁ!³5WyPÊ.C¨˜:èØ"òƒO‹Ù?aí“Åïï¯rÇl–BÈÉÍÉ!Äd¦{3“UJ ı?Èw‘€ö†öÀòŠ·‹Cq/’ØH!qlª( ˆ*løP´…ÈÙÀß–%r êóDdqÀ‹xlE„Ío[†ù‹İºÔbÀx5ª áüóò^µ~>º*[)%–ºûê¿-{e5h)å'Ú¿>ÁKdÓËQtœ»!EŠ‹ÔvĞãsƒ0\šTÙ1£@yqg¶Å:ÑÎ‰hp¼™ÿ17›É»néõ/EvH‘#ÏÍ7ÕéöD§$›ªvÈ^B¥©ø;ÉKnÀ§DŒ^wq’|fS‘•»íš{³V×¹wIh™¸ä
Ìï²~2áğí•ã×Â£`@¡ÇÓ¨ÁƒõTv‚ÓŠôäáVsuV¶å „³†åØ{8ÇªÀ´1hEÈ5P=˜‡D„ñpFfrM¡İ­´µÕÖ½¾½˜^hg·
¸~wGàú˜8™a•±ø€ZaÃÑ"KÖâÅøú\èÒÒªî±®¸Ğ4Ãùğâ£_˜­Øb•»Ã-„º»ÑŞJ=Ú}îÊtÁXöBnW£F¢Q¢miLTsé‰ügõşÜ2n}
íÈ4yŠTUfk*ŞÈd<§AJ J³ÏrÇ[
ôÍıŞô
Mİ"“j¡d½TÎ¾Òı{ˆıã
ß>f‡éLkcİ›7ÛKlÍ›¥Î
¤‡–C›ïdJôPPn¡cã›ái&ŒÕµw‡ñt¨™ -¹3LÄ7y× Òİ&Û[ğAŞlô¦—¾~®Í¨f¶íğça£ÿÎÀç/¨, ä¯€eKhç~Š§{÷âV¤EŒ,­k9qÃô4ìCé"ºTU‹[Oµ~]±oDËŸ¼†)È›üØİç½‰„òı×şd½ÎÈı,¯Şü ¼iœWGİùÇ ØÎ§+şÕÙ¿ÓéİœH7Ã!§o%jÁ0SÆ*©‚Öº£üzĞñ‘‹^¿‚q^#¾ô²nc°åjG`¾Ğâ¾àëŒ¸ªÏxd-ë®}ùOİƒ*%q”ôº İw¢ˆ±õ.}yÁÚŒæf¿,İ”c›½A#È¡yuSÓqKäĞ”‘1©Élş¹‡Ù»”¤õ+•Ğ§“P¤ş†²ó¨¹°èÑ’‘Ó^‰õĞÅ¯·½Â{“‚k¤¾eæV³&Ÿ*ƒ®Ğáš†×|
Ù5íĞÉYF—>œÒ—’'+Ğ}Æ¥WPyNJM‡o¯ é¿¼ç‰$¯`>‚dº÷‚¾ÑúVî".Š./iqØˆZÂ‡†ÎÀ·vÑŠåÌLÜ×Hİé›’…@’uË§ÂZ[×'e4¾”N à.‰I*Å«àWTÕİëLóÒ^”@çñ¨^-çË\uhÙ1{
<	|XÚ{)j®%«÷‰øÀÖÔ<ÚÖPùô Ğµ¥¬ç‘‡Gî&x9<½“¢„’üw¡9BÉH¨÷_ı V_KÌvu_âwct¢gf¶:Oœ®é¦?\™a_ .q{ŸØIaÎŞgNñY+õÜãpœ*q®w3EåÀw×¯µ’Š¿fg´MIA«ÓAZ¶’bËù`Od¨–¿Œ“ŒH‘•9’hÁÖÇ×QHÈL*ß=@uæDrâ©DN¦ÒáyjÁ  ’ëà;ëœ óJŒ/Ãl×nË(_rÊ)½wÊ’]ôÀX¨À¤9ÇÔ·FmXÈÉ/|_Ëø5±™@3…zÙXäS‰>ıä²<?óï¶`Ÿg”ÆFú–åš_«è¤}ÔYãÈ0>:Í±;0_D;ú4Öè¥U^‘è¥ö|ö–q.;<nÏ^F°POpªğjp@ş)ÜW	‚P%ò‘œ)Øä¯¼RÂ_oš7›¥ëBZÎÁu™e»Ê Ñºù›ûww;–€4îc‹Üë o"Ç{0+ÉÆË•ëQ6š¾›(ÅÌ,1£ÍQ”£[vÖBÖiË[¤p:ÈŒ­Ö8”Tª‹ [×CYÄ'FÅßË)€’¦.a@tK¶—­<ëGˆv÷×åŞíå7 é'!6j³iÀ¨qAFA‡¿EÇ{àÅíæ¹/œ8†€q2Wh}Y íFQŠú¤3 ie1^»õËh¾õñ›TQuxxÉ·a¿‹3g›o8Ì¾É¼ô}˜@°•$ğÒ­Y¹éPÅŸO[Ù*Âüøâçü½aÀSóUN‡Ûö‰ m
­Æ¡>Ñ=ôÎËü“ÓÒÈ§í†‚€›ê¼ mP ØsÁ1¬”W©†¢DÙıpxîJ1[È6ÌAÆT¹€ÜD?‡Ş5óSÉTt)cm?HT¹QÆ¶½»<Ë“ÀÂ)»b¯Nú7{.®˜É
Ùaéû€éÓ­Å+cïåM”b~<òSeHY’¤kŸó°šw”´*ã·³j…<š¸ô“AŠ]­÷qşÒ¥>r§UnšJ]†œÓ†ï,µŒˆï ÄLf®óîn·Üç|cPkt´„½U‚wwp1¥ÔLÓİ»‘€ºX%˜ãÇ#@<¦Õ¤«	ı´%°€?o—ÙÍîßO¥äì®ó“–Îïö¿ÄÊzË„JÊdMMe¬“¤k90q÷R––“ZF0&>âùIğ:%Ñ,½c°Ot{“m5x¯«[V{ç÷F,ı£@ó˜%ÿC/“Ò„äæ¸“ÑV…ïÎ{êbuPİ|ôBt¸v¡bB¬/O¶AjG†«Ä¨“>ËóbäEÚÒx…óQdÑàÍ¶»iZÄSZèåì@h}´€êÒ8r/%aéôÁ¥~RÔîr7v!Vdr?ÎúãsÚ±P}f¼¼l2ı5lĞ›="0x1Î';¸Õå)_¢æErQ}÷²	ÂŠ†Í†#ÌöŠ "ñ¾ıluŞX!mÄQ`fÄüCxdßå–O2_%Ù¨œ«çp‰C,bÈ™„ğöuXö5'PÀÅ!ÜŒ<à©?	Şãf£¾QŒì«ïèT•B¥ZãÕ½ü/•¸—õŞ½RÂ‘màÍ‹OtnŒ4eø/½›ß'E´]>….RV&dŒG_Òçú«ü…dvWH¥ÕWY©ú5ówóŸ8wá¯YGbÙO‘?®»ßáŸ’›ÇM,ã«¨N‘¡ÌX~@¿ñDÊª‘üGs»6éàåi=w<é$:1›./Wùnß5ı®ñR(İ.‡lá¿->”[ÉdG—çlŞ=‡¬cµÙ¶+·E™n÷õkykøÙ§Pµ.¢ˆ)€#{¬R
V]¢.ñºS‚¨×Ğ´C…Ò¯Ë¬6 ?¡ùkÑJ¹®OÂà}îÉÖ!AGÍ&~ÒxÚ6+€·H¸z#(ÆgqÊW¶øÖu¿êá Šr¹Úqá×öe-S“ÙÏCÅ\UÔ–ãnWi%ÅÁ¾–Í¨/:Â2¡*„i4ÎU­EäÇ»íı<ê"MÚ{„+ÍoÅY`V{d¬·Ë„Ï64Ğü=afÖXîEÛk…H,[dEÆŒç£ˆÊ§-¬H`ŞbRÆ"yO†>+õ˜ú”³øÁ.Í²À°`ÆpA~¦şË›³×?™´´¤NÔHÏ¡ô`NÜ”Ê¢aÕ°TmÊYÌp]?Ğ¸pv“bEWˆcfútWEš^²/Ø„o‘Å†Ã©²yöŞÉC!$£s.íCø¹IóƒÄ&*êuv¯ï÷TĞUA_z÷ ‚—u¶¢ÂŒ&Û‹	Š|Îlˆ:cõp+A+“Ò@„rCÿ‚âû´¹•ˆPòĞ~B¹ÄÕou,U¼K×$?a·…(Éêe¤1²ÃÏRÈË%&…>ø)EûõLùöÈ²HóOQBQÌ)Ëz­‰â^¼‘£taÇâf(Aàˆ¾H80kõ´ˆwõëVeãvÕYhzQÏ„~yÿ	ö¼°"¨œ6YÏ‡¯Áúoña¬c~å#ø,»È4wÿ3xÇ“l¶}
ØÅ*î?œòñÃ›ê¶*ÇY‹°ùæA
.ƒ­&¢.ıf 
çÇtEg àM]€|2I­°IeË]º„B£¬¶½ÌAïğµ(ÏF’	4™Š¿Äƒw“Dˆo9@úHºL‡ò?2ò*›Ã:â•g2`<÷äÂ€Ÿˆ}uû9kàß®H”ÎéVÅGäøs‡´¦ìÈĞÈó2,Ğ‘­Sf6¢ãø+4õFòŸ,BÀ%¯~xRÎá£ÁNúduê•0¢İj4¾öúMæE,Ù3ï9ùL.:ãÑ_#2òÇk–ø°Cepä/Ô•‰†KíF.EÑÈ}eàÔ:?©H;å¡Ô­p}e¡JE
3¤<+)×3iæş¡CrG¹2Wöõï6ƒ"'Ueàœøã<	¼‚Óî|ÛG,
wu4/o+iŒÃ5ÊQbBÏK|C¥Ró8Ù¿Öôm|4#51kq¯İŒø_îMfI–‰¿Tï>>#VhîĞŒ.ĞùÙªZWÈ#JİÄ’`¦/$ôÇ“ïĞ³b!R@F«‰ëÂå¯äxÍ+W(³†(ã‡İM¡m[m8#T/É€S/T1Tñ§…ºĞ 'Â¬"!"¼ão\\¢	’«Cê#÷#vT
/”¡{¤sJlÉåœä›€¤ÙS®Y„d^<Ï*Ë}SäqzFvmA¤qZÇõ«¹æxµÔû9õàQ²Ã²<Æ²£‹GNöşl5ßUÉ¯â a¹êÇJ,IFŸºöwçè+¹šĞ~ö@ÍYˆ/Cø¿£Ê´{£–j¸-‰# µéUˆÔ»)ç(++?{­İÍŸ
„¤ Êy$ ctŸóíÁ&`ì
hû>6bĞ*…6ÿl¸3Æ#31ß¨®½"#YRu%¯¯U§ˆ´Zo‘ú¿b=8{‡qÖ£²‰ìı¼ôşùr2nª¬Rq$€:é_qUœ!‹Ác°ò]wÜôyDTBN—DçtĞ‚ÖÁÙœÔõİ7b€»‡•Äy-LÑ¿i)NVo1å¢ÿWZ
×mÙñ¢°P Ôòºè–÷Y³îS
è¸X}©¥Ü\±õOÜ£Ó!Ó$VÙB)øëíÖÒü«OËOÖşE,AcnÙÌ>÷BÎAB¾	2+àcĞ—]èóÉ7}Ô`Ìî¸£XØÀ§8¸"u×4PÛ<‚%­G±£F&·Ö[¡ˆU> .Œ¼¥ïÿgºñÙÓÃÄI*O–¥^ …²€CfQå½§É¯Q"é§ıÑÿ?ææ#S	#Ü³™¬ŸéZ¶átÚu¤ËKäÅ$gõb®i‘daÁlÙZÛşmÖí²“º„Ù?ÿˆQÆkÈ=.7Xõw_äƒõ§gOçätöü`uYòÔ˜øGä~ËcE| Hñõ=Ğ5¼›Óç6TLi'Ûà.$e\eª“×ê@¼y±X³®æ¡{ÆµÄÚç:Z›œ‹è40NÇ%%†-;[Œ8åiÛRü†ç ƒRÆ/PÊyaÙD7 èL'v[PÖÎ:>‡c‰!¯Öòş³‡)§E®&HRÉ!'%hqíodYHÒ²ˆrD@b2ô•Ò{HÛ´#ÏD˜é/;G]·YË2êğ³dC$Æ˜\ÌŠœzn,•;ó2)÷ÄŠó½IÉçÌB•-l-VdvyxBî;M¬wõ£[ÓÒ<Í1gßnušlŞ–2Íş‘Ìzj‹×Z¬‘Ø  Ç`™·Í
vâ&ğ]ÁºTJi1MöXBµ¯şÅâír_^Ú‡±Ê¿dùc6 0-]¼QÌ‹o64ƒ®å‚b",oØVWªgú¾B­Oª—(»'V›}•â#2ye¦Oƒ*B/7Åe‚ê&`Å´¡º“¸Íá¶8’4Sà:Hb5AE²êXğÒKdÅr`ÈL.IÍ¶»Ïß<Ü‘ô !fEaÅ7›s(Ó8mà‡q Âc.\•íÍ8(pÄŒ´ƒ’
]}
MÇÓûRàâ*àëü	6Çt?d-b‚£ğ€8¸x,î«îÇÛÌØ5¨5­›ugÓ:¾°­sØE¢¦D»NzçÍ’sS1£S~+»›?wšB¶ñ¹x*”C"˜aÙµOY‹IFÌ~¶Ìÿ °¨#AĞfVª”€ŸÁ¯‡ñ]ğ]$‡ÿ·vÉîj©ºUK@1Ö»€Qˆ®&¿bVÇ©¸å€´Æ7ôÂÏ¶©v¬agw	4qòT9hu¯å*h§l‘şIBTjy9åºÍ/rî¶ˆúD\ÄÛ8Ëê…±ósØ%ĞÛ4JqˆÉ.	;òöò™ı”l}’At#ïx!åiZ^\væX·´±¥=¹o¸İ÷îE~âëMß>ÌyÀ†jPŠŠí[0\×sÑ¨:¤[´Œ‹¦­ñk–úœ¹€¬{—ÓŒhı¯qdAâ×’¤Ö|Ä^:×¯2¥ Š-Z s&‰íŒöÁ`{{wî¾àLì’ÁÇl/Ğ“Ô1ˆ{?0I²æçíûp·¥%Ò^Àİ·¹wìK.¤eQ;m®õÊĞJà•ûå‡€wL{’ä›&,G„„ƒsˆÊy£çåÁ+ª@ênx2•›ˆ&[Š6ÇAÓ*òÃLjãê*éUÿ5RğÓtwŞà’Muz´c Ã*À@,À‚~„ÜÔ×¤a8 zÉ\¯#³¸%ÁÓ]àw0ËÓ:QÉèÁ‰¸&äÂcG7òÙĞæâĞsÜË®³dîÙ¹@\QTù×à­{ÕÄ>İPäDë¡+—ß×Ùü²úŒˆ>iŠª f^©¼N¬#TFıä«†NˆÕ$7zÔŒpØl¥œO–§üxbîˆy7¿5ğ¡~aF!Œ±§Ö„İ9ë«õÆ˜“GˆŠûL'?Ç£=ã<1/ïrw¡ÖğÙ–ŞVáH€æJ}“IÂW±ª`ûà¼jvÜ|~ç~pü)úAô’_*»Ìi§‚oÁ»œ|Š¶©_×A$¾şo®‹óª¨Sh÷Õ¢J¤*ƒŞ@Úåê Ï¾¾ LrÚ`"WQ/)³9`]æØ|$(äg -1·[ú–3£•aoA®¿-5¦}|8Œïòpt_l\2YgÜûŒgSLš}uHÏ/7ìdÅOôÒGúûëô_ZÎXúÇÙ›ÓQ ıä52Ì!,dÜ‚[:.à]	Xı\(—òµõ[¤#ª»xö9A™Âk·6³“w„-jçr†iø-Ô>§ƒ­rıÅ©ˆŞ/ÕÁ«†^ùÜ¦Ò«××3xÇ¹£*0R»¡ÑyàFtÇ6Ÿ^h¹[$ãYØ£%D—$šH®="oG~1‹ps<=·TÃÎ;‚Õ„´qo£}ıEï~¹¦ö§È lgÊÔ©]{t/Ve³†2p{¶QhÅÎg”Ìõtü&¡œ®¥cZó¶ş¸#¤ù¿÷Õä´‚Ğ	ÿöÿ'À±S•B'ÚF"{[\bf›%B­frÏÂœ"Ø:wµûªİ%¸O¿‹^ “R™â:!U·>[¥¶UhÄõìï`¡i>m#Æ²¡Æ9·Ö0ß 6Óî„I~n	KbDÒu_Àp’ÕûëBs£g>º=~k¤™Ğ8ÓÇx RZÚ¶œoWıôj½9:jÅßö~íªÑ;§0±¤iÜ‰¸iÁŠV8h\7T.ˆë·ÀPì¿«3h;û»uxÙ¦è”Áİªô$>íæˆ‘õ°*=q•Ã-ïğ%¤{šµ¤–ßy˜ı0së)~«[‘˜,Œ¾<NÂüÏm%¼¿¢š„ƒG‘¾¶w¶ÕğGzjßmeAÎIp™KØ³²‘ñqq¼WZı ÂlGVè%ûÖ~mâ°ÆËäß…-tJ´h[»Ğ+e·Ãîû„E»iN”ÍÄù½xëYÉU}¢şiĞE±¿H2¸‚g|­qWC3æË…¥Ü0Êí’ô°f§ßù,sXø[ÒÆ[ÙÓc…º|õÊ±óY±pH;.;@@—ÕÈHO»6^é/Ähp¢7Ç[vN™-î—Ê{?Å1Ì¯J|ÙDQ}H‡=İÇ)ëØiÉÛsuéòÊ‚¥Ÿ ¢ §/„ı®ÉÜ!™üÆ€$NÁ=Q9Œ^©R5äK¢pÖˆN˜oøßÀwë»ôaáIbjĞıÚ¯âÍ¨:Şgñ5?2Û8İ°Xç^s³[%±ş#figë+×Ò‡sHoñ4QË¤¥–İCL<Œ3WæŸ‚ÚÅ+ésg …!À8uó
6Ã¡½>^OÍıé¹bÕ™)†1&ÅÕ(È#şR„ ˆI”•"ı‘T¨¸Ê?s}­r!§»3xñååb	Ñ½lŠÊ·£ÀÔºı²šÄ8¶õ¹“÷52"õÌÿ«¶!5&2seû°Ó¨(¯u“óí#¾SÂ·	”İã5mÁGı¾0¯·K„e¿0­—¹Œ¿–€£`Á”\Õ2Ş¿¡BCÿ~’ ,xëƒÑÊ8ÒÏïšd	uéL¢õÀî~Ú<“ÇÎ‡Ù˜'0Şop±'œ…RcÕóYO(ÖÓÍ§à·âJ¾ÒãN·”nñêUB¿0‚w=º·×–E‹· =m¶-úñ€U¨%éRÿ¼q8cıöDš¯Hq"†ä©âí¼*·õßúç;ĞeìBèzhËo1ñÄ`š$iaÊ<Aó²Á+é|c+Å*à‘#a ¨…IöÒºJ¨Ì‰èR ©¾›O¤*ñ*¤EÉ®{(s{ö3n´?>‡cÁ¯J@8ä¿.D;Ú,Ÿ–¥[İ,?:Ë•’¶ Ës=ğ#Ìäe€âš'!øÊ®²­ƒ«BDF¢ÊE9±gWlİ‰í—é'ğç¢jx >èG ¢P¤Ç^³-¯’Ÿÿ·CUyÍè®æå^z5¿SB ¬øsöšš\Àëvo²"‚0¡y9=+Û¹lg< ÃŠ/Gïü›Fùâ@áÜu0O»Ñ$aÙ$Ö²LÊ‰±•îGU´õq±AØ=¨U
êÂWq÷£eKI+¢éw kë¹MÿÅ&"¦Í@µ\?™#qáÃmM{ø£Qå/‰~jx`êÁZxDÓœ™™Ş¿KZ¢gë×,	pè°úˆèmÃ£(Æ,Ãô-šj æ/]%\àJüaàóÆÏ'(+¸;oÜäVzÑ†gšÙÉDJÉñyœ e·&_Eàæ•†TìF xC6šñõ«9â³£ØÄÁeoßu¥6°Hß9{HQÛ/ZYI©Lo[ÄmÆK”»‘sKL81çuL'¸–]‡š6Q•¤ä0™ÒµÆ6ÔQsÔö[ÿMNQEnÔƒK€%­e°¹9•ß$záŸSy,ü¿èg5"ûJh*Ê‚3ÍW”Î‰‹gëgÛš`ÂEìŸDR Ç†°V#ä¥2_Q­«RÇe€„~§eìN4UÿµÈİJr8p˜Û’5kœ‚ŞRê©=—?.)GV@õÂ„5?Š=À`{ÁZªÓQœèÄÛV(ûX¤¤èäã[Y@3ÚË1C´FÕ‚C1 5wàBa³ì§èŠKGò=êm€åe•üÇj˜¶Á3|£RÄÈT4imrç48–rIPL,‡gzÎë¬Ç)BMÍ^yô¨¥M]s³‰±®õë_ó‡$©·úv¯éTAdn*àµX›kAÛ(c¢*îöÈıÔ³Ş§j·ü&“ÚEH‘
n
/dÁskr^ÿÆ…Ãrlj_ÇSŒØYf€l,ëÑZß…à§F1ÕÕôb5jeE¢sßYSiğæË›å3°5Òµ_Ï®2í*uNtîk‹E¯HHãF5ÉÍëSAÂîU´¥µñÒ=ÖÅ.Ğ9Ñr!a¬8gpÂ]­9F•Å)5"’uÈ¯'²RéL{"¸04~Í%h|årôÜƒ˜œ} ^§ŒÜ¯0ò±íA¿c“–X½ı5²ì „Ætòô·ø#–	¯B—hãËğ²ÕQ0}!`jSÅQH¸ `bŠá-y3P¦{MÚ¿ì¹WÌ(ÇvşÖÉ¦[¢ÏJ.¬¹p8q³cMvìlÛÈ+õÖI,Ñ7tü¶ÈµAW•×[]µ‡Á¯]6şsÈx>²c/vt
;VÎ`VjW™º6¤É(7€å·¥‰8‰«³N ®7I™ÉÍˆ7Ø¼ä‡ÉÊ÷çz¬wa+ıƒ™‡.±›aaš4g.tègÁªò+øÄÙŸ%cş‰(OÎÏrÿìÄ»¡w‡Øìk¶)OäŒƒXU$ªAœÌôTó;úœÅç5¢ÌwRLP	ˆAÇ%1ñÃOU$È	nÉê¹¨bl…›CÖ_2”9+¬ÒØC‡°˜me¾•ˆ`€Èb©ÊÆwÀ¶o4àó ^•SE\Lş¢à\©D²` MØØQè°/•Dp§«pE¸ºéf`n¿%¼Ë3Zv¾1ŞaÖ¨´ı• P \šÏ€©ÄÈğ,§\#‹XËsHì¦å^ #kÆ/âı¨]æP  ¤apps¡d­registry.json¡f¡cÅD[
  {
    "id": "finder",
    "name": "Finder",
    "icon": "ğŸ—‚ï¸",
    "path": "/src/apps/finder/index.tsx"
  },
  {
    "id": "safari",
    "name": "Safari",
    "icon": "ğŸŒ",
    "path": "/src/apps/safari/index.tsx"
  },
  {
    "id": "notes",
    "name": "Notes",
    "icon": "ğŸ“",
    "path": "/src/apps/notes/index.tsx"
  },
  {
    "id": "terminal",
    "name": "Terminal",
    "icon": "ğŸ–¥ï¸",
    "path": "/src/apps/terminal/index.tsx"
  },
  {
    "id": "settings",
    "name": "Settings",
    "icon": "âš™ï¸",
    "path": "/src/apps/settings/index.tsx"
  }
]
£src¡dˆ¢ai¡d¨index.ts¡f¡cÅ1// AI helpers for FYOS apps (client-side, runs inside Vite iframe)
export type AIProvider = 'fal' | 'eleven';

type Scope = { appId?: string; appName?: string };

type AIRequestPayload<TInput> = {
  type: 'AI_REQUEST';
  id: string;
  provider: AIProvider;
  model: string;
  input: TInput;
  scope?: Scope;
};

type AIResponsePayload = {
  type: 'AI_RESPONSE';
  id: string;
  ok: boolean;
  result?: unknown;
  error?: string;
};

type MediaIngestPayload = {
  base64?: string;
  sourceUrl?: string;
  contentType?: string;
};

type MediaIngestRequest = {
  type: 'MEDIA_INGEST';
  id: string;
  payload: MediaIngestPayload;
  scope?: Scope;
};

type MediaIngestResponse = {
  type: 'MEDIA_INGEST_RESPONSE';
  id: string;
  ok: boolean;
  result?: MediaIngestResult;
  error?: string;
};

type PlainObject = Record<string, unknown>;

function isPlainObject(value: unknown): value is PlainObject {
  return typeof value === 'object' && value !== null;
}

function deriveScope(): Scope | undefined {
  try {
    const sp = new URLSearchParams(window.location.search || '');
    const appId = sp.get('id') || undefined;
    const appName = sp.get('name') || undefined;
    return { appId, appName };
  } catch {
    return undefined;
  }
}

function isMatchingAIResponse(data: unknown, expectedId: string): data is AIResponsePayload {
  if (!isPlainObject(data)) return false;
  if (data.type !== 'AI_RESPONSE') return false;
  if (data.id !== expectedId) return false;
  if (typeof data.ok !== 'boolean') return false;
  if ('error' in data && data.error !== undefined && typeof data.error !== 'string') return false;
  return true;
}

function isMatchingMediaResponse(data: unknown, expectedId: string): data is MediaIngestResponse {
  if (!isPlainObject(data)) return false;
  if (data.type !== 'MEDIA_INGEST_RESPONSE') return false;
  if (data.id !== expectedId) return false;
  if (typeof data.ok !== 'boolean') return false;
  if ('error' in data && data.error !== undefined && typeof data.error !== 'string') return false;
  if ('result' in data && data.result !== undefined && !isPlainObject(data.result)) return false;
  return true;
}

function generateRequestId(): string {
  return 'ai_' + Math.random().toString(36).slice(2) + '_' + Date.now().toString(36);
}

export async function aiRequest<TInput = unknown, TResult = unknown>(provider: AIProvider, model: string, input: TInput): Promise<TResult> {
  const id = generateRequestId();
  return new Promise((resolve, reject) => {
    const onMessage = (event: MessageEvent<unknown>) => {
      try {
        const data = event.data;
        if (!isMatchingAIResponse(data, id)) return;
        window.removeEventListener('message', onMessage);
        if (data.ok) {
          resolve(data.result as TResult);
        } else {
          reject(new Error(data.error || 'AI request failed'));
        }
      } catch (err) {
        window.removeEventListener('message', onMessage);
        reject(err);
      }
    };
    window.addEventListener('message', onMessage);
    try {
      // Derive app scope from iframe query params (?id=...&name=...)
      const scope = deriveScope();
      const payload: AIRequestPayload<TInput> = { type: 'AI_REQUEST', id, provider, model, input, scope };
      // Post directly to the top-level Next.js host to avoid needing a desktop relay
      window.top?.postMessage(payload, '*');
    } catch (err) {
      window.removeEventListener('message', onMessage);
      reject(err);
      return;
    }
    // Timeout after 60s
    setTimeout(() => {
      try { window.removeEventListener('message', onMessage); } catch {}
      reject(new Error('AI request timeout'));
    }, 60000);
  });
}

export async function callFal<TInput = unknown, TResult = unknown>(model: string, input: TInput): Promise<TResult> {
  return aiRequest<TInput, TResult>('fal', model, input);
}

export async function callFluxSchnell<TInput = unknown, TResult = unknown>(input: TInput): Promise<TResult> {
  return callFal<TInput, TResult>('fal-ai/nano-banana', input);
}

// New Nano Banana text-to-image helper (replaces FLUX Schnell)
export async function callNanaBanana<TInput = unknown, TResult = unknown>(input: TInput): Promise<TResult> {
  return callFal<TInput, TResult>('fal-ai/nano-banana', input);
}

// Text-to-image using Nano Banana
export async function textToImage(prompt: string, options: PlainObject = {}): Promise<unknown> {
  return callFal('fal-ai/nano-banana', { prompt, ...options });
}

export interface ComposeMusicParams {
  prompt?: string;
  compositionPlan?: unknown;
  musicLengthMs?: number;
  outputFormat?: string;
  model?: string;
}

export async function composeMusic(params: ComposeMusicParams): Promise<unknown> {
  const input: PlainObject = {};
  if (typeof params.prompt === 'string') input.prompt = params.prompt;
  if (params.compositionPlan !== undefined) input.composition_plan = params.compositionPlan;
  if (typeof params.musicLengthMs === 'number') input.music_length_ms = params.musicLengthMs;
  if (typeof params.outputFormat === 'string') input.output_format = params.outputFormat;
  if (typeof params.model === 'string') input.model = params.model;
  const model = typeof params.model === 'string' ? params.model : '';
  return aiRequest('eleven', model, input);
}

// Media ingest helpers for inputs that require a public URL
function generateMediaRequestId(): string {
  return 'media_' + Math.random().toString(36).slice(2) + '_' + Date.now().toString(36);
}

export interface MediaIngestResult {
  ok: boolean;
  id?: string;
  publicUrl?: string;
  r2Key?: string;
  sha256?: string;
  size?: number;
  contentType?: string;
  error?: string;
}

export async function ingestToPublicUrlFromBase64(base64: string, contentType?: string): Promise<string> {
  const id = generateMediaRequestId();
  const scope = deriveScope();
  return new Promise((resolve, reject) => {
    const onMessage = (event: MessageEvent<unknown>) => {
      const data = event.data;
      if (!isMatchingMediaResponse(data, id)) return;
      window.removeEventListener('message', onMessage);
      if (data.ok && data.result?.publicUrl) {
        resolve(data.result.publicUrl);
      } else {
        reject(new Error(data.error || 'Ingest failed'));
      }
    };
    window.addEventListener('message', onMessage);
    try {
      const request: MediaIngestRequest = {
        type: 'MEDIA_INGEST',
        id,
        payload: { base64, contentType },
        scope,
      };
      window.top?.postMessage(request, '*');
    } catch (err) {
      window.removeEventListener('message', onMessage);
      reject(err);
    }
    setTimeout(() => {
      try { window.removeEventListener('message', onMessage); } catch {}
      reject(new Error('Ingest timeout'));
    }, 60000);
  });
}

export async function ingestToPublicUrlFromSourceUrl(sourceUrl: string, contentType?: string): Promise<string> {
  const id = generateMediaRequestId();
  const scope = deriveScope();
  return new Promise((resolve, reject) => {
    const onMessage = (event: MessageEvent<unknown>) => {
      const data = event.data;
      if (!isMatchingMediaResponse(data, id)) return;
      window.removeEventListener('message', onMessage);
      if (data.ok && data.result?.publicUrl) {
        resolve(data.result.publicUrl);
      } else {
        reject(new Error(data.error || 'Ingest failed'));
      }
    };
    window.addEventListener('message', onMessage);
    try {
      const request: MediaIngestRequest = {
        type: 'MEDIA_INGEST',
        id,
        payload: { sourceUrl, contentType },
        scope,
      };
      window.top?.postMessage(request, '*');
    } catch (err) {
      window.removeEventListener('message', onMessage);
      reject(err);
    }
    setTimeout(() => {
      try { window.removeEventListener('message', onMessage); } catch {}
      reject(new Error('Ingest timeout'));
    }, 60000);
  });
}

export async function uploadFileToPublicUrl(file: File): Promise<string> {
  const base64 = await new Promise<string>((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => {
      const result = reader.result;
      if (typeof result === 'string') {
        resolve(result);
      } else {
        reject(new Error('Unexpected file reader result type'));
      }
    };
    reader.onerror = () => reject(new Error('Read failed'));
    reader.readAsDataURL(file);
  });
  const ct = file.type || undefined;
  return ingestToPublicUrlFromBase64(base64, ct);
}

export async function ensurePublicUrl(input: File | string): Promise<string> {
  if (typeof input === 'string') return input;
  return uploadFileToPublicUrl(input);
}

// Convenience wrappers for common FAL models (developers can still use callFal directly)
export async function imageToVideo(image: File | string, options: PlainObject = {}): Promise<unknown> {
  const image_url = await ensurePublicUrl(image);
  return callFal('fal-ai/bytedance/seedance/v1/lite/image-to-video', { image_url, ...options });
}

export async function referenceToVideo(referenceImage: File | string, options: PlainObject = {}): Promise<unknown> {
  const reference_image_url = await ensurePublicUrl(referenceImage);
  return callFal('fal-ai/bytedance/seedance/v1/lite/reference-to-video', { reference_image_url, ...options });
}

export async function imageToImage(image: File | string, prompt: string, options: PlainObject = {}): Promise<unknown> {
  const image_urls = [await ensurePublicUrl(image)];
  return callFal('fal-ai/nano-banana/edit', { image_urls, prompt, ...options });
}

export async function imageEdit(image: File | string, instruction: string, options: PlainObject = {}): Promise<unknown> {
  const image_urls = [await ensurePublicUrl(image)];
  return callFal('fal-ai/nano-banana/edit', { image_urls, prompt: instruction, ...options });
}

// Multiple image editing using Nano Banana
export async function multiImageEdit(images: Array<File | string>, prompt: string, options: PlainObject = {}): Promise<unknown> {
  const image_urls: string[] = [];
  for (const img of images) image_urls.push(await ensurePublicUrl(img));
  return callFal('fal-ai/nano-banana/edit', { image_urls, prompt, ...options });
}

export async function textToVideo(prompt: string, options: PlainObject = {}): Promise<unknown> {
  return callFal('fal-ai/wan/v2.2-5b/text-to-video/fast-wan', { prompt, ...options });
}

export async function videoToVideo(video: File | string, options: PlainObject = {}): Promise<unknown> {
  const video_url = await ensurePublicUrl(video);
  return callFal('fal-ai/wan/v2.2-a14b/video-to-video', { video_url, ...options });
}

export async function audioToVideoAvatar(avatar: string, audio: File | string, options: PlainObject = {}): Promise<unknown> {
  const url = await ensurePublicUrl(audio);
  return callFal('argil/avatars/audio-to-video', { avatar, audio_url: { url }, ...options });
}

export async function textToSpeechMultilingual(text: string, options: PlainObject = {}): Promise<unknown> {
  return callFal('fal-ai/chatterbox/text-to-speech/multilingual', { text, ...options });
}

export async function speechToSpeech(audio: File | string, options: PlainObject = {}): Promise<unknown> {
  const source_audio_url = await ensurePublicUrl(audio);
  return callFal('fal-ai/chatterbox/speech-to-speech', { source_audio_url, ...options });
}

export async function soundEffects(prompt: string, options: PlainObject = {}): Promise<unknown> {
  return callFal('fal-ai/elevenlabs/sound-effects/v2', { prompt, ...options });
}

export async function videoToAudio(video: File | string, options: PlainObject = {}): Promise<unknown> {
  const video_url = await ensurePublicUrl(video);
  return callFal('mirelo-ai/sfx-v1/video-to-audio', { video_url, ...options });
}

export async function videoFoley(video: File | string, options: PlainObject = {}): Promise<unknown> {
  const video_url = await ensurePublicUrl(video);
  return callFal('fal-ai/hunyuan-video-foley', { video_url, ...options });
}

export async function imageTo3D(image: File | string, options: PlainObject = {}): Promise<unknown> {
  const image_url = await ensurePublicUrl(image);
  return callFal('tripo3d/tripo/v2.5/image-to-3d', { image_url, ...options });
}

export async function multiviewTo3D(images: Array<File | string>, options: PlainObject = {}): Promise<unknown> {
  const image_urls: string[] = [];
  for (const img of images) image_urls.push(await ensurePublicUrl(img));
  return callFal('tripo3d/tripo/v2.5/multiview-to-3d', { image_urls, ...options });
}
¤apps¡d‡©app-store¡d©index.tsx¡f¡cÅ©import { useEffect, useMemo, useState } from 'react'

type AppRecord = {
  _id: string;
  appId: string;
  name: string;
  icon?: string;
  description?: string;
  tags?: string[];
};

async function fetchJSON<T>(url: string): Promise<T> {
  const res = await fetch(url, { cache: 'no-store' });
  if (!res.ok) throw new Error(`Failed: ${res.status}`);
  return res.json();
}

export default function AppStore() {
  const [apps, setApps] = useState<AppRecord[]>([])
  const [search, setSearch] = useState('')
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)

  useEffect(() => {
    let mounted = true
    ;(async () => {
      try {
        const data = await fetchJSON<{ apps: AppRecord[] }>(`/api/store/apps`)
        if (!mounted) return
        setApps(data.apps || [])
      } catch (e: unknown) {
        if (!mounted) return
        setError(e instanceof Error ? e.message : 'Failed to load')
      } finally {
        if (mounted) setLoading(false)
      }
    })()
    return () => { mounted = false }
  }, [])

  const filtered = useMemo(() => {
    if (!search.trim()) return apps
    const s = search.toLowerCase()
    return apps.filter(a => a.name.toLowerCase().includes(s) || (a.description||'').toLowerCase().includes(s) || (a.tags||[]).some(t => t.toLowerCase().includes(s)))
  }, [apps, search])

  return (
    <div className="h-full overflow-auto">
      <div className="sticky top-0 bg-white/70 backdrop-blur border-b px-3 py-2">
        <div className="flex items-center gap-2">
          <div className="font-semibold">App Store</div>
          <div className="ml-auto">
            <input value={search} onChange={e => setSearch(e.target.value)} placeholder="Search apps" className="border rounded px-2 py-1 text-sm" />
          </div>
        </div>
      </div>
      <div className="p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
        {loading && <div className="text-sm text-gray-500">Loadingâ€¦</div>}
        {error && <div className="text-sm text-red-600">{error}</div>}
        {!loading && !error && filtered.length === 0 && (
          <div className="text-sm text-gray-500">No apps found.</div>
        )}
        {filtered.map(a => (
          <div key={a._id} className="border rounded-lg p-3 bg-white">
            <div className="flex items-center gap-2 mb-1">
              <div className="text-lg">{a.icon || 'ğŸ“¦'}</div>
              <div className="font-medium truncate" title={a.name}>{a.name}</div>
            </div>
            {a.description && <div className="text-xs text-gray-600 line-clamp-2 mb-2">{a.description}</div>}
            <div className="flex items-center gap-2">
              <button
                className="text-xs px-2 py-1 rounded bg-black text-white"
                onClick={() => {
                  try {
                    window.parent?.postMessage({ type: 'FYOS_INSTALL_APP', appId: a._id }, '*')
                  } catch {}
                }}
              >Install</button>
              <a href={`/api/store/apps/${a._id}/bundle`} target="_blank" className="text-xs px-2 py-1 rounded border">Download</a>
            </div>
          </div>
        ))}
      </div>
    </div>
  )
}

¦finder¡d©index.tsx¡f¡cÅimport React from 'react'
export default function Finder(){
  return (
    <div>
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
        <div style={{fontWeight:600}}>Finder</div>
        <span className="badge">Home</span>
      </div>
      <p className="muted">This is a simple Finder. It lists installed apps:</p>
      <AppsList />
    </div>
  )
}

type App = { id: string; name: string; icon: string }

function AppsList(){
  const [apps, setApps] = React.useState<App[]>([])
  React.useEffect(()=>{ fetch('/apps/registry.json').then(r=>r.json()).then(setApps) },[])
  return (
    <ul className="list">
      {apps.map(a=> <li key={a.id}>{a.icon} {a.name} <code style={{color:'#6b7280'}}>{a.id.slice(0,8)}</code></li>)}
    </ul>
  )
}
¥notes¡d©index.tsx¡f¡cÅšimport React from 'react'
export default function Notes(){
  const [notes, setNotes] = React.useState([{id:1,text:'Welcome to Notes'}])
  const [t, setT] = React.useState('')
  return (
    <div>
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
        <div style={{fontWeight:600}}>Notes</div>
        <span className="badge">Local</span>
      </div>
      <div style={{display:'flex',gap:10,marginTop:10}}>
        <textarea value={t} onChange={e=>setT(e.target.value)} placeholder="Write a noteâ€¦" style={{flex:1,height:90,border:'1px solid #e5e7eb',borderRadius:8,padding:8}} />
        <button onClick={()=>{ if(t.trim()){ setNotes(n=>[{id:Date.now(),text:t.trim()},...n]); setT('') } }} style={{padding:'8px 12px'}}>Add</button>
      </div>
      <ul className="list" style={{marginTop:8}}>
        {notes.map(n=> <li key={n.id}>{n.text}</li>)}
      </ul>
    </div>
  )
}
¦safari¡d©index.tsx¡f¡cÅĞimport React from 'react'
export default function Safari(){
  return (
    <div>
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
        <div style={{fontWeight:600}}>Safari</div>
        <span className="badge">Preview</span>
      </div>
      <p className="muted">Minimal browser placeholder. Open external sites is disabled in this preview.</p>
      <div style={{background:'#f3f4f6',border:'1px solid #e5e7eb',borderRadius:8,padding:10}}>
        <div style={{fontSize:13,color:'#6b7280'}}>Address Bar</div>
        <input style={{width:'100%',padding:8,borderRadius:6,border:'1px solid #d1d5db'}} placeholder="https://example.com" disabled />
      </div>
    </div>
  )
}
¨settings¡d©index.tsx¡f¡cÅBimport React from 'react'
export default function Settings(){
  const [dark, setDark] = React.useState(false)
  return (
    <div>
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
        <div style={{fontWeight:600}}>Settings</div>
        <span className="badge">System</span>
      </div>
      <div style={{marginTop:10}}>
        <label style={{display:'flex',alignItems:'center',gap:8}}>
          <input type="checkbox" checked={dark} onChange={()=>setDark(v=>!v)} /> Dark Mode (demo)
        </label>
      </div>
    </div>
  )
}
¨terminal¡d©index.tsx¡f¡cÅ¯import React from 'react'
export default function Terminal(){
  const [lines, setLines] = React.useState(['Welcome to Terminal'])
  const [cmd, setCmd] = React.useState('help')
  return (
    <div>
      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
        <div style={{fontWeight:600}}>Terminal</div>
        <span className="badge">Demo</span>
      </div>
      <div style={{fontFamily:'ui-monospace, SFMono-Regular, Menlo, monospace',background:'#111827',color:'#d1d5db',borderRadius:8,padding:10,marginTop:8}}>
        {lines.map((l,i)=>(<div key={i}>{'>'} {l}</div>))}
      </div>
      <div style={{display:'flex',gap:8,marginTop:8}}>
        <input value={cmd} onChange={e=>setCmd(e.target.value)} style={{flex:1,border:'1px solid #e5e7eb',borderRadius:6,padding:8}} />
        <button onClick={()=>{ setLines(l=>[...l, 'executed: '+cmd]); setCmd('') }}>Run</button>
      </div>
    </div>
  )
}
¥visit¡d©index.tsx¡f¡cÅµimport { useEffect, useMemo, useState } from 'react'

type DesktopRecord = {
  _id: string;
  title: string;
  description?: string;
  icon?: string;
};

async function fetchJSON<T>(url: string): Promise<T> {
  const res = await fetch(url, { cache: 'no-store' });
  if (!res.ok) throw new Error(`Failed: ${res.status}`);
  return res.json();
}

export default function Visit() {
  const [desktops, setDesktops] = useState<DesktopRecord[]>([])
  const [search, setSearch] = useState('')
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)

  useEffect(() => {
    let mounted = true
    ;(async () => {
      try {
        const data = await fetchJSON<{ desktops: DesktopRecord[] }>(`/api/visit/desktops`)
        if (!mounted) return
        setDesktops(data.desktops || [])
      } catch (e: unknown) {
        if (!mounted) return
        setError(e instanceof Error ? e.message : 'Failed to load')
      } finally {
        if (mounted) setLoading(false)
      }
    })()
    return () => { mounted = false }
  }, [])

  const filtered = useMemo(() => {
    if (!search.trim()) return desktops
    const s = search.toLowerCase()
    return desktops.filter(a => a.title.toLowerCase().includes(s) || (a.description||'').toLowerCase().includes(s))
  }, [desktops, search])

  return (
    <div className="h-full overflow-auto">
      <div className="sticky top-0 bg-white/70 backdrop-blur border-b px-3 py-2">
        <div className="flex items-center gap-2">
          <div className="font-semibold">Visit Desktops</div>
          <div className="ml-auto">
            <input value={search} onChange={e => setSearch(e.target.value)} placeholder="Search desktops" className="border rounded px-2 py-1 text-sm" />
          </div>
        </div>
      </div>
      <div className="p-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
        {loading && <div className="text-sm text-gray-500">Loadingâ€¦</div>}
        {error && <div className="text-sm text-red-600">{error}</div>}
        {!loading && !error && filtered.length === 0 && (
          <div className="text-sm text-gray-500">No desktops found.</div>
        )}
        {filtered.map(d => (
          <div key={d._id} className="border rounded-lg p-3 bg-white">
            <div className="flex items-center gap-2 mb-1">
              <div className="text-lg">{d.icon || 'ğŸ–¥ï¸'}</div>
              <div className="font-medium truncate" title={d.title}>{d.title}</div>
            </div>
            {d.description && <div className="text-xs text-gray-600 line-clamp-2 mb-2">{d.description}</div>}
            <div className="flex items-center gap-2">
              <a href={`/d/${d._id}`} className="text-xs px-2 py-1 rounded bg-black text-white">Open</a>
              <a href={`/api/visit/desktops/${d._id}/snapshot`} target="_blank" className="text-xs px-2 py-1 rounded border">Download</a>
            </div>
          </div>
        ))}
      </div>
    </div>
  )
}

¦assets¡d©react.svg¡f¡cÅ<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>§desktop¡d‚«Desktop.tsx¡f¡cÅëÚimport React, { useEffect, useRef, useState } from 'react'

// Shared constants
// Host reserves ~400px on the left for the agent sidebar; include a small gutter.
const SIDEBAR_WIDTH = 416
const ICON_LAYOUT_VERSION = 'right-aligned-v1'
const ICON_LAYOUT_VERSION_KEY = 'desktop.iconLayoutVersion'
const ICON_RIGHT_MARGIN = 32
const ICON_WIDTH = 64

const DEFAULT_WINDOW_POS = { left: SIDEBAR_WIDTH + 90, top: 90 }
const DEFAULT_WINDOW_SIZE = { width: 720, height: 720 }
const MIN_WINDOW_SIZE = { width: 280, height: 160 }

const OPEN_RESTORE_MS = 340
const CLOSE_MS = 220
const MINIMIZE_MS = 220

const LS_ICON_POS_KEY = 'desktop.iconPositions'
const LS_WINDOW_GEOM_KEY = 'desktop.windowGeometries'
const LS_WINDOW_TABS_KEY = 'desktop.windowTabs'
const LS_APP_ORDER_KEY = 'desktop.appOrder'

const EVT_OPEN_APP = 'FYOS_OPEN_APP'
const EVT_DESKTOP_READY = 'FYOS_DESKTOP_READY'
const THEME_KEY = 'fyos.desktop.theme'
const EVT_SET_THEME = 'FYOS_SET_THEME'
const EVT_USER_MODE = 'FYOS_USER_MODE'

const DESKTOP_GRID = { spacingX: 90, spacingY: 90, startX: SIDEBAR_WIDTH + 16, startY: 52, maxPerCol: 6 }

type DialOption = 'expand' | 'close' | 'move' | 'chat'

const DIAL_THRESHOLD = 36

type DialMeta = { label: string; angle: number; icon: string }

const DIAL_OPTION_META: Record<DialOption, DialMeta> = {
  expand: { label: 'Expand', angle: -45, icon: 'â¤¢' },
  move: { label: 'Move', angle: 45, icon: 'ğŸªŸ' },
  close: { label: 'Close', angle: 135, icon: 'âœ•' },
  chat: { label: 'Open Chat', angle: -135, icon: 'ğŸ’¬' },
}

const DIAL_OPTIONS: DialOption[] = ['expand', 'move', 'close', 'chat']
const DIAL_VIEWBOX = 224
const DIAL_CENTER = DIAL_VIEWBOX / 2
const DIAL_OUTER_RADIUS = 100
const DIAL_INNER_RADIUS = 58
const DIAL_LABEL_RADIUS = 82
const DIAL_SWEEP = 90

function degToRad(deg: number){
  return (deg * Math.PI) / 180
}

function polarToCartesian(angleDeg: number, radius: number){
  const rad = degToRad(angleDeg)
  return {
    x: DIAL_CENTER + radius * Math.cos(rad),
    y: DIAL_CENTER + radius * Math.sin(rad),
  }
}

function buildDialPath(angleDeg: number){
  const start = angleDeg - DIAL_SWEEP / 2
  const end = angleDeg + DIAL_SWEEP / 2
  const outerStart = polarToCartesian(start, DIAL_OUTER_RADIUS)
  const outerEnd = polarToCartesian(end, DIAL_OUTER_RADIUS)
  const innerEnd = polarToCartesian(end, DIAL_INNER_RADIUS)
  const innerStart = polarToCartesian(start, DIAL_INNER_RADIUS)
  const largeArc = DIAL_SWEEP > 180 ? 1 : 0
  return [
    `M ${outerStart.x} ${outerStart.y}`,
    `A ${DIAL_OUTER_RADIUS} ${DIAL_OUTER_RADIUS} 0 ${largeArc} 1 ${outerEnd.x} ${outerEnd.y}`,
    `L ${innerEnd.x} ${innerEnd.y}`,
    `A ${DIAL_INNER_RADIUS} ${DIAL_INNER_RADIUS} 0 ${largeArc} 0 ${innerStart.x} ${innerStart.y}`,
    'Z',
  ].join(' ')
}

function computeLabelPosition(angleDeg: number){
  return polarToCartesian(angleDeg, DIAL_LABEL_RADIUS)
}

type Geometry = { left: number; top: number; width: number; height: number }

// Helpers
function clampToViewport(left: number, top: number, width: number, height: number){
  const vw = window.innerWidth
  const vh = window.innerHeight
  // Enforce a consistent visual gap from all edges (instead of partial visibility)
  const minLeft = 16 + SIDEBAR_WIDTH
  const maxLeft = Math.max(16 + SIDEBAR_WIDTH, vw - width - 16)
  const minTop = 16
  const maxTop = Math.max(16, vh - height - 16)
  return {
    left: Math.min(Math.max(left, minLeft), maxLeft),
    top: Math.min(Math.max(top, minTop), maxTop)
  }
}

function resolveAppGeometry(app: App): Geometry{
  return {
    left: app.left ?? DEFAULT_WINDOW_POS.left,
    top: app.top ?? DEFAULT_WINDOW_POS.top,
    width: app.width ?? DEFAULT_WINDOW_SIZE.width,
    height: app.height ?? DEFAULT_WINDOW_SIZE.height,
  }
}

// (removed unused resolveInitialGeometry)

function setBodyUserSelect(value: string){
  if (typeof document === 'undefined') return
  const { body } = document
  if (!body) return
  try {
    body.style.userSelect = value
    if (value){
      body.style.setProperty('-webkit-user-select', value)
    } else {
      body.style.removeProperty('-webkit-user-select')
    }
  } catch {
    // ignore style failures
  }
}

function determineDialOption(dx: number, dy: number, distance: number, hasWindow: boolean): DialOption | null {
  if (distance < DIAL_THRESHOLD) return null
  const angle = Math.atan2(dy, dx)
  const normalizedDeg = (angle * 180 / Math.PI + 360) % 360
  const deg = (normalizedDeg - 45 + 360) % 360
  if (deg >= 315 || deg < 45) return hasWindow ? 'move' : null
  if (deg >= 45 && deg < 135) return hasWindow ? 'close' : null
  if (deg >= 135 && deg < 225) return 'chat'
  if (deg >= 225 && deg < 315) return hasWindow ? 'expand' : null
  return null
}

type ContextPointerMessage = {
  type: 'FYOS_DESKTOP_CONTEXT_POINTER'
  phase: 'down' | 'move' | 'up' | 'cancel'
  pointerId: number
  clientX: number
  clientY: number
  button?: number
  buttons?: number
  pointerType?: string
  appId?: string | null
}

function isContextPointerMessage(value: unknown): value is ContextPointerMessage {
  if (!value || typeof value !== 'object') return false
  const msg = value as Partial<ContextPointerMessage>
  const phaseValid = msg.phase === 'down' || msg.phase === 'move' || msg.phase === 'up' || msg.phase === 'cancel'
  return msg.type === 'FYOS_DESKTOP_CONTEXT_POINTER'
    && phaseValid
    && typeof msg.pointerId === 'number'
    && typeof msg.clientX === 'number'
    && typeof msg.clientY === 'number'
}

function bounceIcon(setLaunching: React.Dispatch<React.SetStateAction<string | null>>, id: string, ms = 600){
  setLaunching(id)
  setTimeout(()=> setLaunching(prev => prev === id ? null : prev), ms)
}

function loadIconPositions(): Record<string, { left: number; top: number }>{
  try{
    const version = localStorage.getItem(ICON_LAYOUT_VERSION_KEY)
    if (version !== ICON_LAYOUT_VERSION) {
      return {}
    }
    const raw = localStorage.getItem(LS_ICON_POS_KEY)
    return raw ? JSON.parse(raw) : {}
  } catch { return {} }
}

function saveIconPositions(pos: Record<string, { left: number; top: number }>): void{
  try{
    localStorage.setItem(LS_ICON_POS_KEY, JSON.stringify(pos))
    localStorage.setItem(ICON_LAYOUT_VERSION_KEY, ICON_LAYOUT_VERSION)
  } catch{}
}

function loadWindowGeometries(): Record<string, { left: number; top: number; width: number; height: number }>{
  try{
    const raw = localStorage.getItem(LS_WINDOW_GEOM_KEY)
    return raw ? JSON.parse(raw) : {}
  } catch { return {} }
}

function saveWindowGeometries(geoms: Record<string, { left: number; top: number; width: number; height: number }>): void{
  try{ localStorage.setItem(LS_WINDOW_GEOM_KEY, JSON.stringify(geoms)) } catch{}
}

function loadWindowTabs(): Record<string, WindowTabsState> {
  try { return JSON.parse(localStorage.getItem(LS_WINDOW_TABS_KEY) || '{}') || {}; } catch { return {}; }
}

function saveWindowTabs(map: Record<string, WindowTabsState>) {
  try { localStorage.setItem(LS_WINDOW_TABS_KEY, JSON.stringify(map)); } catch {}
}

function loadAppOrder(): string[] {
  try { return JSON.parse(localStorage.getItem(LS_APP_ORDER_KEY) || '[]') || []; } catch { return []; }
}

function saveAppOrder(order: string[]) {
  try { localStorage.setItem(LS_APP_ORDER_KEY, JSON.stringify(order)); } catch {}
}

async function loadRegistry(): Promise<App[]>{
  const res = await fetch('/apps/registry.json?_=' + Date.now())
  return res.ok ? res.json() : []
}

type WindowTab = {
  id: string;         // unique per tab within a window
  appId: string | null;
  title: string;
  icon?: string;
  path?: string;
};

type WindowTabsState = {
  activeTabId: string;
  tabs: WindowTab[];
};

interface App {
  id: string
  name: string
  icon?: string
  path: string
  left?: number
  top?: number
  width?: number
  height?: number
  minimized?: boolean
  anim?: 'open' | 'close' | 'minimize' | 'restore'
}

interface WindowProps {
  app: App
  zIndex: number
  onClose: () => void
  onMinimize: () => void
  onFocus: () => void
  onMove: (pos: { left: number; top: number }) => void
  onResize: (size: { width: number; height: number }) => void
  tabs: WindowTab[]
  activeTabId: string
  onTabActivate: (tabId: string) => void
  onTabClose: (tabId: string) => void
  onNewTab: () => void
  onOpenAppInTab: (tabId: string, app: App) => void
  availableApps: App[]
  isBeingMoved: boolean
}

// Top menubar removed

function LauncherGrid({ apps, onPick }: { apps: App[]; onPick: (a: App) => void }) {
  return (
    <div className="launcher-grid">
      {apps.map(a => (
        <button key={a.id} className="launcher-item" onClick={() => onPick(a)}>
          <div className="glyph">{a.icon || 'ğŸ“¦'}</div>
          <div className="label">{a.name}</div>
        </button>
      ))}
    </div>
  );
}

function Window({ app, zIndex, onClose, onMinimize, onFocus, onMove, onResize, tabs, activeTabId, onTabActivate, onTabClose, onNewTab, onOpenAppInTab, availableApps, isBeingMoved }: WindowProps){
  const rootRef = useRef<HTMLDivElement | null>(null)
  const rafIdRef = useRef<number | null>(null)
  const draggingRef = useRef<{
    type: 'move' | 'resize' | null
    startX: number
    startY: number
    startLeft: number
    startTop: number
    startWidth: number
    startHeight: number
    handle?: 'nw'|'ne'|'sw'|'se'
    active: boolean
    curDx?: number
    curDy?: number
    curLeft?: number
    curTop?: number
    curWidth?: number
    curHeight?: number
  }>({ type: null, startX: 0, startY: 0, startLeft: 0, startTop: 0, startWidth: 0, startHeight: 0, active: false })

  function clearSelectionEverywhere(){
    try{ window.getSelection()?.removeAllRanges() } catch {}
    try{
      const iframe = rootRef.current?.querySelector('iframe') as HTMLIFrameElement | null
      const sel = iframe?.contentWindow?.getSelection()
      if (sel && sel.rangeCount > 0) sel.removeAllRanges()
    } catch {}
  }

  function scheduleApply(){
    if (rafIdRef.current != null) return
    rafIdRef.current = requestAnimationFrame(()=>{
      rafIdRef.current = null
      const d = draggingRef.current
      const el = rootRef.current
      if (!el || !d.active) return
      if (d.type === 'move'){
        const dx = d.curDx ?? 0
        const dy = d.curDy ?? 0
        el.style.transform = `translate3d(${dx}px, ${dy}px, 0)`
      } else if (d.type === 'resize'){
        if (typeof d.curLeft === 'number') el.style.left = `${d.curLeft}px`
        if (typeof d.curTop === 'number') el.style.top = `${d.curTop}px`
        if (typeof d.curWidth === 'number') el.style.width = `${d.curWidth}px`
        if (typeof d.curHeight === 'number') el.style.height = `${d.curHeight}px`
      }
    })
  }

  useEffect(()=>{
    // Drag loop: use rAF and transform to avoid React state churn
    function onMoveDoc(e: MouseEvent){
      const d = draggingRef.current
      if (!d.active || !d.type) return
      e.preventDefault()
      const el = rootRef.current
      if (!el) return
      if (d.type === 'move'){
        const dx = e.clientX - d.startX
        const dy = e.clientY - d.startY
        // Store deltas; apply via rAF transform
        d.curDx = dx
        d.curDy = dy
        scheduleApply()
      } else if (d.type === 'resize'){
        const dx = e.clientX - d.startX
        const dy = e.clientY - d.startY
        let newW = d.startWidth
        let newH = d.startHeight
        let newL = d.startLeft
        let newT = d.startTop
        const minW = MIN_WINDOW_SIZE.width
        const minH = MIN_WINDOW_SIZE.height
        switch(d.handle){
          case 'se': newW = Math.max(minW, d.startWidth + dx); newH = Math.max(minH, d.startHeight + dy); break
          case 'ne': newW = Math.max(minW, d.startWidth + dx); newH = Math.max(minH, d.startHeight - dy); newT = d.startTop + dy; break
          case 'sw': newW = Math.max(minW, d.startWidth - dx); newH = Math.max(minH, d.startHeight + dy); newL = d.startLeft + dx; break
          case 'nw': newW = Math.max(minW, d.startWidth - dx); newH = Math.max(minH, d.startHeight - dy); newL = d.startLeft + dx; newT = d.startTop + dy; break
        }
        if (newW < minW) newW = minW
        if (newH < minH) newH = minH
        const pos = clampToViewport(newL, newT, newW, newH)
        d.curLeft = pos.left
        d.curTop = pos.top
        d.curWidth = newW
        d.curHeight = newH
        scheduleApply()
      }
    }
    function onUp(){
      const d = draggingRef.current
      if (d.active && d.type){
        const isMove = d.type === 'move'
        if (isMove){
          const dx = (d.curDx ?? 0)
          const dy = (d.curDy ?? 0)
          const geom = resolveAppGeometry(app)
          const pos = clampToViewport(geom.left + dx, geom.top + dy, geom.width, geom.height)
          // Commit to React once
          onMove({ left: pos.left, top: pos.top })
          try { const el = rootRef.current; if (el){ el.style.transform = ''; } } catch {}
        } else {
          const width = d.curWidth ?? d.startWidth
          const height = d.curHeight ?? d.startHeight
          const left = d.curLeft ?? d.startLeft
          const top = d.curTop ?? d.startTop
          onMove({ left, top })
          onResize({ width, height })
        }
        clearSelectionEverywhere()
        try{ rootRef.current?.classList.remove('resizing') } catch {}
        try{ document.body.classList.remove('desktop-resizing') } catch {}
        setBodyUserSelect('')
        try{ document.body.style.cursor = '' } catch {}
      }
      draggingRef.current.active = false; draggingRef.current.type = null
    }
    document.addEventListener('mousemove', onMoveDoc)
    document.addEventListener('mouseup', onUp)
    return ()=>{
      document.removeEventListener('mousemove', onMoveDoc)
      document.removeEventListener('mouseup', onUp)
    }
  }, [app, onMove, onResize])

  function startMove(e: React.MouseEvent){
    if (e.button !== 0) return
    e.preventDefault()
    onFocus()
    const g = resolveAppGeometry(app)
    draggingRef.current = {
      type: 'move',
      startX: e.clientX,
      startY: e.clientY,
      startLeft: g.left,
      startTop: g.top,
      startWidth: g.width,
      startHeight: g.height,
      active: true
    }
    try{ rootRef.current?.classList.add('resizing') } catch {}
    try{ document.body.classList.add('desktop-resizing') } catch {}
    setBodyUserSelect('none')
    try{ document.body.style.cursor = 'grabbing' } catch {}
    // Avoid costly selection updates during drag; clear once at start
    clearSelectionEverywhere()
  }

  function startResize(handle: 'nw'|'ne'|'sw'|'se'){
    return (e: React.MouseEvent)=>{
      if (e.button !== 0) return
      e.stopPropagation()
      e.preventDefault()
      onFocus()
      const g = resolveAppGeometry(app)
      draggingRef.current = {
        type: 'resize',
        handle,
        startX: e.clientX,
        startY: e.clientY,
        startLeft: g.left,
        startTop: g.top,
        startWidth: g.width,
        startHeight: g.height,
        active: true
      }
      try{ rootRef.current?.classList.add('resizing') } catch {}
      try{ document.body.classList.add('desktop-resizing') } catch {}
      setBodyUserSelect('none')
      try{
        const map: Record<string,string> = { nw: 'nwse-resize', se: 'nwse-resize', ne: 'nesw-resize', sw: 'nesw-resize' }
        document.body.style.cursor = map[handle] || 'nwse-resize'
      } catch {}
      // Avoid costly selection updates during drag; clear once at start
      clearSelectionEverywhere()
    }
  }
  const classes = ['window']
  if (app.anim === 'open' || app.anim === 'restore') classes.push('opening')
  if (app.anim === 'close') classes.push('closing')
  if (app.anim === 'minimize') classes.push('minimizing')
  if (app.minimized && !app.anim) classes.push('minimized')
  if (isBeingMoved) classes.push('moving')

  const activeTab = tabs.find(t => t.id === activeTabId) || tabs[0];
  const isBlank = !activeTab || !activeTab.appId;
  const iframeSrc = !isBlank ? `/app.html?path=${encodeURIComponent(activeTab.path||'')}&id=${encodeURIComponent(activeTab.appId||'')}&name=${encodeURIComponent(activeTab.title)}&ui=1` : '';

  return (
    <div ref={rootRef} className={classes.join(' ')} data-app-id={app.id} style={{ ...resolveAppGeometry(app), zIndex, background: 'rgba(12,18,36,0.10)' }} onMouseDown={onFocus}>
      <nav className="tabstrip" role="tablist" aria-label="Tabs" onMouseDown={startMove}>
        {tabs.map((t) => (
          <button key={t.id} role="tab" aria-selected={t.id===activeTabId}
            className={`tab${t.id===activeTabId?' active':''}`}
            onClick={()=>onTabActivate(t.id)}
            onMouseDown={(e)=>e.stopPropagation()}>
            <span className="tab-ico">{t.icon||'ğŸ“¦'}</span>
            <span className="tab-title">{t.title}</span>
            <span className="tab-close" onClick={(e)=>{ e.stopPropagation(); onTabClose(t.id); }}>Ã—</span>
          </button>
        ))}
        <button className="tab-add" aria-label="New tab" onClick={onNewTab} onMouseDown={(e)=>e.stopPropagation()}>+</button>
        <div className="win-controls" onMouseDown={(e)=>e.stopPropagation()}>
          <button className="ctl ctl-close" aria-label="Close" onClick={onClose} />
          <button className="ctl ctl-min" aria-label="Minimize" onClick={onMinimize} />
          <button className="ctl ctl-expand" aria-label="Expand" onClick={()=>{
            try {
              const vw = window.innerWidth; const vh = window.innerHeight; const M = 12;
              const left = SIDEBAR_WIDTH + M; const top = M; const width = Math.max(0, vw - SIDEBAR_WIDTH - (M*2)); const height = Math.max(0, vh - (M*2));
              onMove({ left, top }); onResize({ width, height });
            } catch {}
          }} />
        </div>
        <div className="tab-gradient-left" />
        <div className="tab-gradient-right" />
        <div className="tab-insert-marker" aria-hidden />
      </nav>
      <div className="content" style={{ top: '32px', background: 'transparent' }}>
        {isBlank ? (
          <LauncherGrid apps={availableApps} onPick={(a) => onOpenAppInTab(activeTab?.id || tabs[0]?.id || '', a)} />
        ) : (
          <iframe
            title={activeTab.title}
            src={iframeSrc}
            data-app-id={app.id}
            style={{ display: 'block', width: '100%', height: '100%', border: 0, background: 'transparent' }}
            sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-top-navigation-by-user-activation allow-downloads"
            onError={(e) => {
              console.warn('Iframe error for app:', activeTab.title, e);
            }}
          />
        )}
      </div>
      <div className="resize-handle nw" onMouseDown={startResize('nw')} />
      <div className="resize-handle ne" onMouseDown={startResize('ne')} />
      <div className="resize-handle sw" onMouseDown={startResize('sw')} />
      <div className="resize-handle se" onMouseDown={startResize('se')} />
    </div>
  )
}

export default function Desktop(){
  const [apps, setApps] = useState<App[]>([])
  const appsByIdRef = useRef<Record<string, App>>({})
  const [appOrder, setAppOrder] = useState<string[]>([])
  const appOrderRef = useRef(appOrder)
  const [userMode, setUserMode] = useState<'auth'|'anon'>('auth')
  const userModeRef = useRef(userMode)
  const [theme, setTheme] = useState<{ mode: 'image'|'gradient'; value: string } | null>(null)
  // const [bootscreen, setBootscreen] = useState<boolean>(false)
  // const [gradientKey, setGradientKey] = useState<string>('1')
  // const gradientVar = `var(--desktop-gradient-${gradientKey})`
  // Seed localStorage desktop state from persisted file if present
  useEffect(() => {
    (async () => {
      try {
        if (userMode === 'anon') return;
        const res = await fetch('/_fyos/desktop-state.json?_=' + Date.now(), { cache: 'no-store' });
        if (!res.ok) return;
        const json = await res.json();
        if (json && typeof json === 'object') {
          try { if (json.theme && (json.theme.mode === 'image' || json.theme.mode === 'gradient') && typeof json.theme.value === 'string') { localStorage.setItem(THEME_KEY, JSON.stringify(json.theme)); setTheme(json.theme); } } catch {}
          try { if (json.iconPositions) localStorage.setItem(LS_ICON_POS_KEY, JSON.stringify(json.iconPositions)); } catch {}
          try { if (json.windowGeometries) localStorage.setItem(LS_WINDOW_GEOM_KEY, JSON.stringify(json.windowGeometries)); } catch {}
          try { if (json.windowTabs) localStorage.setItem(LS_WINDOW_TABS_KEY, JSON.stringify(json.windowTabs)); } catch {}
          try { if (json.appOrder) localStorage.setItem(LS_APP_ORDER_KEY, JSON.stringify(json.appOrder)); } catch {}
        }
      } catch {}
    })();
  }, [userMode])
  useEffect(() => { appOrderRef.current = appOrder }, [appOrder])
  useEffect(() => { userModeRef.current = userMode }, [userMode])
  // Announce readiness to host so it can flush any pending open-app messages
  useEffect(()=>{
    try { window.parent?.postMessage({ type: EVT_DESKTOP_READY }, '*') } catch {}
  }, [])
  // Ensure root container stretches full viewport
  useEffect(()=>{
    try{
      const root = document.getElementById('root')
      if (root){
        root.style.height = '100%'
        root.style.width = '100%'
      }
      document.documentElement.style.height = '100%'
      document.documentElement.style.width = '100%'
      document.body.style.height = '100%'
      document.body.style.width = '100%'
      document.body.style.margin = '0'
    } catch {}
  }, [])
  // React to theme changes from other windows (BootScreen)
  useEffect(()=>{
    function onStorage(e: StorageEvent){
      try{
        if (e.key === THEME_KEY && e.newValue){
          const t = JSON.parse(e.newValue)
          if (t && (t.mode === 'image' || t.mode === 'gradient') && typeof t.value === 'string') setTheme(t)
        }
      } catch {}
    }
    window.addEventListener('storage', onStorage)
    return ()=> window.removeEventListener('storage', onStorage)
  }, [])
  // Load theme (from BootScreen selection). If none, default to /2.webp
  useEffect(()=>{
    try {
      const raw = localStorage.getItem(THEME_KEY)
      if (raw){
        const t = JSON.parse(raw)
        if (t && (t.mode === 'image' || t.mode === 'gradient') && typeof t.value === 'string'){
          setTheme(t)
          return
        }
      }
    } catch {}
    // default theme (image 2.webp)
    setTheme({ mode: 'image', value: '/2.webp' })
  }, [])
  // Load persisted gradient - disabled for now
  // useEffect(()=>{
  //   try {
  //     const saved = localStorage.getItem('fyos.desktop.gradient')
  //     if (saved) {
  //       setGradientKey(saved)
  //     }
  //   } catch {}
  //   // Show bootscreen the very first time only
  //   try {
  //     const seen = localStorage.getItem('fyos.desktop.seenBoot')
  //     if (!seen) setBootscreen(true)
  //   } catch {}
  // }, [])
  // function chooseGradient(key: string){
  //   try { localStorage.setItem('fyos.desktop.gradient', key) } catch {}
  //   try { localStorage.setItem('fyos.desktop.seenBoot', '1') } catch {}
  //   setGradientKey(key)
  //   setBootscreen(false)
  // }
  const [open, setOpen] = useState<App[]>([])
  const openWindowsRef = useRef<App[]>([])
  useEffect(() => { openWindowsRef.current = open }, [open])
  const [windowTabs, setWindowTabs] = useState<Record<string, WindowTabsState>>({})
  const windowTabsRef = useRef(windowTabs)
  useEffect(() => { windowTabsRef.current = windowTabs }, [windowTabs])

  const [dialState, setDialState] = useState<{
    x: number;
    y: number;
    active: DialOption | null;
    distance: number;
    available: Record<DialOption, boolean>;
  } | null>(null)
  const dialSessionRef = useRef<{
    pointerId: number
    originX: number
    originY: number
    targetAppId: string | null
    source: 'native' | 'iframe'
  } | null>(null)
  const dialListenersRef = useRef<{
    move?: (evt: PointerEvent) => void
    up?: (evt: PointerEvent) => void
    cancel?: (evt: PointerEvent) => void
    key?: (evt: KeyboardEvent) => void
  } | null>(null)

  const moveSessionRef = useRef<{
    appId: string
    offsetX: number
    offsetY: number
    width: number
    height: number
    pointerId: number | null
    pendingX: number | null
    pendingY: number | null
  } | null>(null)
  const moveSessionFrameRef = useRef<number | null>(null)
  const [movingWindowId, setMovingWindowId] = useState<string | null>(null)
  const isMountedRef = useRef(true)
  const skipGeometryPersistenceRef = useRef(false)
  const endMoveSessionRef = useRef<(persist?: boolean) => void>(() => {})
  const startDialSessionRef = useRef<(params: { pointerId: number; clientX: number; clientY: number; source: 'native' | 'iframe'; targetAppId?: string | null }) => void>(() => {})
  const updateDialVisualsRef = useRef<((clientX: number, clientY: number) => { option: DialOption | null; distance: number; hasWindow: boolean } | null) | null>(null)
  const executeDialSelectionRef = useRef<((option: DialOption, appId: string | null, pointerX: number, pointerY: number) => void) | null>(null)
  const launchRef = useRef<(app: App) => void>(() => {})

  useEffect(() => { if (userMode === 'auth') setWindowTabs(loadWindowTabs()); }, [userMode]);

  function mergeOrderWithRegistry(order: string[], list: App[]): string[] {
    const ids = new Set(list.map(a => a.id))
    const filtered = order.filter(id => ids.has(id))
    const missing = list.map(a => a.id).filter(id => !filtered.includes(id))
    return [...filtered, ...missing]
  }

  const persistWindowTabs = (updater: (prev: Record<string, WindowTabsState>) => Record<string, WindowTabsState>) => {
    setWindowTabs(prev => { const next = updater(prev); if (userMode === 'auth') saveWindowTabs(next); return next; });
  };

  function ensureWindowTabsFor(app: App) {
    persistWindowTabs(prev => {
      if (prev[app.id]) return prev;
      const first: WindowTab = { id: crypto.randomUUID(), appId: app.id, title: app.name, icon: app.icon, path: app.path };
      return { ...prev, [app.id]: { activeTabId: first.id, tabs: [first] } };
    });
  }

  function addTab(windowId: string) {
    persistWindowTabs(prev => {
      const curr = prev[windowId] || { activeTabId: '', tabs: [] };
      const tab: WindowTab = { id: crypto.randomUUID(), appId: null, title: 'New Tab' };
      return { ...prev, [windowId]: { activeTabId: tab.id, tabs: [...curr.tabs, tab] } };
    });
  }

  function closeTab(windowId: string, tabId: string) {
    persistWindowTabs(prev => {
      const curr = prev[windowId]; if (!curr) return prev;
      const idx = curr.tabs.findIndex(t => t.id === tabId); if (idx < 0) return prev;
      const nextTabs = curr.tabs.filter(t => t.id !== tabId);
      const nextActive = curr.activeTabId === tabId ? (nextTabs[idx - 1]?.id || nextTabs[0]?.id || '') : curr.activeTabId;
      return { ...prev, [windowId]: { tabs: nextTabs, activeTabId: nextActive } };
    });
  }

  function activateTab(windowId: string, tabId: string) {
    persistWindowTabs(prev => ({ ...prev, [windowId]: { ...prev[windowId], activeTabId: tabId } }));
  }


  function openAppIntoTab(windowId: string, tabId: string, appLike: App) {
    persistWindowTabs(prev => {
      const curr = prev[windowId]; if (!curr) return prev;
      const list = curr.tabs.map(t => t.id === tabId ? ({ ...t, appId: appLike.id, title: appLike.name, icon: appLike.icon, path: appLike.path }) : t);
      return { ...prev, [windowId]: { ...curr, tabs: list, activeTabId: tabId } };
    });
  }

  const [iconPositions, setIconPositions] = useState<Record<string,{left:number;top:number}>>({})
  const [windowGeometries, setWindowGeometries] = useState<Record<string,{left:number;top:number;width:number;height:number}>>({})
  const windowGeometriesRef = useRef(windowGeometries)
  useEffect(() => { windowGeometriesRef.current = windowGeometries }, [windowGeometries])
  const dragIconRef = useRef<{
    id: string | null
    startX: number
    startY: number
    startLeft: number
    startTop: number
    dragging: boolean
  }>({ id: null, startX: 0, startY: 0, startLeft: 0, startTop: 0, dragging: false })
  const suppressClickRef = useRef<Set<string>>(new Set())
  // focusedName removed with menubar

  // Helper function to find next available icon position
  const findNextIconPosition = (currentPositions: Record<string,{left:number;top:number}>, _existingApps: App[]) => {
    const { spacingX, spacingY, startY, maxPerCol } = DESKTOP_GRID
    const viewportWidth = typeof window !== 'undefined' ? window.innerWidth : 1440
    const workspaceRight = viewportWidth - ICON_RIGHT_MARGIN
    const firstColumnLeft = Math.max(SIDEBAR_WIDTH + ICON_RIGHT_MARGIN, workspaceRight - ICON_WIDTH)
    
    // Get all occupied positions
    const occupiedPositions = new Set<string>()
    Object.values(currentPositions).forEach(pos => {
      occupiedPositions.add(`${pos.left},${pos.top}`)
    })
    
    // Find first available grid position
    for (let i = 0; i < 50; i++) { // limit search to prevent infinite loop
      const col = Math.floor(i / maxPerCol)
      const row = i % maxPerCol
      const left = Math.max(SIDEBAR_WIDTH + ICON_RIGHT_MARGIN, firstColumnLeft - col * spacingX)
      const top = startY + row * spacingY
      const posKey = `${left},${top}`
      
      if (!occupiedPositions.has(posKey)) {
        return { left, top }
      }
    }
    
    // Fallback: place at end of first column
    return { left: firstColumnLeft, top: startY + maxPerCol * spacingY }
  }

  const getRightAlignedFallback = () => {
    const viewportWidth = typeof window !== 'undefined' ? window.innerWidth : 1440
    const workspaceRight = viewportWidth - ICON_RIGHT_MARGIN
    const left = Math.max(SIDEBAR_WIDTH + ICON_RIGHT_MARGIN, workspaceRight - ICON_WIDTH)
    return { left, top: DESKTOP_GRID.startY }
  }

  useEffect(()=>{
    loadRegistry()
      .then((list: App[])=> {
        setApps(() => {
          // load icon positions from localStorage if present
          try{
            let currentPositions = userMode === 'auth' ? loadIconPositions() : {}
            if (!currentPositions || Object.keys(currentPositions).length === 0){
              const seed: Record<string,{left:number;top:number}> = {}
              list.forEach(app => {
                seed[app.id] = findNextIconPosition(seed, list)
              })
              currentPositions = seed
            }
            
            // Check for new apps that don't have positions yet
            const newPositions = { ...currentPositions }
            list.forEach(app => {
              if (!newPositions[app.id]) {
                newPositions[app.id] = findNextIconPosition(newPositions, list)
              }
            })
            
            setIconPositions(newPositions)
            if (userMode === 'auth') {
              try { saveIconPositions(newPositions) } catch {}
            }
            
            const geoms = userMode === 'auth' ? loadWindowGeometries() : {}
            if (geoms && Object.keys(geoms).length > 0){
              setWindowGeometries(geoms)
            }
            // Initialize app order
            try {
              const loaded = userMode === 'auth' ? loadAppOrder() : []
              const merged = mergeOrderWithRegistry(loaded, list)
              setAppOrder(merged)
              if (userMode === 'auth') saveAppOrder(merged)
            } catch {}
          } catch {}
          
          // build quick lookup
          try { appsByIdRef.current = Object.fromEntries(list.map(a=>[a.id,a])) } catch {}
          return list
        })
      })
      .catch(()=> setApps([]))
  }, [userMode])

  // Dock removed for now.

  // Periodically refresh registry so newly created apps appear without iframe reload
  const appsRef = useRef<App[]>(apps)
  useEffect(()=>{ appsRef.current = apps }, [apps])
  useEffect(()=>{
    const iv = setInterval(()=>{
      loadRegistry()
        .then((list: App[])=>{
          const curr = JSON.stringify(appsRef.current?.map(a=>({id:a.id,name:a.name,icon:a.icon,path:a.path})) ?? [])
          const next = JSON.stringify(list?.map(a=>({id:a.id,name:a.name,icon:a.icon,path:a.path})) ?? [])
          if (curr !== next) {
            setApps(list)
            try { appsByIdRef.current = Object.fromEntries(list.map(a=>[a.id,a])) } catch {}
            // merge app order with potential new/removed apps
            setAppOrder(prev => {
              const base = prev.length ? prev : (userMode === 'auth' ? loadAppOrder() : [])
              const merged = mergeOrderWithRegistry(base, list)
              if (userMode === 'auth') saveAppOrder(merged)
              return merged
            })
          }
        })
        .catch(()=>{})
    }, 2500)
    return ()=> clearInterval(iv)
  }, [userMode])

  // Helper function to find next available window position
  const findNextWindowPosition = (openWindows: App[]) => {
    const baseLeft = 90
    const baseTop = 90
    const offsetStep = 30
    const maxOffset = 200
    
    // Try positions with increasing offset
    for (let offset = 0; offset <= maxOffset; offset += offsetStep) {
      const left = baseLeft + offset
      const top = baseTop + offset
      
      // Check if this position conflicts with existing windows
      const hasConflict = openWindows.some(w => {
        const wLeft = w.left ?? baseLeft
        const wTop = w.top ?? baseTop
        return Math.abs(wLeft - left) < 50 && Math.abs(wTop - top) < 50
      })
      
      if (!hasConflict) {
        return { left, top }
      }
    }
    
    // Fallback: use base position with random small offset
    return {
      left: baseLeft + Math.floor(Math.random() * 100),
      top: baseTop + Math.floor(Math.random() * 100)
    }
  }

  function launch(app: App){
    setOpen(prev => {
      const idx = prev.findIndex(w => w.id === app.id)
      if (idx >= 0) {
        const exists = prev[idx]
        // If minimized, restore with animation
        if (exists.minimized){
          const DURATION = OPEN_RESTORE_MS
          const g = resolveAppGeometry(exists)
          const { left, top } = clampToViewport(g.left, g.top, g.width, g.height)
          const updated = { ...exists, left, top, minimized: false, anim: 'restore' as const }
          const next = [...prev]
          next.splice(idx, 1) // bring to front
          next.push(updated)
          setTimeout(()=>{
            setOpen(p=> p.map(w=> w.id===app.id ? { ...w, anim: undefined } : w))
          }, DURATION)
          return next
        }
        // otherwise just bring to front
        return [...prev.slice(0, idx), ...prev.slice(idx+1), prev[idx]]
      }
      
      const geom = windowGeometries[app.id]
      const basePos = geom ? { left: geom.left, top: geom.top } : findNextWindowPosition(prev)
      const baseSize = geom ? { width: geom.width, height: geom.height } : { width: resolveAppGeometry(app).width, height: resolveAppGeometry(app).height }
      const clamped = clampToViewport(basePos.left, basePos.top, baseSize.width, baseSize.height)
      const created: App = { ...app, left: clamped.left, top: clamped.top, width: baseSize.width, height: baseSize.height, minimized: false, anim: 'open' }
      const DURATION = OPEN_RESTORE_MS
      setTimeout(()=>{
        setOpen(p=> p.map(w=> w.id===app.id ? { ...w, anim: undefined } : w))
      }, DURATION)
      // Seed tabs for new window
      ensureWindowTabsFor(created)
      return [...prev, created]
    })
  }
  launchRef.current = launch

  function close(appId: string){
    // Animate close before removing
    const DURATION = CLOSE_MS
    setOpen(prev => prev.map(w => w.id === appId ? { ...w, anim: 'close' } : w))
    setTimeout(()=>{
      setOpen(prev => prev.filter(w => w.id !== appId))
    }, DURATION)
  }

  function minimize(appId: string){
    const DURATION = MINIMIZE_MS
    setOpen(prev => prev.map(w => w.id === appId ? { ...w, anim: 'minimize' } : w))
    setTimeout(()=>{
      setOpen(prev => prev.map(w => w.id === appId ? { ...w, minimized: true, anim: undefined } : w))
    }, DURATION)
  }

  function focus(appId: string){
    setOpen(prev => {
      const idx = prev.findIndex(w => w.id === appId)
      if (idx < 0) return prev
      return [...prev.slice(0, idx), ...prev.slice(idx+1), prev[idx]]
    })
  }

  const saveGeometries = (updater: (g: Record<string,{left:number;top:number;width:number;height:number}>)=>Record<string,{left:number;top:number;width:number;height:number}>) => {
    setWindowGeometries(prev => {
      const next = updater(prev)
      if (userMode === 'auth' && !skipGeometryPersistenceRef.current) saveWindowGeometries(next)
      return next
    })
  }

  function updateWindow(appId: string, partial: Partial<App>){
    setOpen(prev => prev.map(w => w.id === appId ? { ...w, ...partial } : w))
    if ('left' in partial || 'top' in partial || 'width' in partial || 'height' in partial){
      saveGeometries(prev => {
        const cur = prev[appId] || { left: 90, top: 90, width: 720, height: 720 }
        return { ...prev, [appId]: { left: partial.left ?? cur.left, top: partial.top ?? cur.top, width: partial.width ?? cur.width, height: partial.height ?? cur.height } }
      })
    }
  }

  const resolveDialTargetAppId = (preferredId: string | null | undefined): string | null => {
    if (preferredId) {
      const exists = openWindowsRef.current.find(w => w.id === preferredId)
      if (exists) return exists.id
    }
    const top = openWindowsRef.current.length ? openWindowsRef.current[openWindowsRef.current.length - 1] : null
    return top ? top.id : null
  }

  const getDialAvailability = (hasWindow: boolean): Record<DialOption, boolean> => {
    return {
      expand: hasWindow,
      move: hasWindow,
      close: hasWindow,
      chat: true,
    }
  }

  const startDialSession = (params: { pointerId: number; clientX: number; clientY: number; source: 'native' | 'iframe'; targetAppId?: string | null }) => {
    const targetId = resolveDialTargetAppId(params.targetAppId ?? null)
    const availability = getDialAvailability(Boolean(targetId))
    const existing = dialSessionRef.current
    if (existing) endDial()
    dialSessionRef.current = {
      pointerId: params.pointerId,
      originX: params.clientX,
      originY: params.clientY,
      targetAppId: targetId,
      source: params.source,
    }
    setDialState({
      x: params.clientX,
      y: params.clientY,
      active: null,
      distance: 0,
      available: availability,
    })

    const keyListener = (evt: KeyboardEvent) => {
      if (evt.key === 'Escape') {
        endDial()
      }
    }
    const listeners: {
      move?: (evt: PointerEvent) => void
      up?: (evt: PointerEvent) => void
      cancel?: (evt: PointerEvent) => void
      key?: (evt: KeyboardEvent) => void
    } = { key: keyListener }

    if (params.source === 'native') {
      const moveListener = (evt: PointerEvent) => {
        const session = dialSessionRef.current
        if (!session || session.source !== 'native' || session.pointerId !== evt.pointerId) return
        evt.preventDefault()
        updateDialVisuals(evt.clientX, evt.clientY)
      }
      const upListener = (evt: PointerEvent) => {
        const session = dialSessionRef.current
        if (!session || session.source !== 'native' || session.pointerId !== evt.pointerId) return
        evt.preventDefault()
        const result = updateDialVisuals(evt.clientX, evt.clientY)
        endDial()
        if (result?.option) {
          executeDialSelection(result.option, session.targetAppId, evt.clientX, evt.clientY)
        }
      }
      const cancelListener = (evt: PointerEvent) => {
        const session = dialSessionRef.current
        if (!session || session.source !== 'native' || session.pointerId !== evt.pointerId) return
        evt.preventDefault()
        endDial()
      }
      listeners.move = moveListener
      listeners.up = upListener
      listeners.cancel = cancelListener
      window.addEventListener('pointermove', moveListener, { passive: false })
      window.addEventListener('pointerup', upListener, { passive: false })
      window.addEventListener('pointercancel', cancelListener, { passive: false })
    }

    window.addEventListener('keydown', keyListener)
    dialListenersRef.current = listeners
  }
  startDialSessionRef.current = startDialSession

  const endDial = () => {
    const listeners = dialListenersRef.current
    if (listeners) {
      if (listeners.move) window.removeEventListener('pointermove', listeners.move)
      if (listeners.up) window.removeEventListener('pointerup', listeners.up)
      if (listeners.cancel) window.removeEventListener('pointercancel', listeners.cancel)
      if (listeners.key) window.removeEventListener('keydown', listeners.key)
    }
    dialListenersRef.current = null
    dialSessionRef.current = null
    setDialState(null)
  }

  const updateDialVisuals = (clientX: number, clientY: number) => {
    const session = dialSessionRef.current
    if (!session) return null
    const hasWindow = Boolean(session.targetAppId && openWindowsRef.current.some(w => w.id === session.targetAppId))
    const dx = clientX - session.originX
    const dy = clientY - session.originY
    const distance = Math.sqrt(dx * dx + dy * dy)
    const option = determineDialOption(dx, dy, distance, hasWindow)
    const availability = getDialAvailability(hasWindow)
    setDialState(prev => prev ? { ...prev, active: option, distance, available: availability } : prev)
    return { option, distance, hasWindow }
  }
  updateDialVisualsRef.current = updateDialVisuals

  function executeDialSelection(option: DialOption, appId: string | null, pointerX: number, pointerY: number) {
    if (option === 'chat') {
      try { window.parent?.postMessage({ type: 'FYOS_OPEN_CHAT' }, '*') } catch {}
      return
    }
    if (!appId) return
    const target = openWindowsRef.current.find(w => w.id === appId)
    if (!target) return
    focus(appId)
    if (option === 'close') {
      close(appId)
      return
    }
    if (option === 'expand') {
      try {
        const vw = window.innerWidth
        const vh = window.innerHeight
        const M = 12
        const left = SIDEBAR_WIDTH + M
        const top = M
        const width = Math.max(0, vw - SIDEBAR_WIDTH - (M * 2))
        const height = Math.max(0, vh - (M * 2))
        updateWindow(appId, { left, top, width, height })
      } catch {}
      return
    }
    if (option === 'move') {
      startMoveSession(appId, pointerX, pointerY)
    }
  }
  executeDialSelectionRef.current = executeDialSelection

  const applyMoveSessionPosition = (session: NonNullable<typeof moveSessionRef.current>, clientX: number, clientY: number) => {
    const rawLeft = clientX - session.offsetX
    const rawTop = clientY - session.offsetY
    const clamped = clampToViewport(rawLeft, rawTop, session.width, session.height)
    updateWindow(session.appId, { left: clamped.left, top: clamped.top })
  }

  const scheduleMoveSessionApply = () => {
    if (moveSessionFrameRef.current != null) return
    moveSessionFrameRef.current = requestAnimationFrame(() => {
      moveSessionFrameRef.current = null
      const session = moveSessionRef.current
      if (!session || session.pendingX == null || session.pendingY == null) return
      applyMoveSessionPosition(session, session.pendingX, session.pendingY)
    })
  }

  const endMoveSession = (persist = true) => {
    const session = moveSessionRef.current
    const listenersActive = Boolean(session)
    moveSessionRef.current = null
    if (moveSessionFrameRef.current != null) {
      cancelAnimationFrame(moveSessionFrameRef.current)
      moveSessionFrameRef.current = null
    }
    if (listenersActive) {
      window.removeEventListener('pointermove', onMoveSessionPointerMove)
      window.removeEventListener('pointerdown', onMoveSessionPointerDown, true)
      window.removeEventListener('pointerup', onMoveSessionPointerUp, true)
      window.removeEventListener('pointercancel', onMoveSessionPointerCancel, true)
      window.removeEventListener('keydown', onMoveSessionKeyDown)
      try { document.body.classList.remove('desktop-window-moving') } catch {}
    }
    skipGeometryPersistenceRef.current = false
    if (persist && session && isMountedRef.current) {
      const latest = openWindowsRef.current.find(w => w.id === session.appId)
      if (latest) {
        const geom = resolveAppGeometry(latest)
        saveGeometries(prev => ({ ...prev, [session.appId]: geom }))
      }
    }
    if (isMountedRef.current) setMovingWindowId(null)
  }
  endMoveSessionRef.current = endMoveSession

  const onMoveSessionPointerMove = (evt: PointerEvent) => {
    const session = moveSessionRef.current
    if (!session) return
    evt.preventDefault()
    session.pendingX = evt.clientX
    session.pendingY = evt.clientY
    scheduleMoveSessionApply()
  }

  const onMoveSessionPointerUp = (evt: PointerEvent) => {
    const session = moveSessionRef.current
    if (!session) return
    if (session.pointerId !== null && session.pointerId !== evt.pointerId) return
    evt.preventDefault()
    evt.stopPropagation()
    endMoveSession()
  }

  const onMoveSessionPointerCancel = (evt: PointerEvent) => {
    const session = moveSessionRef.current
    if (!session) return
    if (session.pointerId !== null && session.pointerId !== evt.pointerId) return
    evt.preventDefault()
    endMoveSession()
  }

  const onMoveSessionPointerDown = (evt: PointerEvent) => {
    const session = moveSessionRef.current
    if (!session) return
    if (evt.button !== 0) {
      evt.preventDefault()
      return
    }
    evt.preventDefault()
    evt.stopPropagation()
    session.pointerId = evt.pointerId
    window.addEventListener('pointerup', onMoveSessionPointerUp, true)
    window.addEventListener('pointercancel', onMoveSessionPointerCancel, true)
  }

  const onMoveSessionKeyDown = (evt: KeyboardEvent) => {
    if (evt.key === 'Escape') {
      endMoveSession()
    }
  }

  const startMoveSession = (appId: string, pointerX: number, pointerY: number) => {
    const target = openWindowsRef.current.find(w => w.id === appId)
    if (!target) return
    endMoveSession()
    skipGeometryPersistenceRef.current = true
    const geom = resolveAppGeometry(target)
    moveSessionRef.current = {
      appId,
      offsetX: pointerX - geom.left,
      offsetY: pointerY - geom.top,
      width: geom.width,
      height: geom.height,
      pointerId: null,
      pendingX: null,
      pendingY: null,
    }
    try { document.body.classList.add('desktop-window-moving') } catch {}
    window.addEventListener('pointermove', onMoveSessionPointerMove, { passive: false })
    window.addEventListener('pointerdown', onMoveSessionPointerDown, true)
    window.addEventListener('keydown', onMoveSessionKeyDown)
    if (isMountedRef.current) setMovingWindowId(appId)
    applyMoveSessionPosition(moveSessionRef.current, pointerX, pointerY)
  }

  const handleDesktopPointerDown = (e: React.PointerEvent<HTMLDivElement>) => {
    if (e.button !== 2) return
    e.preventDefault()
    e.stopPropagation()
    const appIdFromTarget = (e.target as HTMLElement | null)?.closest('[data-app-id]')?.getAttribute('data-app-id') || null
    if (moveSessionRef.current) {
      endMoveSession()
    }
    startDialSession({
      pointerId: e.pointerId,
      clientX: e.clientX,
      clientY: e.clientY,
      source: 'native',
      targetAppId: appIdFromTarget,
    })
  }


  useEffect(() => {
    return () => {
      isMountedRef.current = false
      endMoveSessionRef.current?.(false)
      const listeners = dialListenersRef.current
      if (listeners) {
        if (listeners.move) window.removeEventListener('pointermove', listeners.move)
        if (listeners.up) window.removeEventListener('pointerup', listeners.up)
        if (listeners.cancel) window.removeEventListener('pointercancel', listeners.cancel)
        if (listeners.key) window.removeEventListener('keydown', listeners.key)
      }
      dialListenersRef.current = null
      dialSessionRef.current = null
      try { document.body.classList.remove('desktop-window-moving') } catch {}
    }
  }, [])


  useEffect(()=>{
    function onMoveDoc(e: MouseEvent){
      const d = dragIconRef.current
      if (!d.id) return
      const dx = e.clientX - d.startX
      const dy = e.clientY - d.startY
      const threshold = 4
      if (!d.dragging && Math.hypot(dx, dy) > threshold){
        d.dragging = true
        suppressClickRef.current.add(d.id)
      }
      if (d.dragging){
        setIconPositions(prev => ({
          ...prev,
          [d.id!]: { left: Math.max(4, d.startLeft + dx), top: Math.max(40, d.startTop + dy) }
        }))
      }
    }
    function onUp(){
      const d = dragIconRef.current
      if (d.id){
        // persist positions
        setTimeout(()=>{
          try{ if (userModeRef.current === 'auth') localStorage.setItem(LS_ICON_POS_KEY, JSON.stringify(iconPositionsRef.current)) } catch{}
        }, 0)
      }
      dragIconRef.current = { id: null, startX: 0, startY: 0, startLeft: 0, startTop: 0, dragging: false }
      // allow clicks again after a tick
      setTimeout(()=> suppressClickRef.current.clear(), 0)
    }
    document.addEventListener('mousemove', onMoveDoc)
    document.addEventListener('mouseup', onUp)
    function onResize(){
      // Re-clamp all windows into viewport on viewport resize (relaxed)
      setOpen(prev => prev.map(w => {
        const g = resolveAppGeometry(w)
        const { left, top } = clampToViewport(g.left, g.top, g.width, g.height)
        return { ...w, left, top }
      }))
    }
    window.addEventListener('resize', onResize)
    return ()=>{
      document.removeEventListener('mousemove', onMoveDoc)
      document.removeEventListener('mouseup', onUp)
      window.removeEventListener('resize', onResize)
    }
  }, [])

  const iconPositionsRef = useRef(iconPositions)
  useEffect(()=>{ iconPositionsRef.current = iconPositions }, [iconPositions])

  // keep setter for bounceIcon compatibility (state value unused)
  const [, setLaunchingIconId] = useState<string | null>(null)

  // Listen for requests to auto-open an app
  useEffect(()=>{
    function onMessage(e: MessageEvent){
      const payload = e.data
      if (isContextPointerMessage(payload)) {
        if (payload.phase === 'down') {
          const candidateAppId = typeof payload.appId === 'string' ? payload.appId : null
          if (moveSessionRef.current) {
            endMoveSessionRef.current?.()
          }
          startDialSessionRef.current?.({
            pointerId: payload.pointerId,
            clientX: payload.clientX,
            clientY: payload.clientY,
            source: 'iframe',
            targetAppId: candidateAppId,
          })
        } else {
          const session = dialSessionRef.current
          if (!session || session.source !== 'iframe' || session.pointerId !== payload.pointerId) return
          if (payload.phase === 'move') {
            updateDialVisualsRef.current?.(payload.clientX, payload.clientY)
          } else if (payload.phase === 'up') {
            const result = updateDialVisualsRef.current?.(payload.clientX, payload.clientY)
            endDial()
            if (result?.option && executeDialSelectionRef.current) {
              executeDialSelectionRef.current(result.option, session.targetAppId, payload.clientX, payload.clientY)
            }
          } else if (payload.phase === 'cancel') {
            endDial()
          }
        }
        return
      }
      if (!payload || typeof payload !== 'object') return
      const record = payload as { [key: string]: unknown }
      const typeValue = typeof record.type === 'string' ? record.type : ''
      if (typeValue === 'FYOS_AGENT_RUN_STARTED' || typeValue === 'FYOS_AGENT_RUN_ENDED') {
        try {
          const frames = Array.from(document.querySelectorAll('iframe')) as HTMLIFrameElement[]
          frames.forEach(f => {
            try { f.contentWindow?.postMessage(payload, '*') } catch {}
          })
        } catch {}
        return
      }
      if (typeValue === EVT_USER_MODE) {
        const raw = (record.payload as { mode?: unknown } | undefined)?.mode
        if (raw === 'auth' || raw === 'anon') setUserMode(raw)
        return
      }
      if (typeValue === EVT_SET_THEME) {
        const themePayload = record.payload as { mode?: unknown; value?: unknown } | undefined
        if (themePayload && (themePayload.mode === 'image' || themePayload.mode === 'gradient') && typeof themePayload.value === 'string') {
          setTheme({ mode: themePayload.mode, value: themePayload.value })
        }
        return
      }
      if (typeValue === 'FYOS_REQUEST_DESKTOP_STATE') {
        try {
          const payload = (userModeRef.current === 'auth')
            ? { iconPositions: loadIconPositions(), windowGeometries: loadWindowGeometries(), windowTabs: loadWindowTabs(), appOrder: loadAppOrder() }
            : { iconPositions: iconPositionsRef.current, windowGeometries: windowGeometriesRef.current, windowTabs: windowTabsRef.current, appOrder: appOrderRef.current }
          window.parent?.postMessage({ type: 'FYOS_DESKTOP_STATE', payload }, '*')
        } catch {}
        return
      }
      if (typeValue !== EVT_OPEN_APP) return
      const rawApp = record.app
      const app: App | null = (rawApp && typeof rawApp === 'object') ? rawApp as App : null
      if (!app || !app.id) return
      // If app exists in registry, prefer that canonical entry
      const existing = appsByIdRef.current[app.id]
      const toLaunch = existing || app
      // Ensure it has a reasonable path shape
      if (!toLaunch.path) return
      // visually bounce icon if present
      bounceIcon(setLaunchingIconId, toLaunch.id)
      launchRef.current?.(toLaunch)
      // If icon position missing, assign one and persist
      setIconPositions(prev => {
        if (prev[toLaunch.id]) return prev
        const nextPos = findNextIconPosition(prev, appsRef.current || [])
        const next = { ...prev, [toLaunch.id]: nextPos }
        if (userModeRef.current === 'auth') saveIconPositions(next)
        return next
      })
    }
    window.addEventListener('message', onMessage)
    return ()=> { window.removeEventListener('message', onMessage) }
  }, [])

  const brandStyle: React.CSSProperties = {
    left: `calc(50% + ${SIDEBAR_WIDTH / 2}px)`,
    top: '50%',
  }

  const wallpaperStyle: React.CSSProperties = theme?.mode === 'gradient'
    ? { background: theme.value }
    : { backgroundImage: `url(${theme?.value || '/2.webp'})`, backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }

  return (
    <div
      className="desktop"
      style={{ background: 'transparent', color: 'inherit' }}
      onPointerDown={handleDesktopPointerDown}
      onContextMenu={(e)=>{ e.preventDefault() }}
    >
      <div className="wallpaper" style={wallpaperStyle} />
      <div className="wallpaper-glass" />
      {/* MenuBar removed */}

      {userMode === 'anon' && (
        <div style={{ position: 'fixed', top: 8, left: 110, right: 12, zIndex: 9999, pointerEvents: 'none' }}>
          <div style={{ display: 'inline-flex', alignItems: 'center', gap: 8, padding: '8px 12px', borderRadius: 999, background: 'rgba(255,255,255,0.8)', backdropFilter: 'saturate(140%) blur(6px)', color: '#111', border: '1px solid rgba(0,0,0,0.08)', pointerEvents: 'auto' }}>
            <span style={{ fontSize: 12 }}>Youâ€™re not signed in. Work wonâ€™t be saved.</span>
          </div>
        </div>
      )}

      {/* Sidebar removed */}


      {/* Center brand adjusted for host sidebar width */}
      <div className="center-brand" style={brandStyle} aria-hidden={open.length > 0}>
        <div className="brand-text">fromyou</div>
      </div>

      {/* Main desktop area (windows); icons grid removed */}
      <div className="desktop-main" />

      {/* Desktop icons grid (draggable) */}
      <div className="desktop-icons" aria-label="Desktop icons">
        {(appOrder.length ? appOrder : apps.map(a=>a.id)).map(id => {
          const a = appsByIdRef.current[id]
          if (!a) return null
          const p = iconPositions[id] || getRightAlignedFallback()
          return (
            <div
              key={id}
              className={`desktop-icon`}
              style={{ left: p.left, top: p.top }}
              onMouseDown={(e)=>{
                if (e.button !== 0) return
                e.preventDefault()
                const cur = iconPositions[id] || getRightAlignedFallback()
                dragIconRef.current = { id, startX: e.clientX, startY: e.clientY, startLeft: cur.left, startTop: cur.top, dragging: false }
              }}
              onClick={()=>{
                if (suppressClickRef.current.has(id)) return
                launch(a)
              }}
            >
              <div className="glyph">{a.icon ?? 'ğŸ“¦'}</div>
              <div style={{ marginTop: 6, fontSize: 11, color: '#e5e7eb', textAlign: 'center', maxWidth: 64, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{a.name}</div>
            </div>
          )
        })}
      </div>

      {dialState && (
        <div className="context-dial-overlay" style={{ left: dialState.x, top: dialState.y }}>
          <div className="context-dial">
            <svg className="dial-svg" viewBox={`0 0 ${DIAL_VIEWBOX} ${DIAL_VIEWBOX}`} aria-hidden>
              <circle className="dial-ring" cx={DIAL_CENTER} cy={DIAL_CENTER} r={DIAL_OUTER_RADIUS + 6} />
              {DIAL_OPTIONS.map(option => {
                const meta = DIAL_OPTION_META[option]
                const active = dialState.active === option
                const disabled = !dialState.available[option]
                const classes = ['dial-slice']
                if (active) classes.push('active')
                if (disabled) classes.push('disabled')
                return (
                  <path
                    key={option}
                    className={classes.join(' ')}
                    d={buildDialPath(meta.angle)}
                  />
                )
              })}
              <circle className="dial-inner" cx={DIAL_CENTER} cy={DIAL_CENTER} r={DIAL_INNER_RADIUS - 8} />
            </svg>
            {DIAL_OPTIONS.map(option => {
              const meta = DIAL_OPTION_META[option]
              const active = dialState.active === option
              const disabled = !dialState.available[option]
              const pos = computeLabelPosition(meta.angle)
              const classes = ['dial-label-node']
              if (active) classes.push('active')
              if (disabled) classes.push('disabled')
              return (
                <div key={option} className={classes.join(' ')} style={{ left: `${pos.x}px`, top: `${pos.y}px` }}>
                  <span className="dial-ico" aria-hidden>{meta.icon}</span>
                </div>
              )
            })}
            <div className={`dial-center${dialState.distance < DIAL_THRESHOLD ? ' active' : ''}`}>
              <span className="dial-center-label">Cancel</span>
            </div>
          </div>
        </div>
      )}

      {open.map((app, idx) => {
        const tabsState = windowTabs[app.id] || { activeTabId: '', tabs: [] };
        return (
          <Window
            key={app.id}
            app={app}
            zIndex={100 + idx}
            onClose={()=>close(app.id)}
            onMinimize={()=>minimize(app.id)}
            onFocus={()=>focus(app.id)}
            onMove={(pos)=>updateWindow(app.id, pos)}
            onResize={(size)=>updateWindow(app.id, size)}
            tabs={tabsState.tabs}
            activeTabId={tabsState.activeTabId}
            onTabActivate={(id)=>activateTab(app.id, id)}
            onTabClose={(id)=>closeTab(app.id, id)}
            onNewTab={()=>addTab(app.id)}
            onOpenAppInTab={(tabId, a)=>openAppIntoTab(app.id, tabId, a)}
            availableApps={apps}
            isBeingMoved={movingWindowId === app.id}
          />
        );
      })}
    </div>
  )
}
ªstyles.css¡f¡cÅ4Ÿ/* Base variables and layout */
:root{--bar:#f6f6f6;--text:#f7fafc;--muted:#cbd5e1;--bg:#0b1020;--glass:rgba(255,255,255,0.25);--dock:rgba(255,255,255,0.3);
  /* Desktop gradient themes */
  --desktop-gradient-1: linear-gradient(180deg, #0b1020 0%, #1e2760 60%, #462e7e 100%);
  --desktop-gradient-2: linear-gradient(180deg, #0f172a 0%, #1e293b 50%, #0b1020 100%);
  --desktop-gradient-3: linear-gradient(180deg, #0b1020 0%, #0b3a23 60%, #04210f 100%);
  --desktop-gradient-4: linear-gradient(180deg, #12081f 0%, #3a103a 60%, #7a1a4a 100%);
  --desktop-gradient-5: linear-gradient(180deg, #0b1020 0%, #0e223f 45%, #0f1b2e 100%);
  --desktop-gradient: var(--desktop-gradient-1);
}
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap');
*{box-sizing:border-box}
body{font-family:Inter,ui-sans-serif,system-ui,Arial}
.desktop{height:100%;width:100%;position:relative;color:#f7fafc;overflow:hidden;overscroll-behavior:none}
.wallpaper{position:absolute;inset:0;background:var(--desktop-gradient)}
.wallpaper-glass{position:absolute;inset:0;pointer-events:none;background:rgba(255,255,255,0.02);backdrop-filter:saturate(160%) blur(24px);-webkit-backdrop-filter:saturate(160%) blur(24px)}
.menubar{position:absolute;left:0;right:0;top:0;height:28px;display:flex;align-items:center;gap:12px;padding:0 12px;background:linear-gradient(to bottom,rgba(255,255,255,.65),rgba(255,255,255,.3));backdrop-filter:saturate(2) blur(10px);border-bottom:1px solid rgba(255,255,255,.35)}
.menubar .title{font-weight:600;font-size:12px}
.menubar .right{margin-left:auto;font-size:12px;color:var(--muted)}

/* Dock removed */

/* Desktop icons (absolute + draggable) */
.desktop-icons{position:absolute;inset:0}
.desktop-icon{position:absolute;width:64px;text-align:center;color:white;cursor:default;user-select:none;transition:transform .15s ease, filter .2s ease;will-change:transform,filter}
.desktop-icon:hover{transform:translateY(-6px) scale(1.1);filter:drop-shadow(0 8px 12px rgba(0,0,0,.35))}
.desktop-icon.launching{animation:icon-bounce .6s cubic-bezier(.28,.84,.42,1)}
.desktop-icon .glyph{transition:inherit}

@keyframes icon-bounce{
  0%{transform:translateY(0) scale(1)}
  30%{transform:translateY(-8px) scale(1.08)}
  60%{transform:translateY(0) scale(1)}
  85%{transform:translateY(-4px) scale(1.04)}
  100%{transform:translateY(0) scale(1)}
}
.desktop-icon .glyph{font-size:36px;line-height:36px}

/* Window */
.window{position:absolute;top:90px;left:90px;min-width:280px;min-height:160px;border-radius:0;overflow:hidden;contain:layout paint;backface-visibility:hidden;
  /* Thin luminous frame using gradient border technique */
  border:1px solid transparent;
  background:
    linear-gradient(to bottom, rgba(255,255,255,0.08), rgba(255,255,255,0.02)) padding-box,
    linear-gradient(to bottom, rgba(255,255,255,0.20), rgba(56,189,248,0.28)) border-box;
  /* Glass surface */
  -webkit-backdrop-filter:saturate(180%) blur(18px);
  backdrop-filter:saturate(180%) blur(18px);
  /* Subtle outer drop */
  box-shadow:0 14px 36px rgba(0,0,0,.28);
  /* Keep surface slightly translucent but not overly dark */
  color:#e5e7eb;
}
.window.opening{animation:mac-window-open-spring .34s cubic-bezier(.2,.8,.2,1)}
.window.closing{animation:mac-window-close .22s cubic-bezier(.2,.8,.2,1) forwards}
.window.minimizing{animation:mac-window-minimize .22s cubic-bezier(.2,.8,.2,1) forwards}
.window.minimized{opacity:0;transform:translateY(8px) scale(.92);pointer-events:none;visibility:hidden}
.window .titlebar{display:none}
.traffic{display:flex;gap:6px;margin-right:6px}
.traffic .b{width:12px;height:12px;border-radius:999px;border:1px solid rgba(56,189,248,.65)}
.b.red{background:#ef4444;border-color:#fca5a5}
.b.yellow{background:#f59e0b;border-color:#fcd34d}
.b.green{background:#22c55e;border-color:#86efac}
.window .title{font-weight:600;font-size:12px;color:#e5e7eb}
.window .content{position:absolute;top:32px;left:0;right:0;bottom:0;padding:0;font-size:14px;color:#e5e7eb;overflow:hidden;user-select:text;-webkit-user-select:text;background:rgba(12,18,36,0.02)}

@keyframes mac-window-open-spring{
  0%{opacity:0;transform:translateY(10px) scale(.92)}
  55%{opacity:1;transform:translateY(0) scale(1.04)}
  100%{opacity:1;transform:translateY(0) scale(1)}
}
@keyframes mac-window-close{
  0%{opacity:1;transform:translateY(0) scale(1)}
  100%{opacity:0;transform:translateY(6px) scale(.98)}
}
@keyframes mac-window-minimize{
  0%{opacity:1;transform:translateY(0) scale(1)}
  100%{opacity:0;transform:translateY(12px) scale(.85)}
}

/* Resize handles (corners) */
.resize-handle{position:absolute;width:12px;height:12px;background:transparent;user-select:none;-webkit-user-select:none;touch-action:none}
.resize-handle.nw{left:-1px;top:-1px;cursor:nwse-resize}
.resize-handle.ne{right:-1px;top:-1px;cursor:nesw-resize}
.resize-handle.sw{left:-1px;bottom:-1px;cursor:nesw-resize}
.resize-handle.se{right:-1px;bottom:-1px;cursor:nwse-resize}

/* While any window is resizing/moving, disable selection globally and hint compositing */
.desktop-resizing, .desktop-resizing *{user-select:none;-webkit-user-select:none}
.window.resizing{will-change:width,height,transform;box-shadow:0 8px 18px rgba(0,0,0,.18);outline:2px solid rgba(56,189,248,.65)}
.desktop-resizing .content iframe{pointer-events:none}
.desktop-window-moving, .desktop-window-moving *{cursor:grabbing !important;user-select:none;-webkit-user-select:none}
.window.moving{box-shadow:0 26px 56px rgba(59,130,246,0.38);border-color:rgba(191,219,254,0.65)}


/* Tabstrip */
/* Tabstrip */
.tabstrip{position:relative; display:flex; align-items:center; gap:6px; height:32px; padding:0 8px; border-bottom:1px solid rgba(255,255,255,.12); background:linear-gradient(to bottom, rgba(255,255,255,.10), rgba(255,255,255,.02)); overflow:hidden; cursor:move; user-select:none; -webkit-user-select:none}
.tab{display:inline-flex; align-items:center; gap:6px; height:24px; padding:0 8px; border:1px solid transparent; border-radius:6px; background:transparent; color:#e5e7eb; cursor:default; user-select:none}
.tab.active{background:rgba(255,255,255,0.10); border-color:rgba(255,255,255,0.18)}
.tab:hover{background:rgba(255,255,255,0.06)}
.tab-ico{font-size:12px}
.tab-close{margin-left:6px; opacity:.6; cursor:pointer}
.tab-close:hover{opacity:1}
.tab-add{margin-left:auto; height:22px; width:22px; border-radius:4px; background:rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.18); color:#e5e7eb; line-height:20px; text-align:center}
.tab-gradient-left,.tab-gradient-right{position:absolute; top:0; bottom:0; width:24px; pointer-events:none}
.tab-gradient-left{left:0; background:linear-gradient(to right, rgba(255,255,255,0.14), rgba(255,255,255,0))}
.tab-gradient-right{right:0; background:linear-gradient(to left, rgba(255,255,255,0.14), rgba(255,255,255,0))}
.tab-insert-marker{position:absolute; bottom:3px; width:2px; height:18px; background:#38bdf8; border-radius:1px; display:none}

/* Window glass controls (no traffic lights) */
.win-controls{display:flex; gap:6px; margin-left:8px}
.ctl{width:14px; height:14px; border:1px solid rgba(255,255,255,0.22); border-radius:3px; background:linear-gradient(to bottom, rgba(255,255,255,0.12), rgba(255,255,255,0.02)); box-shadow:inset 0 1px 0 rgba(255,255,255,0.22), 0 1px 1px rgba(0,0,0,0.22)}
.ctl:hover{background:linear-gradient(to bottom, rgba(255,255,255,0.18), rgba(255,255,255,0.06))}
.ctl-close{outline:0}
.ctl-min{outline:0}
.ctl-expand{outline:0}

/* Launcher Grid */
.launcher-grid{display:grid; grid-template-columns:repeat(auto-fill, minmax(120px,1fr)); gap:12px; padding:12px}
.launcher-item{display:flex; flex-direction:column; align-items:center; gap:8px; padding:12px; border:1px solid rgba(255,255,255,0.14); border-radius:10px; background:rgba(12,18,36,0.45); backdrop-filter:saturate(150%) blur(8px); -webkit-backdrop-filter:saturate(150%) blur(8px); color:#f7fafc}
.launcher-item .glyph{font-size:24px}

/* Misc */
.badge{font-size:11px;color:#e5e7eb;background:rgba(12,18,36,0.55);border:1px solid rgba(255,255,255,0.18);border-radius:999px;padding:2px 8px}
.muted{color:#6b7280}
.list{padding-left:16px}

/* HMR mask to suppress white flashes during full reloads/HMR swaps */
.hmr-mask{position:fixed;inset:0;background:#0b1020;opacity:0;pointer-events:none;transition:opacity .12s ease;z-index:2147483646}
.hmr-mask.active{opacity:.9}

/* Sidebar */
.desktop-sidebar{background:rgba(12,18,36,0.42);border-right:1px solid rgba(255,255,255,0.14);backdrop-filter:saturate(150%) blur(14px);-webkit-backdrop-filter:saturate(150%) blur(14px);color:#f7fafc}
.desktop-sidebar .sidebar-item:hover{background:rgba(255,255,255,0.08)}
.desktop-sidebar .sidebar-item.active{background:rgba(255,255,255,0.12)}

/* Boot screen */
.bootscreen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:2147483000}
.boot-panel{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:14px;width:min(840px,90vw);padding:16px;border:1px solid rgba(255,255,255,0.14);border-radius:12px;background:rgba(12,18,36,0.55);backdrop-filter:saturate(150%) blur(18px);-webkit-backdrop-filter:saturate(150%) blur(18px);color:#f7fafc}
.boot-title{grid-column:1/-1;font-weight:600;margin-bottom:4px}
.boot-card{height:96px;border-radius:10px;border:1px solid rgba(255,255,255,0.18);overflow:hidden;cursor:pointer;box-shadow:0 10px 28px rgba(0,0,0,.28)}
.boot-card:focus,.boot-card:hover{outline:2px solid rgba(56,189,248,0.65);outline-offset:0}

/* Center brand & app row */
.center-brand{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;z-index:30;pointer-events:none}
.brand-text{font-family:'Playfair Display', serif;font-weight:600;font-size:56px;line-height:1;color:#f7fafc;text-shadow:0 2px 8px rgba(0,0,0,0.35)}
.app-row{display:flex;gap:12px;margin-top:14px;pointer-events:auto}
.app-chip{display:flex;flex-direction:column;align-items:center;justify-content:center;width:96px;height:96px;border:1px solid rgba(255,255,255,0.16);border-radius:12px;background:rgba(12,18,36,0.45);backdrop-filter:saturate(150%) blur(10px);-webkit-backdrop-filter:saturate(150%) blur(10px);color:#f7fafc;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease, background .12s ease}
.app-chip:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(0,0,0,0.28);background:rgba(12,18,36,0.6)}
.app-chip .ico{font-size:24px;line-height:1}
.app-chip .lbl{margin-top:6px;font-size:12px;white-space:nowrap;max-width:84px;overflow:hidden;text-overflow:ellipsis}

/* Context dial */
.context-dial-overlay{position:fixed;z-index:2147483200;pointer-events:none}
.context-dial{position:absolute;left:0;top:0;width:224px;height:224px;transform:translate(-50%,-50%);pointer-events:none}
.context-dial::before{content:"";position:absolute;inset:0;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.22),rgba(255,255,255,0.08));box-shadow:0 20px 44px rgba(15,23,42,0.28);border:1px solid rgba(255,255,255,0.18);backdrop-filter:saturate(180%) blur(24px);-webkit-backdrop-filter:saturate(180%) blur(24px);z-index:0}
.dial-svg{position:absolute;inset:0;width:100%;height:100%;filter:drop-shadow(0 12px 28px rgba(15,23,42,0.24));z-index:1}
.dial-ring{fill:transparent;stroke:rgba(255,255,255,0.26);stroke-width:1}
.dial-slice{fill:rgba(255,255,255,0.06);stroke:rgba(255,255,255,0.22);stroke-width:1.4;stroke-linejoin:round;stroke-linecap:round;transition:fill .18s ease,stroke .18s ease,opacity .18s ease,filter .18s ease}
.dial-slice.disabled{opacity:.35;filter:saturate(0.7)}
.dial-slice.active{fill:rgba(255,255,255,0.26);stroke:rgba(255,255,255,0.5);filter:drop-shadow(0 16px 34px rgba(148,197,255,0.26))}
.dial-inner{fill:transparent;stroke:rgba(255,255,255,0.26);stroke-width:1}
.dial-label-node{position:absolute;display:flex;align-items:center;justify-content:center;transform:translate(-50%, -50%);font-size:12px;font-weight:500;color:rgba(14,31,48,0.72);text-shadow:0 6px 12px rgba(15,23,42,0.2);transition:color .18s ease,opacity .18s ease;z-index:2}
.dial-label-node.disabled{opacity:.45}
.dial-label-node.active{color:#0b1020}
.dial-label-node .dial-ico{font-size:22px;line-height:1;filter:drop-shadow(0 6px 12px rgba(0,0,0,0.25))}
.dial-center{position:absolute;left:50%;top:50%;width:86px;height:86px;border-radius:999px;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(255,255,255,0.5),rgba(255,255,255,0.26));border:1px solid rgba(255,255,255,0.44);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.18),0 14px 32px rgba(15,23,42,0.22);color:#0b1020;letter-spacing:.2em;font-size:10px;font-weight:600;text-transform:uppercase;transition:transform .18s ease,background .18s ease,color .18s ease,border-color .18s ease;z-index:3}
.dial-center::after{content:"";position:absolute;inset:14px;border-radius:999px;background:linear-gradient(160deg,rgba(255,255,255,0.28),rgba(255,255,255,0));opacity:0.75}
.dial-center.active{background:linear-gradient(160deg,rgba(255,255,255,0.88),rgba(255,255,255,0.6));border-color:rgba(255,255,255,0.78);transform:translate(-50%,-50%) scale(1.08);box-shadow:0 18px 36px rgba(148,197,255,0.38)}
.dial-center-label{position:relative;z-index:2}
®iframe-root.js¡f¡cÅöimport React, { StrictMode } from 'react'
import { createRoot as createReactRoot } from 'react-dom/client'

class ErrorBoundary extends React.Component {
  constructor(props){
    super(props)
    this.state = { error: null }
  }
  static getDerivedStateFromError(error){
    return { error }
  }
  componentDidCatch(error, info){
    try{ console.error('[App iframe] render error:', error, info) } catch{}
  }
  render(){
    const { error } = this.state
    if (error){
      const message = (error && (error.message || String(error))) || 'Unknown error'
      return React.createElement('div', {
        style: {
          height: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',
          background: 'rgba(255,255,255,0.75)', color: '#991b1b', padding: 16, textAlign: 'center'
        }, role: 'alert'
      },
      React.createElement('div', { style: { fontWeight: 600, marginBottom: 6 } }, 'This app crashed'),
      React.createElement('div', { style: { fontSize: 12, color: '#7f1d1d', whiteSpace: 'pre-wrap' } }, message),
      React.createElement('button', { onClick: ()=> location.reload(), style: { marginTop: 12, padding: '6px 10px', borderRadius: 6, border: '1px solid #fecaca', background: '#fee2e2', color: '#7f1d1d' } }, 'Reload app')
      )
    }
    return this.props.children
  }
}

export function createRoot(mountEl, Comp, name){
  const root = createReactRoot(mountEl)
  function Wrapper(){
    if (!Comp) return React.createElement('div', null, `Missing component: ${name || 'App'}`)
    return React.createElement(Comp)
  }
  root.render(
    React.createElement(StrictMode, null,
      React.createElement(ErrorBoundary, { name },
        React.createElement(Wrapper)
      )
    )
  )
  return root
}


¯iframe-root.tsx¡f¡cÅDimport React, { StrictMode, Component, ComponentType, ErrorInfo, ReactNode } from 'react'
import { createRoot as createReactRoot } from 'react-dom/client'

interface ErrorBoundaryProps {
  name?: string;
  children?: ReactNode;
}

interface ErrorBoundaryState {
  error: Error | null;
}

class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {
  constructor(props: ErrorBoundaryProps){
    super(props)
    this.state = { error: null }
  }
  static getDerivedStateFromError(error: Error): ErrorBoundaryState{
    return { error }
  }
  componentDidCatch(error: Error, info: ErrorInfo){
    try{ console.error('[App iframe] render error:', error, info) } catch{}
  }
  render(){
    const { error } = this.state
    if (error){
      const message = (error && (error.message || String(error))) || 'Unknown error'
      return React.createElement('div', {
        style: {
          height: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',
          background: 'rgba(255,255,255,0.75)', color: '#991b1b', padding: 16, textAlign: 'center'
        }, role: 'alert'
      },
      React.createElement('div', { style: { fontWeight: 600, marginBottom: 6 } }, 'This app crashed'),
      React.createElement('div', { style: { fontSize: 12, color: '#7f1d1d', whiteSpace: 'pre-wrap' } }, message),
      React.createElement('button', { onClick: ()=> location.reload(), style: { marginTop: 12, padding: '6px 10px', borderRadius: 6, border: '1px solid #fecaca', background: '#fee2e2', color: '#7f1d1d' } }, 'Reload app')
      )
    }
    return this.props.children
  }
}

export function createRoot(mountEl: HTMLElement, Comp: ComponentType | null | undefined, name?: string){
  const root = createReactRoot(mountEl)
  function Wrapper(){
    if (!Comp) return React.createElement('div', null, `Missing component: ${name || 'App'}`)
    return React.createElement(Comp)
  }
  root.render(
    React.createElement(StrictMode, null,
      React.createElement(ErrorBoundary, { name },
        React.createElement(Wrapper)
      )
    )
  )
  return root
}

£lib¡d€¨main.tsx¡f¡cÅ/import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import Desktop from './desktop/Desktop'
import './desktop/styles.css'

type ViteHotEvent = 'vite:beforeUpdate' | 'vite:afterUpdate' | 'full-reload'

type ViteHot = {
  on(event: ViteHotEvent, callback: () => void): void
}

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <Desktop />
  </StrictMode>
)

// Lightweight HMR anti-flash mask
const hot = (import.meta as ImportMeta & { hot?: ViteHot }).hot
if (hot) {
  try {
    const maskId = 'vite-hmr-mask'
    let mask = document.getElementById(maskId)
    const ensureMask = () => {
      if (!mask) {
        mask = document.createElement('div')
        mask.id = maskId
        mask.className = 'hmr-mask'
        document.body.appendChild(mask)
      }
      return mask as HTMLDivElement
    }
    const show = () => { ensureMask().classList.add('active') }
    const hideSoon = () => { setTimeout(() => ensureMask().classList.remove('active'), 120) }

    hot.on('vite:beforeUpdate', () => {
      // HMR update incoming; briefly mask
      show()
    })
    hot.on('vite:afterUpdate', () => {
      hideSoon()
    })
    hot.on('full-reload', () => {
      // Mask until the new page paints; keep active, browser reload will clear
      show()
    })
  } catch {}
}
±tsconfig.app.json¡f¡cÅP{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"]
}

­tsconfig.json¡f¡cÄê{
  "files": [],
  "references": [
    {
      "path": "./tsconfig.app.json"
    },
    {
      "path": "./tsconfig.node.json"
    }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}

²tsconfig.node.json¡f¡cÅ{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,

    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "noEmit": true
  },
  "include": ["vite.config.js"]
}

®vite.config.js¡f¡cÅŞimport path from "path"
import react from "@vitejs/plugin-react"
import { defineConfig } from "vite"

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  optimizeDeps: {
    noDiscovery: true,
    include: [
      'react',
      'react-dom',
      'react-dom/client',
      'react/jsx-runtime'
    ]
  },
  server: {
    host: true,
    port: 3000,
    hmr: {
      overlay: false
    }
  }
})